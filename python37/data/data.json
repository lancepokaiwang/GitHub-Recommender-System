[
    {
        "issue_id": 9041,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Patch license",
        "body": "According to the documentation: http://symfony.com/doc/current/cookbook/bundles/best_practices.html#directory-structure I think LICENSE files should be in meta folders in Symfony core bundles as well. If I'm mistaken you can close this pull request. Thanks.n",
        "issue_comments": 1,
        "pr_comments": 1,
        "pr_review_comments": 0,
        "committers": [
            "Peter Kokot"
        ],
        "changed_files": 4,
        "issue_created_by": "petk",
        "issue_closed_at": "2013-09-16"
    },
    {
        "issue_id": 9015,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Fix #6029 : Use setTimeZone if this method exists.",
        "body": "The php version is not a critical factor to choose the method, but we have to use setTimeZone, if it exists.n",
        "issue_comments": 0,
        "pr_comments": 0,
        "pr_review_comments": 0,
        "committers": [
            "dropfen"
        ],
        "changed_files": 1,
        "issue_created_by": "ghost",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 8969,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "[HttpFoundation] NativeSessionStorage regenerate",
        "body": "| Q | A |n| --- | --- |n| Bug fix? | yes |n| New feature? | no |n| BC breaks? | no |n| Deprecations? | no |n| Tests pass? | yes |n| Fixed tickets | #8460 |n| License | MIT |n| Doc PR |  |nnSince session_start is called by the regenerate function, then the 'started' flag of NativeSessionStorage have to be set to true. Otherwise, the variable $_SESSION is initiated and the exception u201dFailed to start the session: already started by PHP ($_SESSION is set).u201d is thrown.nnThis can be reproduced by clearing the session data (cookies) before authenticating with a method that does not require csrf (eg. using the confirmation link of FOSUserBundle).n",
        "issue_comments": 3,
        "pr_comments": 3,
        "pr_review_comments": 0,
        "committers": [
            "lancergr",
            "lancergr"
        ],
        "changed_files": 1,
        "issue_created_by": "lancergr",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 8942,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] TimeZoneType generating invalid HTML",
        "body": "Not sure if this only affects `TimeZoneType`, or other use cases of `ChoiceType`, but the following code:nn```n$builder->add('timezone', 'timezone');n```nnis creating HTML like the following (cut and reformatted):nn```n<select id=u201dform_timezoneu201d name=u201dform[timezone]u201d required=u201drequiredu201d>n    <optgroup label=u201dAfricau201d>n        <option value=u201dAfrica/Abidjanu201d>Abidjan</option>n        <!-- ... -->n    </optgroup>n    <!-- ... -->n</select>n```nnThe problem seems to be the use of **required**. validator.w3.org gives me this error:nn```nA select element with a required attribute and without a multiple attribute, and whose size is 1, must have a child option element.n```nn[This article](http://www.maxdesign.com.au/2012/11/03/select-required/) explains it; from my understanding, I think the problem is that if there is no possible way to select u201dnothingu201d (e.g. no option with a blank value), then it's not valid to specify required. In effect, the field is already required because the UI forces a selection.nnI think TimeZoneType should generate HTML without u201drequiredu201d, but still check for a value server-side (unless the form type is created with `'required' => false` of course).n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "fazy",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 8941,
        "assignees": [],
        "lables": [
            "Validator",
            "Easy Pick"
        ],
        "title": "UPGRADE docs doesn't mention remove of addViolationAtPath",
        "body": "The UPGRADE docs document doesn't mention the remove of the method the remove of the method `addViolationAtPath()`.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "EmiiKhaos",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 8867,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing",
            "WebProfilerBundle"
        ],
        "title": "[Routing][WDT][2.3] Routes parameters are not shown in the debugger panel",
        "body": "On route match, routes parameters are not shown in the debugger panel (when the pattern `/hello/{name}` is used to match the `/hello/world` url, we should see `name => 'world'` in the upper table of the panel - nothing is shown instead).nnThis seems due to the fact that the table data are based on [request.routeParams](https://github.com/symfony/symfony/blob/master/src/Symfony/Bundle/WebProfilerBundle/Resources/views/Router/panel.html.twig#L14) which come from the [RequestDataCollector](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpKernel/DataCollector/RequestDataCollector.php#L256) however this parameter is not an array as expected but it has been previously [transformed to a string representation](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpKernel/DataCollector/RequestDataCollector.php#L57).n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2013-08-31"
    },
    {
        "issue_id": 8853,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "[Console] Escape exception message during the rendering of an exception",
        "body": "| Q | A |n| --- | --- |n| Bug fix? | yes |n| New feature? | no |n| BC breaks? | no |n| Deprecations? | no |n| Tests pass? | yes |n| Fixed tickets | n/a |n| License | MIT |n| Doc PR | n/a |nnWhen the exception message contains some HTML, this display isnbroken.nnI don't know enought about the differents Output classes.nMaybe we have to check the current Output class beforenescaping. But for the moment, we allways format the messagenwith error tags, so I guess the escape is not an issue.nnAs this is a bug fix, should I re-open this PR against 2.2 branch ?n",
        "issue_comments": 8,
        "pr_comments": 8,
        "pr_review_comments": 0,
        "committers": [
            "Jakub Zalas",
            "Jakub Zalas",
            "Fabien Potencier",
            "Fabien Potencier",
            "Fabien Potencier",
            "Gru00e9goire Pineau"
        ],
        "changed_files": 8,
        "issue_created_by": "lyrixx",
        "issue_closed_at": "2013-09-15"
    },
    {
        "issue_id": 8629,
        "assignees": [],
        "lables": [
            "Process",
            "Easy Pick"
        ],
        "title": "Process filling up temp directory on Windows",
        "body": "SymfonyComponentProcessnI'm getting this error after running a process for a long timenA temporary file could not be opened to write the process output to, verify that your TEMP environment variable is writablenSeems to be the windows workaround in getDescriptors()nI found the problem to be 65,000 temp files created by this file in my windows temp but not removed. I have to clear these out daily.nPHP should remove the files but they slowly build up.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mirkin",
        "issue_closed_at": "2013-08-17"
    },
    {
        "issue_id": 8529,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "StringUtil::singularify() does not convert u201dmovesu201d correctly",
        "body": "I have a field $stockMoves with the following accessors:ngetStockMoves()naddStockMove()nremoveStockMove()nnand the form component is looking for addStockMof.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ianfp",
        "issue_closed_at": "2013-07-20"
    },
    {
        "issue_id": 8526,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] No HTML5 validation error when selecting the placeholder on a required choice field",
        "body": "Hello symfonysts!nnWhen rendering a widget with choice_widget_collapsed, html 5 validation fails when required=true is combined with empty_value = 'any text'.nHTML 5 specifies that, and I quote u201dThe first child option element of a select element with a required attribute and without a multiple attribute, and whose size is 1, must have either an empty value attribute, or must have no text content.u201d.nSo I suggest to add an empty value attribute to the disabled option by changingn<code>&lt;option {% if required %} disabled=u201ddisabledu201d{% if value is empty %} selected=u201dselectedu201d{% endif %}{% else %} value=u201du201d{% endif %}&gt;{{ empty_value|trans({}, translation_domain) }}&lt;/option&gt;</code>ninton<code>&lt;option {% if required %} disabled=u201ddisabledu201d{% if value is empty %} selected=u201dselectedu201d{% endif %}{% endif %} value=u201du201d&gt;{{ empty_value|trans({}, translation_domain) }}&lt;/option&gt;</code>nin the file form_div_layout.html.twignnI implemented this one via a custom theme and it worked just nicely.nnBest regards,nnJann",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "janni79",
        "issue_closed_at": "2013-08-02"
    },
    {
        "issue_id": 8450,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "Sothing break when I try to render a controller in twig",
        "body": "I have a code that it was working fine, but after my last composer.phar update, the code stopped working. Looks like when I try to render a controller the app continue loading and loading and never ends. I fixed hardcoding my composer.json with nu201dsymfony/symfonyu201d: u201d2.2.2u201d,nnthe problem appear with:nu201dsymfony/symfonyu201d: u201d2.2.*u201d,nnany ideas?n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "fertandil87",
        "issue_closed_at": "2013-07-11"
    },
    {
        "issue_id": 8426,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel",
            "EventDispatcher"
        ],
        "title": "[2.3] [HttpKernel] TraceableEventDispatcher loses event priorities",
        "body": "_This bug affects Symfony 2.3 and involves the HttpKernel and the EventDispatcher._nnThe TraceableEventDispatcher wraps registered events with its own events. nTo do so it removes the original events and replaces them with the wrapped events:nn``` phpn        foreach ($listeners as $listener) {n            $this->dispatcher->removeListener($eventName, $listener);n            $wrapped = $this->wrapListener($eventName, $listener);n            $this->wrappedListeners[$this->id][$wrapped] = $listener;n            $this->dispatcher->addListener($eventName, $wrapped);n        }n```nn(from `SymfonyComponentHttpKernelDebugTraceableEventDispatcher::preDispatch`)nnNote the absence of the priority parameter when calling addListener() to re-add the wrapped events.nnThis problem leads to _u201dCannot set session ID after the session has started.u201d_ exceptions when doing functional testing using the `BrowserKit` component. If multiple consecutive requests are issued from a single test case and firewalling and sessions are involved, the `kernel.response` event handler the firewall's `ContextListener` and the `TestSessionListener` may called in the wrong order. This leads to be the session being reopened by the ContextListener after it was saved by the `TestSessionListener`. The next `BrowserKit` request is therefore entered with an session which is already started and setting the session ID fails.nnThis is only one result of the bug given above. Since all event ordering is lost, the behaviour of the dev and test environments - with `TraceableEventDispatcher` enabled - differs from the prod environment, which should never be the case ...nnI tried to create a fix for this (see https://github.com/symfony/symfony/pull/8405), but this involved changing the `EventDispatcherInterface` since I couldn't find any other way to get hold of an registered event listeners priority.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "subsven",
        "issue_closed_at": "2013-09-08"
    },
    {
        "issue_id": 8425,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "[Doctrine] problem with events",
        "body": "SF 2.3.1nevents doesn't work, because appDevDebugProjectContainer has extra lines after return tag:nn```n    protected function getDoctrine_Dbal_DefaultConnectionService()n    {n        $a = new DoctrineDBALLoggingLoggerChain();n        $a->addLogger(new SymfonyBridgeDoctrineLoggerDbalLogger($this->get('monolog.logger.doctrine', ContainerInterface::NULL_ON_INVALID_REFERENCE), $this->get('debug.stopwatch', ContainerInterface::NULL_ON_INVALID_REFERENCE)));n        $a->addLogger($this->get('doctrine.dbal.logger.profiling.default'));nn        $b = new DoctrineDBALConfiguration();n        $b->setSQLLogger($a);nn        $c = new SymfonyBridgeDoctrineContainerAwareEventManager($this);nn        return $this->services['doctrine.dbal.default_connection'] = $this->get('doctrine.dbal.connection_factory')->createConnection(array('dbname' => 'test', 'host' => '127.0.0.1', 'port' => NULL, 'user' => 'test', 'password' => 'test', 'charset' => 'UTF8', 'driver' => 'pdo_mysql', 'driverOptions' => array()), $b, $c, array());n        $c->addEventSubscriber(new FOSUserBundleEntityUserListener($this));n        $c->addEventListener(array(0 => 'prePersist'), $this->get('test_listener'));n    }n```n",
        "issue_comments": 26,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "sirian",
        "issue_closed_at": "2013-09-12"
    },
    {
        "issue_id": 8385,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Form submitted even if there is no matching name in request",
        "body": "Hi,nnIs there any reason to submit a form even if there is no name corresponding in request?nReading documentation here: http://symfony.com/doc/current/book/forms.html#handling-form-submissionsnn> You can use the method isSubmitted() to check whether a form was submitted, regardless of whether or not the submitted data is actually valid.nnI expected that, if my request (in POST) doesn't contain parameter with the same name as the form, form will not be submitted. I started to make a test for that and a PR, and I encounter the following test: https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Form/Tests/AbstractRequestHandlerTest.php#L89n`testSubmitSimpleFormWithNullIfNameNotInRequestAndNotGetRequest`nnIMO, this situation should not submit the form:nhttps://gist.github.com/sescandell/5895863nnSo, it seems that this is a desired behavior. Is it normal? nDon't you think it would be more logical if form is not submitted in this situation?nnThanks for your feedbacks,n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "sescandell",
        "issue_closed_at": "2013-08-02"
    },
    {
        "issue_id": 8317,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[2.3][Form] findClickedButton, exponential number of calls",
        "body": "Hello,nnI upgraded to Symfony 2.3 recently an application.nnThis application has a form with 500 rows and 5 fields in each rows: 2500 fields.nnWith Symfony 2.3 and the button support feature the form takes 110 seconds (70% of the total request processing time) and this time is spent just in getValidationGroups.nnfindClickedButton is being called recursively for the whole form on each field restarting a t the root every time, at the end of the recursion, this method is called more than 6.9 Million times.nhttp://oi41.tinypic.com/rmmag6.jpgnhttp://oi42.tinypic.com/n5my35.jpgnnAdding a u201dsubmitu201d button managed by the form really improved the findClickedButton as it was being called only ~2800 times.nnI have no idea if this is a bug or not and how can it be fixed, but i thought reading at the blogpost that managing submit buttons within the form was optional, and considering the overhead of not managing it with the form, i feel like i have to change every forms.nnshould i change all the u201dbig enoughu201d forms (~50 fields) to be u201dsymfony 2.3u201d ready ?nnUpdate:nOverhead is low with simple forms.n22 fields leads to 770 calls to  findClickedButton in 7.8 micro secondsn",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "cyqui",
        "issue_closed_at": "2013-09-10"
    },
    {
        "issue_id": 8246,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "NumberToLocalizedStringTransformer uses INF to check value, but INF is float(0) on Solaris",
        "body": "This took me some time to debug, as the form-element only reports u201dvalue is invalidu201d and no exceptions were in the profiler, but in NumberToLocalizedStringTransformer line 130+nn```n    if ($result >= INF || $result <= -INF) {n        throw new TransformationFailedException('I don't have a clear idea what infinity looks like');n    }n```nnvalues are reverseTransform'ed and tested against INF. On Solaris however, for years INF equals float(0), so the above test always returns true making it impossible to use the Form framework on Solaris hosts.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Geckow",
        "issue_closed_at": "2013-06-23"
    },
    {
        "issue_id": 8162,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[FORM] Add button to form (not builder)",
        "body": "Trying to add 'button' to created form fails with 500 error code.nnSteps to reproduce:nn``` phpn$builder = $this->createFormBuilder(array());n$builder->add('field', 'text');nn$form = $builder->getForm();n$form->add('send', 'submit');nn$view = $form->createView();n```nnOS: Xubuntu 13.04, Server: NGinx, PHP: 5.4 fpm, Symfony: Latest RC version.n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "zloyuser",
        "issue_closed_at": "2013-08-09"
    },
    {
        "issue_id": 8145,
        "assignees": [],
        "lables": [
            "Bug",
            "Yaml"
        ],
        "title": "[YAML] Comments are stripped in code blocks when configuring an array",
        "body": "Hi,nnI recently found an issue with the YAML parser. In some circumstances, the YAML parser removes the comments starting with a sharp character in code blocks. This problem only appears when you're configuring an array with embedded code blocks.nnThe code below works perfectly:nn``` phpn$input = <<<EOFnn# Comment to be removedncontent: |n    # Comment to be removedn    Some headernn        # index.htmln        <body>n            <h1>My title</h1>n        </body>nn    Some footer   # Comment to be removednEOF;n```nnIn the above code sample, all comments are stripped except the one in the code (`# hello.html`).nnBut if I put this YAML code inside an YAML array (see below), all comments are stripped, even those inside a code block:nn``` phpn$input = <<<EOFnn# Comment to be removedn-n    # Comment to be removedn    content: |n        Some headernn            # index.htmln            <body>n                <h1>My title</h1>n            </body>nn        Some footer   # Comment to be removednEOF;n```nnI think this is a bug we should fix before releasing 2.3.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "hhamon",
        "issue_closed_at": "2013-07-11"
    },
    {
        "issue_id": 8111,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] PATCH'ed forms are never valid",
        "body": "While trying out the new form PATCH feature, I ran into a bug:nnSay for instance you have a form with two children: firstName, lastName,nnand you PATCH with this data: `array('firstName' => 'Hank')`nnnow the u201dsubmitu201d method is never called on the child u201dlastNameu201d. Now there's a problem, because Form::isValid() only returns `true` if `$this->submitted` is `true`. However, this is `false` for the u201dlastNameu201d child. A form with children, in turn, will only return `true`, if all of it's children are `true`, which, now, is not the case.n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Burgov",
        "issue_closed_at": "2013-07-21"
    },
    {
        "issue_id": 8097,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "HttpCache problems with Content-Type in 304 responses and Location header invalidation",
        "body": "I've been experimenting with writing a REST style web service with Silex.  When I tried to apply HTTP Caching to the web service, I discovered a couple bugs in the HttpCache feature of the HttpKernel component.n1. 304 responses always send u201dContent-Type: text/html; charset=UTF-8u201d headern   I noticed that when I turned on the HttpCache, the 304 responses I was getting always had u201dContent-Type: text/html; charset=UTF-8u201d even though the cached content was actually application/json or application/xml.  The RFC says that a 304 u201dresponse MUST NOT include entity-headers; this prevents inconsistencies between cached entity-bodies and updated headers.u201d (http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.5).  This is exactly the problem I am having.  The Content-Type header is getting clobbered by an incorrect Content-Type header in the response.n2. Failure to invalidate cached entities referred to by the Location headern   My toy webservice uses the pattern described in this article (http://roy.gbiv.com/untangled/2009/it-is-okay-to-use-post) by Roy Fielding.  The pattern uses POST to do a partial update of a resource.  It responds with a 303 indicating that the client should refresh its representation of the parent resource identified by the Location header.  When I tried using this pattern, I found that the parent resource was not getting invalidated.  It was responding with the cached version which was out of date.  I checked the RFC to verify that a cache should be invalidating cached entities referred to by the Location header and found verification here http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.10.  u201dSome HTTP methods MUST cause a cache to invalidate an entity. This is either the entity referred to by the Request-URI, or by the Location or Content-Location headers (if present).u201dnnI'll be submitting a bug fix soon.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "jdesrosiers",
        "issue_closed_at": "2013-05-20"
    },
    {
        "issue_id": 8096,
        "assignees": [],
        "lables": [
            "Bug",
            "Critical"
        ],
        "title": "[DependencyInjection] [2.3] Get scoped service by alias always returns new instance of service",
        "body": "It`s very simple to reproduce:nn``` yamlnservices:n  request_scoped_service:n    class: stdObjectn    scope: requestnn  alias_for_service:n    alias: request_scoped_servicen```nn``` phpn/** @var ContainerInterface $container */n$container->enterScope('request')n$byName = $container->get('request_scoped_service');n$byAlias1 = $container->get('alias_for_service');n$byAlias2 = $container->get('alias_for_service');nvar_dump( $byName === $byAlias1 ); // false, expected truenvar_dump( $byName === $byAlias2 ); // false, expected truenvar_dump( $byAlias1 === $byAlias2 ); // false, expected truen```nnBug may be after this: https://github.com/symfony/symfony/commit/f1c2ab7n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Strate",
        "issue_closed_at": "2013-06-05"
    },
    {
        "issue_id": 8086,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "[HttpFoundation] Fix unexpected status code for FastCGI interface",
        "body": "| Q | A |n| --: | --- |n| Bug fix? | yes |n| New feature? | no |n| BC breaks? | no |n| Deprecations? | no |n| Tests pass? | yes |n| Fixed tickets | #8085 |n| License | MIT |n- [x] Add tests if possible. Edit: Apparently not (This works for my server but it is not sufficient as a test).n- [x] Add FastCGI server detection for set the header only if needed nnThe header `HTTP/` cannot set properly the status code on a FastCGI server. [source](http://php.net/manual/function.header.php)nn1) Try to overwrite the status code from an existing file.nn``` phpn<?php // index.phpnheader(u201dHTTP/1.1 404 Not Foundu201d);n```nn<table>n  <tr>n    <th>Call</th><th>status code</th>n  </tr>n  <tr>n    <td>index.php</td><td>HTTP/1.1 404 OK</td>n  </tr>n</table>nnn2) Try to overwrite the status code with calling to a not existing filenn```n# .htaccessnErrorDocument 404 <path to the 404.php file>n```nn``` phpn<?php // 404.phpnheader(u201dHTTP/1.1 200 OKu201d);n```nn<table>n  <tr>n    <th>Call</th><th>status code</th>n  </tr>n  <tr>n    <td>notfound.php</td><td>HTTP/1.1 404 Not Found</td>n  </tr>n</table>nnnFor both cases urlrewriting is not used.nnEdit:nThis PR follow the PHP behaviour and nothing more. For bad configuration of the PHP directive `cgi.rfc2616_headers`. See http://php.net/manual/en/ini.core.php#ini.cgi.rfc2616-headersnnI just offers a solution to this unusual problem. I believe that merge is not the most important because this code snippet can be put to other place.n",
        "issue_comments": 12,
        "pr_comments": 12,
        "pr_review_comments": 0,
        "committers": [
            "alquerci"
        ],
        "changed_files": 1,
        "issue_created_by": "alquerci",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 8065,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug",
            "Easy Pick"
        ],
        "title": "php.ini u201dpost_max_size = 0u201d clash with form validator",
        "body": "If in the php.ini u201dpost_max_sizeu201d is set to 0, there is no limitation in the post size:n[from php.ini]n; Maximum size of POST data that PHP will accept.n; Its value may be 0 to disable the limit. It is ignored if POST data readingn; is disabled through enable_post_data_reading.n; http://php.net/post-max-sizenpost_max_size = 0nnHowever, in this case, the validator (tested via Form) trigger alwaysnu201dThe uploaded file was too large. Please try to upload a smaller file.u201dnn[Fix]nEnable the control only if post_max_size > 0n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "cesare-montresor",
        "issue_closed_at": "2013-06-02"
    },
    {
        "issue_id": 8030,
        "assignees": [],
        "lables": [
            "Easy Pick"
        ],
        "title": "[DependencyInjection] Dumping out container may produce syntax error code",
        "body": "Create a service where name contains u201d-u201d and there will be a syntax error.nnI think the root of the problem is that PhpDumper uses Container::camelize to generate function names which doesn't comply with PHP labels.nnIn my opinion, PhpDumper should use an internal function to generate PHP label-safe identifiers from service names, it would be more general solution than restrict service names.nnIf you agree i would like to push this change.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "tgabi333",
        "issue_closed_at": "2013-07-20"
    },
    {
        "issue_id": 8024,
        "assignees": [],
        "lables": [
            "Easy Pick",
            "Packaging (PEAR/Composer)"
        ],
        "title": "Use more explicit namespaces in composer definitions",
        "body": "Please note namespace declarations should end in `` to make sure the autoloader responds exactly. For example `Foo` would match in `FooBar` so the trailing backslashes solve the problem: `Foo` and `FooBar` are distinct.nnFor reference: https://github.com/composer/composer/pull/1891/filesn",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2013-05-13"
    },
    {
        "issue_id": 7989,
        "assignees": [],
        "lables": [
            "Bug",
            "BC Break",
            "Yaml"
        ],
        "title": "Wrong parsing of Yaml folded scalars with newlines",
        "body": "The fix for Yaml folded scalars done by @ezzatron in bbcdfe25ca5ce breaks the parsing when the first line of the block is an empty line, throwing a ParseException.nnThis broke the testsuite of `https://github.com/Behat/Gherkin` which uses such a Yaml file:nn``` yamlnfeature:n  title:        multilinen  language:     enn  line:         1n  description:  |-nn    Feature descriptionnn    With etc.n```nnAffected versions: 2.0.9+, 2.2.1+, 2.3.0-beta1+nn@ezzatron could you take a look at this ?n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2013-05-10"
    },
    {
        "issue_id": 7965,
        "assignees": [],
        "lables": [
            "Bug",
            "Config"
        ],
        "title": "Config Loader import problem",
        "body": "I made a custom loader by extending the Loader class.nThen i run into a problem with the import() method, when I tried to import a controller with annotation type. It tried to load it with the PhpFileLoader().nI realize that the Symfony/Component/Config/Loader/Loader.php import method may need some fixing:nnreturn $this->resolve($resource)->load($resource, $type);ninto:nreturn $this->resolve($resource, $type)->load($resource, $type);nnUntil then i just override it, and now it works.n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Myke79",
        "issue_closed_at": "2013-05-09"
    },
    {
        "issue_id": 7948,
        "assignees": [],
        "lables": [
            "Enhancement",
            "Console",
            "Easy Pick"
        ],
        "title": "[Console] Improve abbreviation recognition",
        "body": "1. For example I have 2 commands:nn```nxxx:foo:barnyyy:faa:zoon```nnWhen I try to callnn```nphp test.php xxx:f:bn```nnI get an InvalidArgumentException - The namespace u201dxxx:fu201d is ambiguous (foo, faa).nbut the namespace xxx:faa not defined!n1. If I have nn```nxxx:foo:barnxxx:faa:zoon```nnand call `x:f:z` then it should run xxx:faa:zoo (because no more command has same abbreviation)n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "sirian",
        "issue_closed_at": "2013-08-22"
    },
    {
        "issue_id": 7945,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "[ProxyManager Bridge] Missing Classes",
        "body": "It seems like some classes are missing for the new `ProxyManager` in `SymfonyBridgeProxyManagerLazyProxyInstantiator`nn``` phpn<?phpnuse ProxyManagerConfiguration;nuse ProxyManagerFactoryLazyLoadingValueHolderFactory;nuse ProxyManagerGeneratorStrategyEvaluatingGeneratorStrategy;nuse ProxyManagerProxyLazyLoadingInterface;n```nn/cc @Ocramiusn",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2013-05-06"
    },
    {
        "issue_id": 7929,
        "assignees": [],
        "lables": [
            "BrowserKit",
            "Easy Pick"
        ],
        "title": "[BrowserKit] on followRedirect, client doesn't resend HTTP headers",
        "body": "In this simple case nn```n$headers = array('HTTP_Content_Type' => 'application/vnd.custom+xml');n$crawler = $client->request($method, $uri, $params, array(), $headers);n```nnwhen server returns redirect, `Content-Type` header will not be sent to new location.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Mihailoff",
        "issue_closed_at": "2013-08-30"
    },
    {
        "issue_id": 7883,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel",
            "WebProfilerBundle"
        ],
        "title": "Wrong filtering in the profiler FilesystemStorage",
        "body": "when you search the last 10 POST request, the storage will actually search for the last 10 requests (whatever method they are using) and then filter out non-POST request. This means that you will often not find the request you are searching. In my case, I add to increase the limit to 50 to get a result list with 5 items.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2013-05-01"
    },
    {
        "issue_id": 7838,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "[CONSOLE] Error with command container:debug",
        "body": "In Symfony 2.1 if run `app/console container:debug` show the next error:nn```n[InvalidArgumentException]                                                            n  Command u201dcontainer:debugu201d is ambiguous (container:debug, container:debug:listeners). n```nnHowever if I run `app/console container:debug:` the command output is the same as  `app/console container:debug:listener`.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mgallego",
        "issue_closed_at": "2013-06-11"
    },
    {
        "issue_id": 7824,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator"
        ],
        "title": "Problem in FrameworkBundleTranslationTranslator.php when using culture in locale",
        "body": "File:nnD:ProjectsClimbCheckclimbingvendorsymfonysymfonysrcSymfonyBundleFrameworkBundleTranslationTranslator.phpnnWhen using en-us as fallback locale, on line 106 and 112 str_replace('-','') or something alike should be used. Else the generated file will contain something like n'$catalogueEn-Us = new MessageCatalogue .....'nnPlease fix!!n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "josdewitte",
        "issue_closed_at": "2013-07-11"
    },
    {
        "issue_id": 7816,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Cannot rename because the target ...DebugProjectContainer.xml already exist",
        "body": "I recently frequently get the error u201dCannot rename because the target u201d...app...DebugProjectContainer.xmlu201d already exist.u201d.nnI get this error both in web applications (Apache) and on the CLI during testing. The latest CLI backtrace is:nn```nSymfonyBundleFrameworkBundleTestsFunctionalProfilerTest::testProfilerIsDisabled with data set #0 (false)nSymfonyComponentFilesystemExceptionIOException: Cannot rename because the target u201d/tmp/2.3.0-DEV/Profiler/cache/frameworkbundletestprofiler/appFrameworkbundletestprofilerDebugProjectContainer.xmlu201d already exist.nn/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Component/Filesystem/Filesystem.php:237n/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Component/Filesystem/Filesystem.php:455n/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Bundle/FrameworkBundle/DependencyInjection/Compiler/ContainerBuilderDebugDumpPass.php:36n/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Component/DependencyInjection/Compiler/Compiler.php:119n/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Component/DependencyInjection/ContainerBuilder.php:589n/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Component/HttpKernel/Kernel.php:559n/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Component/HttpKernel/Kernel.php:130n/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Bundle/FrameworkBundle/Test/WebTestCase.php:43n/home/bernhard/Entwicklung/Web/Symfony2/src/Symfony/Bundle/FrameworkBundle/Tests/Functional/ProfilerTest.php:24n```nnI will provide a backtrace for the web application when I get the error again.n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2013-04-24"
    },
    {
        "issue_id": 7731,
        "assignees": [],
        "lables": [
            "BrowserKit",
            "Easy Pick"
        ],
        "title": "BrowserKit recursive redirect",
        "body": "If a redirect-header is returned by a request of some url and the redirect-url is just the same as the requested url (thus its a recursive redirect) then the BrowserKit client will follow the recursive tree until the php maximum function nesting level, which by default is 100.nnBrowserKit should have a configurable (?) maximum for following redirects and the ->request() call should return nicely (at least with a clean exception?) if it reaches the maximum.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mathielen",
        "issue_closed_at": "2013-04-25"
    },
    {
        "issue_id": 7683,
        "assignees": [],
        "lables": [
            "HttpFoundation",
            "Easy Pick"
        ],
        "title": "[HttpFoundation] allow database Session Handlers to be extended",
        "body": "If there's additional actions to be done on on session events (additional cleanup on destroy/gc, or additional logging on other events, it would be nice to be able to extend the `PdoSessionHandler` and `MongoDbSessionHandler` classes. However, both have their database connections set to `private`.nnI can think of two ways of accomplishing this: either setting those connectors to `protected`, so child objects can access them, or to add an additional `getConnection()` method, to provide read-only access to those connectors. More complex would be to add some sort of event system such that the session handlers broadcast to other listeners when a session event happens.nnIs there a better way to accomplish doing other tasks when a session event happens?n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "MidnightLightning",
        "issue_closed_at": "2013-07-21"
    },
    {
        "issue_id": 7675,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "Crashes MongoDB, when use it's sessions handler",
        "body": "When use mongodb session handler it crashes when using MongoTimestamp in MongoDbSessionHandler class. It's fixed in 2.2. Please fix it in 2.1 too.nnBugged version: https://github.com/symfony/symfony/blob/2.1/src/Symfony/Component/HttpFoundation/Session/Storage/Handler/MongoDbSessionHandler.phpnnpublic function write($sessionId, $data)n    {n        $data = array(n            $this->options['id_field']   => $sessionId,n            $this->options['data_field'] => new MongoBinData($data, MongoBinData::BYTE_ARRAY),n            $this->options['time_field'] => new MongoTimestamp()n        );nn```n    $this->getCollection()->update(n        array($this->options['id_field'] => $sessionId),n        array('$set' => $data),n        array('upsert' => true)n    );nn    return true;n}n```nnStable version: https://github.com/symfony/symfony/blob/2.2/src/Symfony/Component/HttpFoundation/Session/Storage/Handler/MongoDbSessionHandler.phpnnpublic function write($sessionId, $data)n    {n        $this->getCollection()->update(n            array($this->options['id_field'] => $sessionId),n            array('$set' => array(n                $this->options['data_field'] => new MongoBinData($data, MongoBinData::BYTE_ARRAY),n                $this->options['time_field'] => new MongoDate(),n            )),n            array('upsert' => true, 'multiple' => false)n        );nn```n    return true;n}n```n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "netandreus",
        "issue_closed_at": "2013-06-13"
    },
    {
        "issue_id": 7644,
        "assignees": [],
        "lables": [
            "Config",
            "Easy Pick"
        ],
        "title": "XmlUtils::phpize floats integer-lists",
        "body": "I'm trying to let my config accept:nn```n<node attribute=u201d1234,5678,9101,1121,3141u201d />n```nnto parse the this attribute as a string. But the SymfonyComponentConfigUtilXmlUtils::phpize-Method (previously SimpleXMLElement::phpize) replaces this to float(1.2345678910111E+19).nnThis is caused by the preg_match-case.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "possi",
        "issue_closed_at": "2013-04-20"
    },
    {
        "issue_id": 7642,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Invalid CSRF token never translated since 2.2.0",
        "body": "Since Symfony 2.2.0 the error u201dThe CSRF token is invalid. Please try to resubmit the form.u201d is never localized.nnWhen I was upgrading [hostnet/form-twig-bridge](https://github.com/hostnet/form-twig-bridge) from Symfony 2.1 to 2.2.1, I found that one of the functional tests was not working, the above seems to be the cause.nnIn Symfony 2.1.x the error messages were translated inside form_div_layout.html.twig, this was moved. All validation errors in Symfony 2.2, except this one, are translated in `ExecutionContext->addViolation`, where the `$message` is translated. So this bug seems to exist since 2.2.0.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "nicoschoenmaker",
        "issue_closed_at": "2013-05-03"
    },
    {
        "issue_id": 7639,
        "assignees": [],
        "lables": [
            "Enhancement",
            "HttpKernel",
            "Easy Pick"
        ],
        "title": "[HttpKernel] Improve TraceableEventDispatcher to not call Stopwatch::stop() when not started",
        "body": "Currently, in TraceableEventDispatcher:385, Stopwatch::stop() is called even when the Stopwatch was not started:nn``` phpncase KernelEvents::RESPONSE:n    // stop only if a controller has been executedn    try {n        $this->stopwatch->stop('controller');n    } catch (LogicException $e) {n    }n    break;n```nnThe result is that on every request, an exception will be thrown and caught (consequently this is not an u201dexceptionalu201d case anymore). Another consequence is that debuggers will halt and show this exception (again, on every request).nnAn improvement would be to add a Stopwatch::isStarted() method and use it instead:nn``` phpncase KernelEvents::RESPONSE:n    // stop only if a controller has been executedn    if ($this->stopwatch->isStarted('controller')) {n        $this->stopwatch->stop('controller');n    }n    break;n```n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7636,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "[2.3][DIC] ContainerBuilder behaviour issue",
        "body": "Since upgrading from Symfony 2.2 to 2.3, I think I might have exposed a change in behaviour that might be a bug.n## BackgroundnnWe made a small change to our kernel to compile the DIC with `ContainerBuilder` so that we can still add definitions to the DIC after compile. It simply means one cannot overwrite existing services after compile (which I consider a feature). In any case, it worked in 2.2 and there was no reason for it not to.nnSince upgrading to 2.3, if I run `app/console clear:cache` I get a weird exception about the request service. However, if I run  `app/console cache:clear --no-warmup`, then I get no exception. Please see my [commit](https://github.com/drak/symfony-standard/commit/3493ac1b3e6c7179e0174d4fab520799b1998264) for details of the small change.nn```n$ app/console -v cache:clearnClearing the cache for the dev environment with debug truenn  [SymfonyComponentDependencyInjectionExceptionInactiveScopeException]n    You cannot create a service (u201drequestu201d) of an inactive scopen    (u201drequestu201d).nnnException trace:n () at appcachede_ap_DevDebugProjectContainer.php:1427n ap_DevDebugProjectContainer->getRequestService() at appbootstrap.php.cache:133n SymfonyComponentDependencyInjectionContainer->get() at SymfonyComponentDependencyInjectionContainerBuilder.php:431n SymfonyComponentDependencyInjectionContainerBuilder->get() at appcachede_ap_DevDebugProjectContainer.php:953n ap_DevDebugProjectContainer->getFragment_HandlerService() at appbootstrap.php.cache:133n SymfonyComponentDependencyInjectionContainer->get() at SymfonyComponentDependencyInjectionContainerBuilder.php:431n SymfonyComponentDependencyInjectionContainerBuilder->get() at appcachede_ap_DevDebugProjectContainer.php:2666n ap_DevDebugProjectContainer->getTwigService() at appbootstrap.php.cache:133n SymfonyComponentDependencyInjectionContainer->get() at SymfonyComponentDependencyInjectionContainerBuilder.php:431n SymfonyComponentDependencyInjectionContainerBuilder->get() at appcachede_ap_DevDebugProjectContainer.php:65n ap_DevDebugProjectContainer->getAssetic_AssetManagerService() at appbootstrap.php.cache:133n SymfonyComponentDependencyInjectionContainer->get() at SymfonyComponentDependencyInjectionContainerBuilder.php:431n SymfonyComponentDependencyInjectionContainerBuilder->get() at vendorsymfonyassetic-bundleSymfonyBundleAsseticBundleCacheWarmerAssetManagerCacheWarmer.php:33n SymfonyBundleAsseticBundleCacheWarmerAssetManagerCacheWarmer->warmUp() at SymfonyComponentHttpKernelCacheWarmerCacheWarmerAggregate.php:47n SymfonyComponentHttpKernelCacheWarmerCacheWarmerAggregate->warmUp() at SymfonyBundleFrameworkBundleCommandCacheClearCommand.php:117n SymfonyBundleFrameworkBundleCommandCacheClearCommand->warmup() at SymfonyBundleFrameworkBundleCommandCacheClearCommand.php:83n SymfonyBundleFrameworkBundleCommandCacheClearCommand->execute() at SymfonyComponentConsoleCommandCommand.php:240n SymfonyComponentConsoleCommandCommand->run() at SymfonyComponentConsoleApplication.php:940n SymfonyComponentConsoleApplication->doRunCommand() at SymfonyComponentConsoleApplication.php:204n SymfonyComponentConsoleApplication->doRun() at SymfonyBundleFrameworkBundleConsoleApplication.php:78n SymfonyBundleFrameworkBundleConsoleApplication->doRun() at SymfonyComponentConsoleApplication.php:117n SymfonyComponentConsoleApplication->run() at appconsole:22nn    cache:clear [--no-warmup] [--no-optional-warmers]n```nnI believe the problem comes in with the new u201dsyncronizedu201d services code that was added. n@beberlei @fabpot nnI have no idea why only the cache warmers trigger this error and my application continues to work from the browser.n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2013-04-18"
    },
    {
        "issue_id": 7609,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Localized number with grouping not accepted",
        "body": "With ru or fi locales and grouping enabled number (and money) field validator returns error:nu201dError:  This value is not valid.u201dnTo reproduce, just add number or money field to the form and use ru or fi locale. This issue happens because grouping symbol for those locales is 2-byte unicode (ex. for ru locale  codes 194 and 160). But in vendor/symfony/symfony/src/Symfony/Component/Form/Extension/Core/DataTransformer/NumberToLocalizedStringTransformer.php you are using strlen() function (line 135) to validate field and this function is NOT multibyte safe. I'm not sure, if you support non-UTF8 encodings, but if not, just replace nstrlen($value)nwith nmb_strlen($value, 'utf8')nnphp-intl extension is installed, version 1.1.0 (ICU version 4.8.1.1)nSymfony 2.2.1n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "WARrior-Alex",
        "issue_closed_at": "2013-05-03"
    },
    {
        "issue_id": 7607,
        "assignees": [],
        "lables": [
            "Security",
            "Easy Pick"
        ],
        "title": "Login Redirect Does not Honor Query String Parameters",
        "body": "When a user successfully logs in, the user is redirected to the page he originally was trying to view via the onAuthenticationSuccess() function in  https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Security/Http/Authentication/DefaultAuthenticationSuccessHandler.php.nnI am using a javascript history state library to keep track of my javascript frontend state and it generates urls such as `/my/site#foo=bar&more=links`.nnWhen I am redirected from the login page, all the query string parameters after the url `#foo=bar&more=links` are not preserved. Could this possibly be fixed in future versions or is there a good reason not to honor the states of these types of requests?n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "jonmchan",
        "issue_closed_at": "2013-04-11"
    },
    {
        "issue_id": 7592,
        "assignees": [],
        "lables": [
            "Routing",
            "Easy Pick"
        ],
        "title": "[Routing] Cannot specify port for route with hostname",
        "body": "By default the router uses the port of the current request when linking to an external site and there's no way to override it.nnFor example, an application that runs on port 8888, when generating a url from a route such as below, will generate the url u201d//example.com:8888/article/view/{id}u201d.nn``` ymlnmy_route:n    pattern: /article/view/{id}n    hostname: example.comn```nnAlso, if you try to specify a port number in the hostname, e.g.nn```nmy_routen    pattern: /article/view/{id}n    hostname: example.com:80n```nnIt will generate a url similar to u201d//example.com:80:8888/article/view/{id}u201d.nnMy first thought would be to introduce a 'port' parameter, which can be used to specify the port, and if it's not provided fall back to the port for the current request?nnWe only use the hostname parameter to generate url's for an external site which we need to link to, so I'm not sure how this works in regards to matching a route.n",
        "issue_comments": 11,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "dchesterton",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7575,
        "assignees": [],
        "lables": [
            "Validator",
            "Easy Pick"
        ],
        "title": "XML and Yaml format doesn't work with Optional/Required collection constraints",
        "body": "Assume we have this entity:nn``` phpnclass Authorn{n    /**n     * @AssertCollection(fields={n     *     u201dalternate_emailu201d = @Optional({@AssertEmail})n     * })n    public $profileData = array();n}n```nnThe annotations and PHP format is working as expected. However, the Yaml and Xml format isn't working. On the documentation, we (ryan, @afishnamedsquish and I) have put some time in trying to get a working Yaml and Xml format, but it seems like it's not possible.nnIf we have this:nn``` yamlnAcmeAuthorBundleEntityAuthor:n    properties:n        profileData:n             - Collection:n                fields:n                    alternate_email:n                        - CollectionOptional:n                            - Email: ~n```nnWe get this error:nn> Fatal error: Class 'SymfonyComponentValidatorConstraintsCollectionOptionalValidator'nnIt's going wrong in [`Collection` line 50](https://github.com/symfony/Validator/blob/2.1/Constraints/Collection.php#L50-52):nn``` phpnif (!$field instanceof Optional && !$field instanceof Required) {n    $this->fields[$fieldName] = $field = new Required($field);n}n```nn`$field` is an instance of Optional or Required when using PHP or annotations. When using Yaml, `$field` is an array:nn```narray (size=1)n  0 => n    object(SymfonyComponentValidatorConstraintsCollectionOptional)[4300]n      public 'constraints' => n        array (size=1)n          0 => n            object(SymfonyComponentValidatorConstraintsEmail)[4301]n              ...n      public 'groups' => n        array (size=1)n          0 => string 'Default' (length=7)n```nnBecause it's not an instance of Optional or Required, it becomes:nn```nobject(SymfonyComponentValidatorConstraintsCollectionRequired)[4302]n  public 'constraints' => n    array (size=1)n      0 => n        object(SymfonyComponentValidatorConstraintsCollectionOptional)[4300]n          public 'constraints' => n            array (size=1)n              ...n          public 'groups' => n            array (size=1)n              ...n  public 'groups' => n    array (size=1)n      0 => string 'Default' (length=7)n```nnAnd that's when we are in trouble, because the `ValidatorFactory` will search for `OptionalValidator`.nnI have tried every Yaml syntax I know to make `$field` a class and not an array, but I can't find it. I think some change in the `YamlFileLoader` is needed to make these edge cases work.nnThis is the same for Xml:nn``` xmln<?xml version=u201d1.0u201d encoding=u201dUTF-8u201d ?>n<constraint-mapping xmlns=u201dhttp://symfony.com/schema/dic/constraint-mappingu201dn    xmlns:xsi=u201dhttp://www.w3.org/2001/XMLSchema-instanceu201dn    xsi:schemaLocation=u201dhttp://symfony.com/schema/dic/constraint-mapping http://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsdu201d>nn    <class name=u201dAcmeAuthorBundleEntityAuthoru201d>n        <property name=u201dprofileDatau201d>n            <constraint name=u201dCollectionu201d>n                <option name=u201dfieldsu201d>n                    <value key=u201dalternate_emailu201d>n                        <constraint name=u201dCollectionOptionalu201d>n                            <constraint name=u201dEmailu201d />n                        </constraint>n                    </value>n                </option>n            </constraint>n        </property>n    </class>n</constraint-mapping>n```nnIf you want some background on this issue, see symfony/symfony-docs#2432 and [this gist](https://gist.github.com/afishnamedsquish/5277987).n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "wouterj",
        "issue_closed_at": "2013-07-21"
    },
    {
        "issue_id": 7564,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation",
            "Easy Pick"
        ],
        "title": "Bug with NamespacedAttributeBag in use with session",
        "body": "Hi !nnI have set my application to use the NamespacedAttributeBag for sessions.nnI've observed the following behavior:nnIn my template, if I do this:nn```n{{dump(app.session.get(u201dcartu201d , 0))}}n```nnIt dumps:nn```narray (size=1)n  1 => n    array (size=1)n      2 => n        array (size=1)n          8 => int 1n```nnThat is the expected behaviornnNow if I do:nn```n{{dump(app.session.get(u201dcart/1/2u201d , 0))}}n```nnI get:nn```narray (size=1)n  8 => int 1n```nnThat's fine too.nnAnd finally, if I do this:nn```n{{dump(app.session.get(u201dcart/1/1/2u201d , 0))}}n```nnI get:nn```narray (size=1)n   8 => int 1n```nnThat is not fine! I should get 0 or null. There is no array in cart[u201d1u201d][u201d1u201d] !nnIs that a bug ?n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "zabojad",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7561,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] DateTimeToLocalizedStringTransformer::reverseTransform fails on u201dincorrectu201d date",
        "body": "In my form I configure a field likenn``` phpn$buidler->add('birthdate', 'date', array(n    'widget' => 'single_text'n));n```nnThen, after entering a date like 01/01/1901, an error is thrown:nn```nDateTime::__construct(): Failed to parse time string (@ UTC) at position 0 (@): Unexpected charactern```nnThe corresponding line is <a href=u201dhttps://github.com/symfony/symfony/blob/2.1/src/Symfony/Component/Form/Extension/Core/DataTransformer/DateTimeToLocalizedStringTransformer.php#L134u201d>here</a>nnThe transformer fails to parse a valid timestamp from my date. Instead of throwing a u201dniceu201d `TransformationFailedException`, it goes on and PHP throws the abovementioned 500.nnIt would be nice to at least have a nice error to be handled and displayed as a form error.nnShould I work on a PR?n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "aurnot",
        "issue_closed_at": "2013-04-21"
    },
    {
        "issue_id": 7558,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] ChoiceType throws UnexpectedTypeException",
        "body": "If you submit an `array` or `string` to a form that contains a choice field with `multiple: false` or  `multiple: true` respectively an `UnexpectedTypeException` is thrown.nn```nin vendor/symfony/symfony/src/Symfony/Component/Form/Extension/Core/DataTransformer/ChoicesToValuesTransformer.php line 72nat ChoicesToValuesTransformer->reverseTransform('1') in vendor/symfony/symfony/src/Symfony/Component/Form/Form.php line 1125nat Form->viewToNorm('1') in vendor/symfony/symfony/src/Symfony/Component/Form/Form.php line 594nat Form->bind('1') in vendor/symfony/symfony/src/Symfony/Component/Form/Form.php line 556nat Form->bind(array('values' => '1')) in vendor/symfony/symfony/src/Symfony/Component/Form/Form.php line 556nat Form->bind(array(array('values' => '1'), array('values' => '1'))) in vendor/symfony/symfony/src/Symfony/Component/Form/Form.php line 556n```n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "marcospassos",
        "issue_closed_at": "2013-05-03"
    },
    {
        "issue_id": 7549,
        "assignees": [],
        "lables": [
            "Console",
            "Easy Pick"
        ],
        "title": "[Console] DialogHelper::ask() while loop issue with 0",
        "body": "The while loop in `SymfonyComponentConsoleHelperDialogHelper::ask()` terminates, when you enter a 0. `fread` gets the 0 and assigns it to `$c` and then the loop breaks. As we all know PHP interpretes a 0 as false.nnI tried to fix it and came up with the following idea using `ord()` and `chr()`:nn``` phpn...nwhile ($c = ord(fread($inputStream, 1))) {n    $c = chr($c);n...n```nnIt solves the problem but I find it rather ugly. nnDoes anyone have a better idea about this?n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "bsg62",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7543,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "DI ContainerBuilder allows for invalid tag attributes",
        "body": "https://github.com/symfony/symfony/issues/3251 made YAML consistent with XML not support multidimensional arrays for tag attributes but PHP still does.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "chx",
        "issue_closed_at": "2013-09-12"
    },
    {
        "issue_id": 7540,
        "assignees": [],
        "lables": [
            "Bug",
            "WebProfilerBundle",
            "Easy Pick"
        ],
        "title": "[Profiler] Backslash before slash",
        "body": "In u201cRequestu201d tab of profiler, there is a backslash before all the slashs and backslashs (see screenshot)u2026 I just did the upgrade to Symfony 2.2.n![screen](https://f.cloud.github.com/assets/1258839/324302/21576eea-9ae1-11e2-96c3-0a358b657e33.png)n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mlpo",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7491,
        "assignees": [],
        "lables": [
            "Enhancement",
            "DomCrawler",
            "Easy Pick"
        ],
        "title": "SymfonyComponentDomCrawlerCrawler::addContent() - handling of MIME types",
        "body": "If the server responds with an empty HTTP Content-Type, 'text/html' is assumed, which is good.  However, if the Content-Type contains a charset but no MIME type, e.g. 'charset=utf-8' or '; charset=utf-8', the method returns null and the DOM is not parsed.nnDesired behaviour is that a Content-Type with a charset but no MIME type should be treated in the same way as an empty Content-Type, with regards to the default 'text/html' MIME being assumed.  This is the way my browser responds to such a Content-Type when there is HTML in the response body.nnThis was relevant to me because of a bug in ZF2 and the Content-Type headers it returns under certain circumstances, and the use of the Symfony DomCrawler component in the Behat integration testing/BDD tool.  I will pursue the Zend bug separately.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "samthephpdev",
        "issue_closed_at": "2013-04-11"
    },
    {
        "issue_id": 7483,
        "assignees": [],
        "lables": [
            "Bug",
            "PropertyAccess"
        ],
        "title": "entity collection property objectives guessed singulars: Objectife",
        "body": "I have a OneToMany relationship with a property named 'objectives'nn/**n     * @var DoctrineCommonCollectionsCollectionn     *n     * @ORMOneToMany(targetEntity=u201dObjectiveu201d, mappedBy=u201dclientu201d, cascade={u201dpersistu201d, u201dremoveu201d})n     */n    private $objectives;nnI have generated getters and setters using doctrine:generate:entities which created:nnaddObjectivenremoveObjectivengetObjectivesnnwhen submitting a form which has added an item to this collection I get the following errornnu201dProperty u201dobjectivesu201d is not public in class u201dMyAppCoreBundleEntityClientu201d, nor could adders and removers be found based on the guessed singulars: Objectife. Maybe you should create the method u201dsetObjectives()u201d?u201dnnI have fixed this with a workaround by renaming the getters and setters tonnaddObjectifenremoveObjectifennhowever 'getObjectives' needs to remain the same.nnThe bug seems to be that there is a typo in the guessed singular. Is this a bug? Is there a way to specify the singular as a workaround rather than using an incorrect method name which will break when the bug is fixed?n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "PaddyLock",
        "issue_closed_at": "2013-04-08"
    },
    {
        "issue_id": 7431,
        "assignees": [],
        "lables": [
            "Easy Pick"
        ],
        "title": "[Service Container] Container camelize strange behavior",
        "body": "At Container the method camelize:nn``` phpn    /**n     * Camelizes a string.n     *n     * @param string $id A string to camelizen     *n     * @return string The camelized stringn     */n    public static function camelize($id)n    {n        return preg_replace_callback('/(^|_|.)+(.)/', function ($match) { return ('.' === $match[1] ? '_' : '').strtoupper($match[2]); }, $id);n    }n```nnI don't understand why if the first char is . or _ is kept:nn``` phpnphp > function camelize($id) { return preg_replace_callback('/(^|_|.)+(.)/', function ($match) { return ('.' === $match[1] ? '_' : '').strtoupper($match[2]); }, $id); }nphp > echo camelize('test.test2') . u201dnu201d;nTest_Test2nphp > echo camelize('.testtest2') . u201dnu201d;n.testtest2nphp > echo camelize('test_test2') . u201dnu201d;nTestTest2nphp > echo camelize('_test_test2') . u201dnu201d;n_testTest2n```nnIf the camelize is used to transform for example an array on several variables it will fail:nn``` phpnphp > $.t = 5;nPHP Parse error:  syntax error, unexpected '.', expecting variable (T_VARIABLE) or '$' in php shell code on line 1nnParse error: syntax error, unexpected '.', expecting variable (T_VARIABLE) or '$' in php shell code on line 1n```nnAnd is really strange that after you camelize a string it still keep underscore. My suggestion is that if a _ or . exists as first character would disappear on camelize, so instead of the below behavior both would return TestDann``` phpnphp > echo camelize('test_da') . u201dnu201d;nTestDanphp > echo camelize('_test_da') . u201dnu201d;n_testDan```n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "entering",
        "issue_closed_at": "2013-07-21"
    },
    {
        "issue_id": 7421,
        "assignees": [],
        "lables": [
            "Bug",
            "DomCrawler"
        ],
        "title": "Redifining uri in Crawler::addHtmlContent",
        "body": "I create new Crawler object by $html string, and $uri of which $html was taken.n$crawler = new Crawler($html, $uri);nThere is BASE tag inside html with invalid value (like this //domain.com). And $uri property rewrite:nn``` phpnif (count($base) && !empty($baseHref)) {n    $this->uri = $baseHref;n}n```nnAnd when I try to take link uri I get exception 'Current URI must be an absolute URL (u201d//domain.comu201d)'nnMay be it will be better to make so:nn``` phpnif (!is_null($this->uri) && count($base) && !empty($baseHref)) {n    $this->uri = $baseHref;n}n```n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stepanets",
        "issue_closed_at": "2013-04-20"
    },
    {
        "issue_id": 7380,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "NativeSessionStorage::regenerate bug",
        "body": "In SymfonyComponentHttpFoundationSessionStorageNativeSessionStorage::regenerate call to session_regenerate_id. session_regenerate_id does not create and lock new session file until script terminates.nnIt's a bug of PHP (https://bugs.php.net/bug.php?id=61470&edit=1) that persist in php 5.3 and 5.4. So using session_regenerate_id is undesirable.nnFor example I authenticate user in controller, so I call $this->sessionStrategy->onAuthentication($this->container->get('request'), $token); which calls session_regenerate_id. But if I using swiftmailer with memory spool and redirect user after authentication in controller like this:nn``` phpn...n$mailer->send($message);n...n$token = $this->createToken('main', $user);n$this->get('security.authentication.session_strategy')->onAuthentication($this->getRequest(), $token);nreturn $this->redirect($this->generateUrl('account'));n```nnSession data is empty if browser opens new location before than script terminates, so user is not authenticated. But after waiting some time and refreshing page user became authenticated.n",
        "issue_comments": 11,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mtal",
        "issue_closed_at": "2013-06-13"
    },
    {
        "issue_id": 7371,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Disable string callables in validation groups",
        "body": "Currently the form validation group strings are checked for being callable:nn``` phpn/**n     * Returns the validation groups of the given form.n     *n     * @param  FormInterface $form The form.n     *n     * @return array The validation groups.n     */n    private static function getValidationGroups(FormInterface $form)n    {n        do {n            $groups = $form->getConfig()->getOption('validation_groups');nn            if (null !== $groups) {n                if (is_callable($groups)) {n                    $groups = call_user_func($groups, $form);n                }nn                return (array) $groups;n            }nn            $form = $form->getParent();n        } while (null !== $form);nn        return array(Constraint::DEFAULT_GROUP);n    }n```nn[Link to source](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Form/Extension/Validator/Constraints/FormValidator.php#L172)nnI think this is highly unexpected and can lead to very nasty bugs (I just had a validation group called [`header`](http://www.php.net/manual/en/function.header.php)...), and should be fixed, i.e. other notation for using the string as function.n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "apfelbox",
        "issue_closed_at": "2013-05-03"
    },
    {
        "issue_id": 7353,
        "assignees": [],
        "lables": [
            "Bug",
            "Process"
        ],
        "title": "Array to string conversion in Process.php (line 141)",
        "body": "It seems in certain cases that a machine's environment will include an array.nnWe seem to see this when using Assetic to compile a less file with the less compiler.nn```n/*n[exception] 500 | Internal Server Error | ErrorExceptionn[message] Notice: Array to string conversion in /[edited]/vendor/symfony/symfony/src/Symfony/Component/Process/Process.php line 141n[1] ErrorException: Notice: Array to string conversion in /[edited]/vendor/symfony/symfony/src/Symfony/Component/Process/Process.php line 141n                at n/an                    in /[edited]/vendor/symfony/symfony/src/Symfony/Component/Process/Process.php line 141nn                at SymfonyComponentHttpKernelDebugErrorHandler-&gt;handle(&#039;8&#039;, &#039;Array to string conversion&#039;n```nnOffending line of code is here:nn``` phpn            $this->env = array();n            foreach ($env as $key => $value) {n                $this->env[(binary) $key] = (binary) $value;n            }n```nnThe problem happens on the casting of $value to (binary).nnI'll try to submit a patch.nn(Note we were using Symfony 2.2, but it's probably in master as well)n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mmucklo",
        "issue_closed_at": "2013-04-26"
    },
    {
        "issue_id": 7337,
        "assignees": [],
        "lables": [
            "Bug",
            "DomCrawler"
        ],
        "title": "[Crawler] Selecting values of a ChoiceType field multiple and expanded",
        "body": "On [DomCrawler documentation](http://symfony.com/doc/2.1/components/dom_crawler.html) is stated that is possible to select many options form a multiple select or **checkboxes**: http://d.pr/i/uY29.nn```n// select many options from a u201dmultipleu201d select or checkboxesn$form['registration[interests]']->select(array('symfony', 'cookies'));n```nnI found that this is not true if the choice field is **expanded** (so checkboxes are generated). As stated in #5562 and in #5502, I also tried with:nn```n$form['registration[interests]']->setValues(array('symfony', 'cookies'));n```nnBut doesn't work. The problem is that _$form['registration[interests]']_ returns an array of ChoiceFormField (where every ChoiceFormField represent the single checkboxes of the options) so you can't call any method on it.nnThe only way to select values for a multiple and expanded choice field using DomCrawler is this:nn```n$form['registration[interests][0]']->tick();n$form['registration[interests][3]']->tick();n```nnWhere _0_ and _3_ are zero-based indexes for the options _symfony_ and _cookies_. This is uncomfortable because in tests we know the value of the choices and not the position in the markup of the correspondent checkbox.n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mmenozzi",
        "issue_closed_at": "2013-06-13"
    },
    {
        "issue_id": 7323,
        "assignees": [],
        "lables": [
            "HttpKernel",
            "BrowserKit",
            "Easy Pick"
        ],
        "title": "BrowserKit::request does not handle network paths (Functional test for subdomains)",
        "body": "Hello,nnThere is a problem related to test for subdomains (all other tests work). Maybe I do something wrong!! I am able to access to sob-domain directly from a browser as will as I see the route in terminal `app/console router:debug -e=test`nnthe routenn```nanf_word_scrabble_widget:n    path:   /scrabble/scrabble-finder-widget.phpn    defaults:  { _controller: MyBundle:Default:widget }n    host:     w.{domain}n    requirements:n         domain: %domain%n```nnconfig.ymlnn```ndomain: u201dexample.localu201dn```nntestnn```npublic function testWidget()n{n   $client = static::createClient();nn   $router = $client->getContainer()->get('router');n   $domain = $client->getContainer()->getParameter('domain');nn  $url = $router->generate('anf_word_scrabble_widget', array('domain' => $domain));nn  $crawler = $client->request('GET', $url);n  $this->assertEquals(200, $client->getResponse()->getStatusCode());n}n```nnit throws an exception nn```nNo route found for &quot;GET //w.example.local/scrabble/scrabble-finder-widget.php&quot; (404 Not Found)n```nnI have tried to use nn```n$client = static::createClient(array(), array(n'HTTP_HOST'       => 'w.example.local',n));n```nnbut the same!n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vazgen",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7274,
        "assignees": [],
        "lables": [
            "Bug",
            "Easy Pick",
            "Yaml"
        ],
        "title": "[2.2][Yaml] Blank values should resolve to null",
        "body": "The following syntax was valid in 2.1, and should be valid according to the YAML spec:nn```ndb.options:n  password:nmyproject.test:n  param2: u201d456u201dn```nnHowever, since 2.2 this throws a `SymfonyComponentYamlExceptionParseException`: Indentation problem in u201dfile.ymlu201d at line 2 (near u201dpassword:u201d).nnIMO this should be fixed. Or if the BC break was intentional, it should be documented.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "igorw",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7257,
        "assignees": [],
        "lables": [
            "Feature",
            "Console",
            "Easy Pick"
        ],
        "title": "[console]  add __toString() on ArgvInput",
        "body": "Hi There,nnI was wondering if a __toString() method could be added to SymfonyComponentConsoleInputArgvInput or at least StringInput,  It would be helpful repackage a command line after its been parsed, among other thingsnn-Thanksn",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "feamsr00",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7254,
        "assignees": [],
        "lables": [
            "Templating",
            "Easy Pick"
        ],
        "title": "php templating engine service is inaccessible (set to private)",
        "body": "Can we change the service to public? If so, would that be considered a bugnfix or a new feature?n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "jrobeson",
        "issue_closed_at": "2013-06-17"
    },
    {
        "issue_id": 7234,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "[Console] Command aliases are not auto-completed",
        "body": "These two work fine, the second is an alias of the first:nn```n$ app/console doctrine:generate:entityn  Welcome to the Doctrine2 entity generatornn$ app/console generate:doctrine:entityn  Welcome to the Doctrine2 entity generatorn```nnHowever, if you use shortened names, the aliased form does not work:nn```n$ app/console doc:gen:entityn  Welcome to the Doctrine2 entity generatornn$ app/console gen:doc:entityn  [InvalidArgumentException]n  Command u201dgen:doc:entityu201d is not defined.n```n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Seldaek",
        "issue_closed_at": "2013-04-07"
    },
    {
        "issue_id": 7221,
        "assignees": [],
        "lables": [
            "Bug",
            "FrameworkBundle",
            "Easy Pick"
        ],
        "title": "[2.0][2.1][FrameworkBundle] disabling CSRF protection doesn't work with the `enabled` flag",
        "body": "Usingnn```nframework:n  csrf_protection:n    enabled: falsen```nnonly disables the CSRF protection for Symfony 2.2. But to work with 2.0, 2.1, and 2.2 actuallynn```nframework:n  csrf_protection: falsen```nnhas to be used.nnSee https://travis-ci.org/craue/TwigExtensionsBundle/builds/5138388 and https://travis-ci.org/craue/TwigExtensionsBundle/builds/5139467 .n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "craue",
        "issue_closed_at": "2013-06-15"
    },
    {
        "issue_id": 7219,
        "assignees": [],
        "lables": [
            "DomCrawler",
            "Easy Pick"
        ],
        "title": "[DomCrawler] relative links",
        "body": "relative links seems not to be handled correct inside `Link` the classnnI would expectnn``` phpn    public function testRelativeLink()n    {n        $dom = new DOMDocument();n        $dom->loadHTML('<html><a href=u201d../foou201d>foo</a></html>');nn        $node = $dom->getElementsByTagName('a')->item(0);n        $link = new Link($node, 'http://example.com/bar/');nn        $this->assertEquals('http://example.com/foo', $link->getUri());n    }n```n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "staabm",
        "issue_closed_at": "2013-03-06"
    },
    {
        "issue_id": 7207,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[2.2] u201dAllowed memory size... u201d in Monolog TestHandler with forms, only on PHP5.3",
        "body": "Hey guys,nnWe're experiencing strange issue after upgrading to 2.2, it was not happening on 2.1.nAlso, it occurs only on PHP 5.3.nn```nPHP Fatal error:  Allowed memory size of 536870912 bytes exhausted (tried to allocate 262144 bytes) in /home/travis/build/Sylius/Sylius/vendor/monolog/monolog/src/Monolog/Handler/TestHandler.php on line 138n```nnThis error appears only on actions which involve forms, all of them, nothing special, just getting entity via repository, creating form, setting data, bind -> persist. Almost always the same schema. Using FOSRestBundle - [action](https://github.com/Sylius/SyliusResourceBundle/blob/master/Controller/ResourceController.php#L111-L140). But I'm pretty sure it's not the reason, the error stops before rest bundle even comes into action.nnThe failing build is [here](https://travis-ci.org/Sylius/Sylius/jobs/5107738/#L308).nnSame test suite on 5.4 - [works](https://travis-ci.org/Sylius/Sylius/jobs/5107739/#L308).nSame for 5.5.nnThe line from Monolog test handler - [click](https://github.com/Seldaek/monolog/blob/master/src/Monolog/Handler/TestHandler.php#L138) - logging to much? We do not log anything extra.nnAffects both test and dev envs.nI was investigating but no luck so far, maybe someone had similar problem?nnThanks,nPawel.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pjedrzejewski",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 7170,
        "assignees": [],
        "lables": [
            "HttpFoundation",
            "Easy Pick"
        ],
        "title": "[HTTPFoundation] Use `apache_request_headers` when available",
        "body": "Both my Apache installs strip `Authorization` headers (even though they're not CGI implementations) and don't populate `HTTP_AUTHORIZATION`.nnUsing `apache_request_headers` when available, would seem to be more robust.n",
        "issue_comments": 11,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "julien-c",
        "issue_closed_at": "2013-04-21"
    },
    {
        "issue_id": 7169,
        "assignees": [],
        "lables": [
            "Bug",
            "DomCrawler",
            "Easy Pick"
        ],
        "title": "Schema relative URLs not working in combination with the TestClient",
        "body": "The schema relative URLs introduced in #3958 are great. However, this does not seem to be working in combination with the TestClient. The URLs that are generated with a relative schema are being prefixed with the configured host and the default schema.nnE.g.nn``` jinjan{{ url('blog', {}, true) }}n```nnWhen on `http://localhost` test client will try to visit: `http://localhost//localhost/blog` instead of `http://localhost/blog`.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "marijn",
        "issue_closed_at": "2013-03-06"
    },
    {
        "issue_id": 7139,
        "assignees": [],
        "lables": [
            "Form",
            "Enhancement",
            "Easy Pick"
        ],
        "title": "[Form] Binding false to a checkbox makes the checkbox being checked by default",
        "body": "I am not sure about whether this is a bug or by design: if a checkbox is bound to a boolean FALSE value, the checkbox is checked by default.nnFailing test case:nn``` phpn    public function testBindWithFalseValueUnchecked()n    {n        $form = $this->factory->create('checkbox', null, array(n            'value' => '1',n        ));n        $form->bind(false);nn        $this->assertFalse($form->getData());n        $view = $form->createView();n        $this->assertFalse($view->vars['checked']);n    }n```n",
        "issue_comments": 25,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vmattila",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 7113,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel",
            "Critical"
        ],
        "title": "[HttpKernel] HInclude FragmentRenderer broken",
        "body": "The change of a the visbility of the property `$templating` from `protected` to `private` in https://github.com/symfony/symfony/commit/a3131882e328fc17eb62f0dd4a89e1d7642fad99#L1R29 breaks the subclass `ContainerAwareHIncludeFragmentRenderer` at https://github.com/symfony/symfony/commit/a3131882e328fc17eb62f0dd4a89e1d7642fad99#L0R43nn```nif (!$this->templating) {n    $this->setTemplating($this->container->get('templating'));n}n```nnThe hinclude-fragment-renderer is not useable anymore.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "KingCrunch",
        "issue_closed_at": "2013-02-20"
    },
    {
        "issue_id": 7106,
        "assignees": [],
        "lables": [
            "Enhancement",
            "Process",
            "Easy Pick"
        ],
        "title": "[Process] Add a version check to the code added in #7102",
        "body": "When PHP 5.5 is released, and if the code still seems to work fine, a version check could /should be added to the block added in #7102 so that it's only executed on 5.3/5.4 since these are the buggy versions.n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Seldaek",
        "issue_closed_at": "2013-03-23"
    },
    {
        "issue_id": 7078,
        "assignees": [],
        "lables": [
            "Process",
            "Easy Pick"
        ],
        "title": "[Process] Orphan temporary files are left on Windows",
        "body": "On Windows `Process::start` creates a temporary file every time because of this code:nn``` phpn        if (defined('PHP_WINDOWS_VERSION_BUILD')) {n            $this->fileHandles = array(n                self::STDOUT => tmpfile(),n            );n```nnWhen being invoked for thousands of times as part of task scheduling pipeline, it leaves thousands of temporary files and eventually hits the limit at 65536 files per directory, after which point it can't create a new temporary file and simply dies.nnAfter being used, the temporary file should be deleted.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "extesy",
        "issue_closed_at": "2013-09-07"
    },
    {
        "issue_id": 7068,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "symfony shell bug",
        "body": "2.2.0-RC2nnif you start shell `php app/console -s`nand then print nn```nlist --helpnlistn```nnyou will get error:nn```n  [InvalidArgumentException]                              n  There are no commands defined in the u201dlistu201d namespace.  nnlist [--xml] [--raw] [namespace]nnnThe command terminated with an error status (1)n```n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "sirian",
        "issue_closed_at": "2013-04-12"
    },
    {
        "issue_id": 7061,
        "assignees": [],
        "lables": [
            "Bug",
            "Finder"
        ],
        "title": "[Finder]Solaris has older find command, S2.2 will not run.",
        "body": "By default, Sun (well Oracle) Solaris has it's own find command which does not support gnu find options such as -noleaf or -regexptype.  So S2.2 does not work out of the box.  nnA simple patch to Finder::Shell with a check for PHP_OS=sunos will fix the problem.  I can prepare one if need be.nnHowever, I think the problem is more generic.  It's same issue as when you attempt to do browser detection.  You still never know if the system will support a command until you test for it.  In the case of solaris, you could install a gnu find command in which case all would be well.nnI think an actual version test for find (or gfind) would be better than os sniffing.  nnI see that there was also a proposal to make a finder factory service.  That would allow the option of specifying which adapter to use.  Makes things real simple.n",
        "issue_comments": 11,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ahundiak",
        "issue_closed_at": "2013-06-13"
    },
    {
        "issue_id": 7039,
        "assignees": [],
        "lables": [
            "Bug",
            "BrowserKit"
        ],
        "title": "[BrowserKit] Add ability to handle an empty cookie",
        "body": "Currently throws InvalidArgumentException when server responds to a request with an empty set-cookie header (am using version 2.1.7).nnWould it make sense to edit CookieJar::updateFromSetCookie to test for empty set-cookie headers and igrnore them? (am new to GitHub)n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "alexcartwright",
        "issue_closed_at": "2013-03-12"
    },
    {
        "issue_id": 6986,
        "assignees": [],
        "lables": [
            "Bug",
            "DomCrawler",
            "Easy Pick"
        ],
        "title": "[DomCrawler] Uppercase HTTP/HTTPS/FILE not seen as absolute URL",
        "body": "See the line here:nhttps://github.com/symfony/DomCrawler/blob/master/Link.php#L49nnIf a URL from a crawled page is badly formed to use an uppercase URI scheme, DomCrawler will not recognize it as an absolute link.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mozillamonks",
        "issue_closed_at": "2013-02-19"
    },
    {
        "issue_id": 6981,
        "assignees": [],
        "lables": [
            "Bug",
            "Enhancement",
            "Feature",
            "Finder"
        ],
        "title": "[Finder] Issues with the x permission not set on sub-folder",
        "body": "When a sub-folder does not have the x bit set:n- the PhpAdapter throws an `UnexpectedValueException`, quite misleading,n- the native finders only display on error on stderr (no exception).nnI have discussed with @fabpot about this issue, the best would be to have a method to ignore such folders (the flag would be off by default, ie legacy behavior)nn/cc @jfsimon would you have some bw to look at this ?n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2013-06-13"
    },
    {
        "issue_id": 6961,
        "assignees": [],
        "lables": [
            "HttpFoundation",
            "Easy Pick"
        ],
        "title": "BinaryFileResponse - Error on calculate end value",
        "body": "the end is calculated wrong:nlist($start, $end) = array_map('intval', explode('-', substr($range, 6), 2)) + array(0);nn```n            if ('' !== $end) {n                $this->maxlen = $end - $start;n            } else {n                $end = $this->file->getSize() - 1;n            }n```nnBecause intval function works on every value, the end value of '' is 0. So the if statement is never true.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Charles68",
        "issue_closed_at": "2013-02-12"
    },
    {
        "issue_id": 6949,
        "assignees": [],
        "lables": [
            "Bug",
            "WebProfilerBundle"
        ],
        "title": "[WebProfilerBundle] Route for _profiler is Symfony specific",
        "body": "When trying to use the Profiler and WebDebugToolbar outside of the fullstack framework the _profiler route's _controller is too specific as it uses `FrameworkBundle:Redirect:redirect` instead of a service as the other routes.nnCurrent routes.nn```n+--------------------------+-----------+------+-----------------------------------+---------------------------------------------------------+n| Name                     | Method    | Host | Path                              | Controller                                              |n+--------------------------+-----------+------+-----------------------------------+---------------------------------------------------------+n| _profiler_search         | ANY       |      | /_profiler/search                 | web_profiler.controller.profiler:searchAction           |n| _profiler_search_bar     | ANY       |      | /_profiler/search_bar             | web_profiler.controller.profiler:searchBarAction        |n| _profiler_purge          | ANY       |      | /_profiler/purge                  | web_profiler.controller.profiler:purgeAction            |n| _profiler_info           | ANY       |      | /_profiler/info/{about}           | web_profiler.controller.profiler:infoAction             |n| _profiler_import         | ANY       |      | /_profiler/import                 | web_profiler.controller.profiler:importAction           |n| _profiler_export         | ANY       |      | /_profiler/export/{token}.txt     | web_profiler.controller.profiler:exportAction           |n| _profiler_phpinfo        | ANY       |      | /_profiler/phpinfo                | web_profiler.controller.profiler:phpinfoAction          |n| _profiler_search_results | ANY       |      | /_profiler/{token}/search/results | web_profiler.controller.profiler:searchResultsAction    |n| _profiler                | ANY       |      | /_profiler/{token}                | web_profiler.controller.profiler:panelAction            |n| _profiler_router         | ANY       |      | /_profiler/{token}/router         | web_profiler.controller.router:panelAction              |n| _profiler_exception      | ANY       |      | /_profiler/{token}/exception      | web_profiler.controller.exception:showAction            |n| _profiler_exception_css  | ANY       |      | /_profiler/{token}/exception.css  | web_profiler.controller.exception:cssAction             |n| _profiler_redirect       | ANY       |      | /_profiler/                       | FrameworkBundle:Redirect:redirect                       |n| _wdt                     | ANY       |      | /_wdt/{token}                     | web_profiler.controller.profiler:toolbarAction          |n+--------------------------+-----------+------+-----------------------------------+---------------------------------------------------------+n```n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "henrikbjorn",
        "issue_closed_at": "2013-02-18"
    },
    {
        "issue_id": 6943,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator",
            "Easy Pick",
            "TwigBundle"
        ],
        "title": "[TwigBridge][Translation] TwigExtractor duplicates with trans_default_domain",
        "body": "Given this template, all translations are extracted twice.nnOnce for the correct translation domain (as specified by `{% trans_default_domain %}` and once wrongly for the default domain. This applies to the current template, its parent and the embedded one.nn``` html+jinjan{% extends '::base.html.twig' %}nn{% trans_default_domain u201dusersu201d %}nn{% block content_header %}n    <h1>{{ 'heading.create'|trans }}</h1>n{% endblock %}nn{% block content_layout %}n    {# .. #}nn    {% embed ':Layout:content_full_size.html.twig'%}n        {% trans_default_domain u201dusersu201d %}nn        {# .. #}n    {% endembed %}n{% endblock %}n```n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "havvg",
        "issue_closed_at": "2013-02-28"
    },
    {
        "issue_id": 6935,
        "assignees": [],
        "lables": [
            "Enhancement",
            "Console",
            "Easy Pick",
            "Priority: Low"
        ],
        "title": "[Console] Clean the unit tests",
        "body": "Each of the unit test methods should be splitted in smaller blocks, see InputOptionTest for a bad example.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2013-04-09"
    },
    {
        "issue_id": 6864,
        "assignees": [],
        "lables": [
            "Bug",
            "BC Break",
            "Critical"
        ],
        "title": "Memory size and function nesting errors with Symfony 2.1.7",
        "body": "Many applications are generating memory size and function nesting errors after upgrading to Symfony 2.1.7nnFor example:nn```nFatal error: Maximum function nesting level of '100' reached, aborting!nin /src/Symfony/Component/DependencyInjection/ContainerBuilder.php on line 696nnCall Stack:nn1. SymfonyComponentDependencyInjectionDumperPhpDumper->hasReference() /src/Symfony/Component/DependencyInjection/Dumper/PhpDumper.php:962n...n99. SymfonyComponentDependencyInjectionDumperPhpDumper->hasReference() /src/Symfony/Component/DependencyInjection/Dumper/PhpDumper.php:971n```nnThe above error is generated by xdebug. But even increasing `xdebug.max_nesting_level` to 10000 (!) doesn't work, it keeps on showing `PhpDumper->hasReference()` messages.nnOk, so let's remove xdebug (which would not a solution because phpunit has a dependency on xdebug) and see what happens next: the function nesting errors are gone but now we get memory size errors.nnFor example:nn```nFatal error: Allowed memory size of 1073741824 bytes exhausted (tried to allocate 32 bytes)nin /src/Symfony/Component/DependencyInjection/ContainerBuilder.php on line 680n```nnAnd after reloading the page:nn```nFatal error: Allowed memory size of 1073741824 bytes exhausted (tried to allocate 72 bytes)nin /src/Symfony/Component/DependencyInjection/Dumper/PhpDumper.php on line 972n```nn```nFatal error: Allowed memory size of 1073741824 bytes exhausted (tried to allocate 130968 bytes)nin /src/Symfony/Component/DependencyInjection/Dumper/PhpDumper.php on line 962n```nnEven after increasing the memory limit to 10 GB (!) those errors just keep on coming. Seems like an infinite loop.nnWe never experienced those errors before and switching back to Symfony 2.1.6 makes everything working again. What has changed in 2.1.7 that causes this strange behavior?nnPHP 5.4.11 + XCachen",
        "issue_comments": 22,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "XWB",
        "issue_closed_at": "2013-02-04"
    },
    {
        "issue_id": 6862,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][2.0] wrong label when its value is u201d0u201d",
        "body": "I have a choice type with a choice which is labelled u201d0u201d, when I display it, I have 1 (which is the position of the choice in the choiceList) instead of 0 in my label.nnThe problem comes from FieldType::55 :n$builder->setAttribute('label', $options['label'] ?: $this->humanize($builder->getName()));nshould ben$builder->setAttribute('label', strlen($options['label']) ? $options['label'] : $this->humanize($builder->getName()))n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Cethy",
        "issue_closed_at": "2013-02-21"
    },
    {
        "issue_id": 6834,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "In debug mode, the ```Kernel::init()``` method is incompatible with ```Kernel:unserialize()``` ",
        "body": "Related to #6254.nnWhat about a static flag on it so that it gets intialized only once in a process?n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "bamarni",
        "issue_closed_at": "2013-04-07"
    },
    {
        "issue_id": 6786,
        "assignees": [],
        "lables": [
            "Bug",
            "Yaml"
        ],
        "title": "Wrong parsing of brackets in lines",
        "body": "Using the following YAML:nn``` yamlnfoo:n    bar: [foo]barn```nnParsing it the YAML component produces this result:nn``` phpnarray('foo' => array('bar' => array('foo')))n```nnand the `bar` part is lost.nnHowever, when trying to parse it on [YAML Lint](http://yamllint.com/) produces a syntax error.nThe syntax error is a better behavior IMO as the expected result in such case is probably a string `'[foo]bar'` for which the quoting has been forgotten.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2013-01-23"
    },
    {
        "issue_id": 6773,
        "assignees": [],
        "lables": [
            "Bug",
            "Yaml"
        ],
        "title": "[Yaml] Blocks with 'keep' chomping indicator are incorrectly parsed when at end-of-file",
        "body": "Both literal and folded blocks have an erroneous additional newline added. Tested against 2.1 branch. To demonstrate, add the following test to `ParserTest`:nn``` phpn    public function getBlockChompingTests()n    {n        $tests = array();nn        $yaml = <<<'EOF'nfoo: |+n    onen    twonbar: |+n    onen    twonEOF;n        $expected = array(n            'foo' => u201donentwonu201d,n            'bar' => u201donentwonu201d,n        );n        $tests['Literal block chomping keep without trailing newline'] = array($expected, $yaml);nn        $yaml = <<<'EOF'nfoo: >+n    onen    twonbar: >+n    onen    twonEOF;n        $expected = array(n            'foo' => u201done twonu201d,n            'bar' => u201done twonu201d,n        );n        $tests['Folded block chomping keep without trailing newline'] = array($expected, $yaml);nn        return $tests;n    }nn    /**n     * @dataProvider getBlockChompingTestsn     */n    public function testBlockChomping($expected, $yaml)n    {n        $this->assertSame($expected, $this->parser->parse($yaml));n    }n```nnSample test output:nn```nPHPUnit 3.7.10 by Sebastian Bergmann.nnConfiguration read from /home/erin/Projects/symfony/phpunit.xml.distnn.....S.........................................................  63 / 145 ( 43%)n............................................................... 126 / 145 ( 86%)n..........FF.......nnTime: 0 seconds, Memory: 4.75MbnnThere were 2 failures:nn1) SymfonyComponentYamlTestsParserTest::testBlockChomping with data set u201dLiteral block chomping keep without trailing newlineu201d (array('onentwon', 'onentwon'), 'foo: |+n    onen    twonbar: |+n    onen    two')nFailed asserting that Array (n    'foo' => 'onentwon'n    'bar' => 'onentwonn'n) is identical to Array (n    'foo' => 'onentwon'n    'bar' => 'onentwon'n).nn/home/erin/Projects/symfony/src/Symfony/Component/Yaml/Tests/ParserTest.php:301nn2) SymfonyComponentYamlTestsParserTest::testBlockChomping with data set u201dFolded block chomping keep without trailing newlineu201d (array('one twon', 'one twon'), 'foo: >+n    onen    twonbar: >+n    onen    two')nFailed asserting that Array (n    'foo' => 'one twon'n    'bar' => 'one twonn'n) is identical to Array (n    'foo' => 'one twon'n    'bar' => 'one twon'n).nn/home/erin/Projects/symfony/src/Symfony/Component/Yaml/Tests/ParserTest.php:301nnFAILURES!nTests: 145, Assertions: 417, Failures: 2, Skipped: 1.n```nnHere's my patch, but I'll submit a PR shortly:nn``` diffndiff --git a/src/Symfony/Component/Yaml/Parser.php b/src/Symfony/Component/Yaml/Parser.phpnindex d09227b..53a9a6b 100644n--- a/src/Symfony/Component/Yaml/Parser.phpn+++ b/src/Symfony/Component/Yaml/Parser.phpn@@ -186,8 +186,9 @@ class Parsern                     }n                 }n             } else {n-                // 1-liner followed by newlinen-                if (2 == count($this->lines) && empty($this->lines[1])) {n+                // 1-liner optionally followed by newlinen+                $lineCount = count($this->lines);n+                if (1 === $lineCount || (2 === $lineCount && empty($this->lines[1]))) {n                     try {n                         $value = Inline::parse($this->lines[0]);n                     } catch (ParseException $e) {n@@ -544,10 +545,6 @@ class Parsern     {n         $value = str_replace(array(u201drnu201d, u201dru201d), u201dnu201d, $value);nn-        if (!preg_match(u201d#n$#u201d, $value)) {n-            $value .= u201dnu201d;n-        }n-n         // strip YAML headern         $count = 0;n         $value = preg_replace('#^%YAML[: ][d.]+.*n#su', '', $value, -1, $count);n```n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ezzatron",
        "issue_closed_at": "2013-01-18"
    },
    {
        "issue_id": 6770,
        "assignees": [],
        "lables": [
            "Bug",
            "Yaml"
        ],
        "title": "[Yaml] Negative integers are parsed as floating point values",
        "body": "Tested against 2.1 branch. To demonstrate, modify `InlineTest.php` like so:nn``` diffndiff --git a/src/Symfony/Component/Yaml/Tests/InlineTest.php b/src/Symfony/Component/Yaml/Tests/InlineTest.phpnindex 2684fa5..516de5d 100644n--- a/src/Symfony/Component/Yaml/Tests/InlineTest.phpn+++ b/src/Symfony/Component/Yaml/Tests/InlineTest.phpn@@ -19,7 +19,7 @@ class InlineTest extends PHPUnit_Framework_TestCasen     public function testParse()n     {n         foreach ($this->getTestsForParse() as $yaml => $value) {n-            $this->assertEquals($value, Inline::parse($yaml), sprintf('::parse() converts an inline YAML to a PHP structure (%s)', $yaml));n+            $this->assertSame($value, Inline::parse($yaml), sprintf('::parse() converts an inline YAML to a PHP structure (%s)', $yaml));n         }n     }nn@@ -108,6 +108,7 @@ class InlineTest extends PHPUnit_Framework_TestCasen             'false' => false,n             'true' => true,n             '12' => 12,n+            '-12' => -12,n             'u201dquoted stringu201d' => 'quoted string',n             u201d'quoted string'u201d => 'quoted string',n             '12.30e+02' => 12.30e+02,n@@ -117,7 +118,7 @@ class InlineTest extends PHPUnit_Framework_TestCasen             '-.Inf' => log(0),n             u201d'686e444'u201d => '686e444',n             '686e444' => 646e444,n-            '123456789123456789' => '123456789123456789',n+            '123456789123456789123456789123456789' => '123456789123456789123456789123456789',n             'u201dfoornbaru201d' => u201dfoornbaru201d,n             u201d'foo#bar'u201d => 'foo#bar',n             u201d'foo # bar'u201d => 'foo # bar',n```nnI had to increase the size of the large integer also, otherwise the test fails on machines with 64-bit integer support.nnHere's my patch, but I'll submit a PR shortly:nn``` diffndiff --git a/src/Symfony/Component/Yaml/Inline.php b/src/Symfony/Component/Yaml/Inline.phpnindex df89285..679708a 100644n--- a/src/Symfony/Component/Yaml/Inline.phpn+++ b/src/Symfony/Component/Yaml/Inline.phpn@@ -379,6 +379,11 @@ class Inlinen                 $cast = intval($scalar);nn                 return '0' == $scalar[0] ? octdec($scalar) : (((string) $raw == (string) $cast) ? $cast : $raw);n+            case '-' === substr($scalar, 0, 1) && ctype_digit(substr($scalar, 1)):n+                $raw = $scalar;n+                $cast = intval($scalar);n+n+                return '0' == $scalar[1] ? octdec($scalar) : (((string) $raw == (string) $cast) ? $cast : $raw);n             case 'true' === strtolower($scalar):n                 return true;n             case 'false' === strtolower($scalar):n```n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ezzatron",
        "issue_closed_at": "2013-01-18"
    },
    {
        "issue_id": 6750,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "PDF Download fails on IE < 9 via HTTPS",
        "body": "When you deliver a u201dapplication/pdfu201d file to an IE lower than 9 via HTTPS the download will fail with an error thrown by the Internet Explorer stating:nn<pre>Internet Explorer was unable to open this site.nThe requested site is either unavailable or cannot be found.nPlease try again later.</pre>nnsee http://support.microsoft.com/kb/323308 for this.nnThis is because of the `Cache-Control` header that the `Response` class sets up by default.nsee http://php.net/manual/en/function.header.php#108766nnI know that there is a fix for it on IE side, but a lot of our customer still use IE 8 and don't update. I fixed this in a crappy way, just checking if the user uses IE and the to be send `Content-Type` matches `application/pdf` in `Reponse::prepare()`.nn<pre>if(preg_match(u201d/(msie)|(MSIE)/u201d, $request->server->get('HTTP_USER_AGENT')) > 0n            && preg_match(u201d/(application/pdf)/u201d, $headers->get('Content-Type')) > 0) {n            $this->headers->remove('Cache-Control');n            $this->headers->remove('pragma');n        }nnreturn $this;</pre>nnnBut I'm sure this can be fixed way better. It would be great if you guys fix this in the proper way.n",
        "issue_comments": 17,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2013-02-22"
    },
    {
        "issue_id": 6651,
        "assignees": [],
        "lables": [
            "Doctrine",
            "Easy Pick"
        ],
        "title": "UniqueEntity in edit/update action",
        "body": "In entity I use: n@UniqueEntity(fields={u201demailu201d}, groups={u201dnewu201d, u201deditu201d})nnbut i have a problem when I try validate in edit mode.nWhen I submit form with not changed email field, then I get error u201dThis value is already used.u201dn",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "md81",
        "issue_closed_at": "2013-05-03"
    },
    {
        "issue_id": 6649,
        "assignees": [],
        "lables": [
            "Console",
            "Easy Pick"
        ],
        "title": "[Console][Bug] Using short options with empty strings cause u201dUninitialized string offset: 0u201d notice.",
        "body": "Example:nphp app/console server:run -d u201du201d localhost:8080nPHP Notice:  Uninitialized string offset: 0 in ~/code/project/vendor/symfony/symfony/src/Symfony/Component/Console/Input/ArgvInput.php on line 222n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "peterhil",
        "issue_closed_at": "2013-01-11"
    },
    {
        "issue_id": 6648,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "CollectionValidator uses the deprecated Validator API",
        "body": "The CollectionValidator should be refactored to use the new API of the component instead of using the deprecated methods /cc @bschussek n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2013-01-24"
    },
    {
        "issue_id": 6607,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "u201dstrictu201d and u201don-invalidu201d attributes are colliding",
        "body": "hey guys,nnim not sure if its a bug or a feature, here ist my problem:nnsimply try it in your bundle of choice, to reproduce the error simply `app/console` to dump the container.nn**works as expected**nn``` xmln<service id=u201dacme.testu201d class=u201dstdClassu201d>n    <argument type=u201dserviceu201d id=u201drequestu201d strict=u201dfalseu201d />n</service>n```nn**wont work throws a `SymfonyComponentDependencyInjectionExceptionScopeWideningInjectionException`**nn``` xmln<service id=u201dacme.testu201d class=u201dstdClassu201d>n    <argument type=u201dserviceu201d id=u201drequestu201d strict=u201dfalseu201d on-invalid=u201dnullu201d />n</service>n```nnit seems the `on-invalid` attribute resets all other settings on this definition, and therefore the exception is thrown?! nnis this a bug, or am i missing something?nnmy use-case was an injected request in a security-voter, the documentation is propagating the bad practice u201dinject the containeru201d...but thats not the point, why am i unable to use the `strict` and `on-invalid` attributes at the same time?n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "digitalkaoz",
        "issue_closed_at": "2013-01-07"
    },
    {
        "issue_id": 6586,
        "assignees": [],
        "lables": [
            "Finder",
            "Easy Pick"
        ],
        "title": "Finder doesn't respect valid glob syntax in name()",
        "body": "It would seem the Finder component does not respect an otherwise valid glob pattern in the name() method, for example:nn```n->name('*.{jpg,jpeg,gif,png}');n```n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "jackmcdade",
        "issue_closed_at": "2013-02-26"
    },
    {
        "issue_id": 6544,
        "assignees": [],
        "lables": [
            "Form",
            "Enhancement",
            "Easy Pick"
        ],
        "title": "[Form] Make exception handling consistent with other components",
        "body": "The form component currently implements exceptions differently than in other components. This should be made consistent.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2013-04-20"
    },
    {
        "issue_id": 6407,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug",
            "Critical"
        ],
        "title": "[Validator] Spewing deprecated messages",
        "body": "I think something is wrong with the Validator component as is it now spewing deprecated messages even when used straight out of the box. I'm using Xdebug and I get dozens of `E_USER_DEPRECATED` messages. I realise some methods have been deprecated, but deprecated messages should be raised for userland code that needs to be refactored - but this is showing that Validator itself needs to be refactored.  nn`Deprecated: getClassMetadata() is deprecated since version 2.2 and will be removed in 2.3. Use getMetadataFor() instead. in C:xampphtdocscore13srcvendorsymfonyvalidatorSymfonyComponentValidatorMappingClassMetadataFactory.php on line 125`nnMaybe I've missed something?nnping @colinfrein",
        "issue_comments": 26,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2013-01-24"
    },
    {
        "issue_id": 6396,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "[DependencyInjection] Register an extension without configuration.",
        "body": "Hey!nnI use the DependencyInjection component as a standalone component (2.1.* stable) & it seems we can not use the extension behavior if the extension does not provide a configuration.nnI have define a simple extension which only loads an xml file (no configuration).nn``` phpnclass AcmeDemoExtension extends Extensionn{n    public function load(array $configs, ContainerBuilder $container)n    {n        $loader = new XmlFileLoader($container, new FileLocator(__DIR__.'/../Resources/config'));n        $loader->load('services.xml');n    }n}n```nnThen I try to register my extension & compile the container:nn``` phpn$container = new ContainerBuilder();n$container->registerExtension(new AcmeDemoExtension());n$container->compile();n```nnIf I try to acces a service define in the services.xml file, the container can not resolve it due to the `MergeExtensionConfigurationPass` which only load extensions with a configuration.nnNot sure if I'm not aware of something or if it is a bug.nnRegardsn",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "egeloen",
        "issue_closed_at": "2012-12-22"
    },
    {
        "issue_id": 6351,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "DateTimeToStringTransformer - Commit b20c5ca - Broken on some php versions",
        "body": "The subject commit added (among other things):nn```nif (false === strpos($this->parseFormat, '|')) {n    $this->parseFormat .= '|';n}n```nnAccording to notes in the php manual, the trailing | does not work correctly on all php versions:nn```nu201dIt seems that a pipe ('|') option in formating string works only with PHP version 5.3.8 and newer. n We had an issue with it on versions 5.3.2, 5.3.3, 5.3.6. Yet it was fine with 5.3.8 and 5.3.10.u201dn```nnThis fix broke my applications running on 5.3.3 and 5.3.5 applications.  Commenting out the above line fixed the problem.  nnSince 5.5.3 is officially supported by S2 we might consider an adjustment somewhere.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ahundiak",
        "issue_closed_at": "2012-12-14"
    },
    {
        "issue_id": 6315,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Easy Pick"
        ],
        "title": "Better naming for ContainerBuilder::findTaggedServiceIds",
        "body": "The name of ContainerBuilder::findTaggedServiceIds does not really fit it's return value. Instead of an array of service IDs (which would be my first guess for the method's return type), it returns and array of tags. The returned array's keys are the promised service IDs. nnMaybe this method's name should be changed to ContainerBuilder::findTagsByName or something similar, which reflects the method's purpose better.nnIn the same context: doen't the method Definition::getTag return all tags of the definition with a certain name? I don't want to be picky, but I would like these method names to give actual hints about their return values.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "seiffert",
        "issue_closed_at": "2013-09-12"
    },
    {
        "issue_id": 6254,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "2 issues with new fatal error displaying",
        "body": "After my first typo since updating dependencies, I noticed fatal errors were displayed in a symfony layout, unfortunately I'm getting displaying issues.nn![Capture du 2012-12-10 16:09:40.png](https://f.cloud.github.com/assets/1205386/3665/ac003666-42db-11e2-9ea2-6f0ccc0000ef.png)nnThe first issue occurs because I don't have xdebug installed, apparently it has only been tought for xdebug (http://easycaptures.com/fs/uploaded/737/5939488074.png).nnThe second issue occurs because the register method of the ErrorHandler is called twice, I can't investigate on why now (but I don't touch it myself and don't have that many third party bundles installed, fostwitterbundle and genemubundle only), which causes the shutdown function being registered twice.nnA quick fix for the first issue could be to set display_errors to false on debug mode, as apparently all kind of errors would now be displayed by symfony anyway.n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "bamarni",
        "issue_closed_at": "2013-02-15"
    },
    {
        "issue_id": 6246,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Validator error when using collection? Cannot create metadata for non-objects. Got: array",
        "body": "Hi,nnI just updated to the latest master version of symfony2 and I have one page where I show a list of employees and for each employee, the name fields are editable.nnI use a form with a collection field for this. So I have EmployeesType.php with:nn``` phpn    public function buildForm(FormBuilderInterface $builder, array $options)n    {n        $builder->add('employees', 'collection', array('type' => new EmployeeType()));n    }n```nnAnd EmployeeType.php consists out of:nn``` phpn   public function buildForm(FormBuilderInterface $builder, array $options)n    {n        $builder->add('initial', 'text', array('required' => false));n        $builder->add('firstname', 'text');n        $builder->add('lastname', 'text');n    }nn    public function getName()n    {n        return 'employee';n    }nn    public function setDefaultOptions(OptionsResolverInterface $resolver)n    {n        $resolver->setDefaults(array(n            'data_class' => 'DemoDemoBundleEntityEmployee',n        ));n    }n```nnThe save action in my controller is this:nn``` phpn                $form->bind($request);n                $employees = $form->getData();n                foreach ($employees as $employee) {n                    $employee->preUpload();n                   $em->persist($employee);n                }n```nnWhen I hit the save button, I get the following error:nnCannot create metadata for non-objects. Got: arraynin /Volumes/Storage/Development/Qapps/vendor/symfony/symfony/src/Symfony/Component/Validator/Mapping/ClassMetadataFactory.php at line 52nnDo I need to change anything to make my collection form work with the latest update?n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "oscargala",
        "issue_closed_at": "2012-12-13"
    },
    {
        "issue_id": 6227,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "[2.1] issues with StopWatch and HttpCache with ESI",
        "body": "i have a page with a single ESI block. when the cache is empty the page is rendered properly. on the second request i always end up with:nn```nLogicException: The section u201d50c202c895f34u201d has been started at an other level and can not be opened.nn    in /vagrant/vendor/symfony/symfony/src/Symfony/Component/HttpKernel/Debug/Stopwatch.php line 41n    at Stopwatch->openSection('50c202c895f34') in /vagrant/vendor/symfony/symfony/src/Symfony/Component/HttpKernel/Debug/ContainerAwareTraceableEventDispatcher.php line 72n    at ContainerAwareTraceableEventDispatcher->dispatch('kernel.terminate', object(PostResponseEvent)) in /vagrant/vendor/symfony/symfony/src/Symfony/Component/HttpKernel/HttpKernel.php line 90n    at HttpKernel->terminate(object(Request), object(Response)) in /vagrant/vendor/symfony/symfony/src/Symfony/Component/HttpKernel/Kernel.php line 155n    at Kernel->terminate(object(Request), object(Response)) in /vagrant/vendor/symfony/symfony/src/Symfony/Component/HttpKernel/HttpCache/HttpCache.php line 227n    at HttpCache->terminate(object(Request), object(Response)) in /vagrant/web/app_dev.php line 31nn```nnon the master request i have set:nn```n        $response = $this->templating->renderResponse($contentTemplate, $params);n        $response->setCache(array('s_maxage' => 300, 'public' => true));n```nnon the controller for the ESI response it doesnt matter if i set cache headers or not or if i set the response to private or public. i always end up with the above Exception.nnit seems like on a cache hit gets confused about the stopwatch levels.n",
        "issue_comments": 20,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "lsmith77",
        "issue_closed_at": "2013-02-25"
    },
    {
        "issue_id": 6215,
        "assignees": [],
        "lables": [
            "Bug",
            "OptionsResolver"
        ],
        "title": "[OptionsResolver] setOptional + setNormalizers",
        "body": "Using a optional option with a normalizer creates this option on resolve.nThis looks unexpected behavior.nnTest case for in Symfony/Component/OptionsResolver/Tests/OptionsResolverTest.php:nn``` phpnpublic function testNormalizersTransformWithOptionalOption()n    {n        $this->resolver->setOptional(array(n            'foo'n        ));n        $this->resolver->setNormalizers(array(n            'foo' => function (Options $options, $value) {n                return strtoupper($value);n            },n        ));nn        $this->assertEquals(array('foo' => 'BAR'), $this->resolver->resolve(array('foo' => 'bar')));nn        $this->assertEquals(array(), $this->resolver->resolve(array()));n    }n```nnIs this related to https://github.com/symfony/symfony/pull/5104 ?n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "boekkooi",
        "issue_closed_at": "2012-12-07"
    },
    {
        "issue_id": 6141,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[DateType] Date format not localized",
        "body": "I have read in the [documentation](http://symfony.com/doc/current/reference/forms/types/birthday.html#format) that the date input format is guessed according to the user's locale but it doesn't seem to work properly.nn> By default, the format is determined based on the current user localennThe **setDefaultOptions** method of the **SymfonyComponentFormExtensionCoreTypeDateType** always assigns the **HTML5_FORMAT** constant to the format key which is **u201dyyyy-MM-ddu201d**.nn**Edit:** I just found a [blog post](http://symfony.com/blog/form-goodness-in-symfony-2-1) explaining that the localized date is delegated to browsers with HTML5 support when using the single_text widget but what about choice widget?n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "hakisa-jerome",
        "issue_closed_at": "2012-12-07"
    },
    {
        "issue_id": 6134,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Binding a request with a missing file causes an exception instead of an invalid form",
        "body": "When a form that requires a file field is bound and the file is missing an exception is raised instead of just having $form->isValid() return false.  If the file is not missing then things work well.nnWarning: Missing argument 1 for SymfonyComponentHttpFoundationFileFile::__construct(), called in .../Symfony/Component/Form/Extension/Core/Type/FormType.php on line 172nnA workaround is to wrap the $form->bind($this->getRequest()) in a try-catch block and then check if $form->isBound().n",
        "issue_comments": 11,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "roverwolf",
        "issue_closed_at": "2012-12-13"
    },
    {
        "issue_id": 6126,
        "assignees": [],
        "lables": [
            "Bug",
            "CssSelector"
        ],
        "title": "[CSSSelector] nth-child bug - need XPATH expert !",
        "body": "`:nth-child`seems to work fine when it is a top-level selector ie `td:nth-child(2)` however it fails to work when it is not, ie `div.contents  td:nth-child(2)`.nnIn that case, the generated XPath is: `descendant-or-self::div[contains(concat(' ', normalize-space(@class), ' '), ' contents ')]/descendant::*[name() = 'td' and (position() = 2)]` meaning that the `td` should be the second children of the `div` (and not of its parent).nnI don't know XPath enough to fix fix, anybody ? nnA simple testcase: select the second `td` of:nn``` htmln<tr>n<td>not selected</td>n<td>not selected</td>n</tr>n<div class='contents'>n<tr>n<td>not selected</td>n<td>selected</td>n</tr>n</div>n```n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2012-12-03"
    },
    {
        "issue_id": 6101,
        "assignees": [],
        "lables": [
            "HttpFoundation",
            "Easy Pick"
        ],
        "title": "BinaryFileResponse - hashing strategy",
        "body": "Currently the hashing system in the new BinaryFileResponse has known limitations. It will be greatly beneficial if these are addressed by offering means to overcome these.nnhttps://github.com/symfony/symfony/commit/7322696378e96a812c78c1f23b80606b7fb06ac4#commitcomment-2193066nnAn option is to simplify the logic for hashing, by separating the hashing from the setting of the entity tag and from the file-input. This can be done simply by putting sha1_file() in a different method, that can be easily overridden, or by allowing a more OO approach by injecting the hashing strategy. The latter might be a bit more bulky but allows the most flexibility while maintaining clean separation of concerns.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Dynom",
        "issue_closed_at": "2013-02-11"
    },
    {
        "issue_id": 6029,
        "assignees": [],
        "lables": [
            "Easy Pick"
        ],
        "title": "Deprecated: IntlDateFormatter::setTimeZoneId():",
        "body": "As i am playing with 5.5.0 alpha1 and a sf application i get this.nn```nDeprecated: IntlDateFormatter::setTimeZoneId(): Use datefmt_set_timezone() instead, which also accepts a plain time zone identifier and for which this function is now an alias in /Users/Henrik/Work/myapp/vendor/symfony/symfony/src/Symfony/Component/Form/Extension/Core/Type/DateType.php line 262n```n",
        "issue_comments": 25,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "henrikbjorn",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 5940,
        "assignees": [],
        "lables": [
            "Translator",
            "Easy Pick"
        ],
        "title": "[Translation] XLIFF implementation broken by design",
        "body": "We are having an issue with the way the xliff format is implemented inside symfony2. nThis was brought here before by @schmittjoh in #2252 but was closed down.nnI'm proposing to do a BC break here and change the XLIFF to a format where translation tools are actually useful. ne.g. Because we use keys as our translation source the tools like www.getlocalization.com show those keys as a source to be translated which according to the xliff specification is the right thing to do.nn``` xmln<trans-unit id=u201d<id>u201d resname=u201d<resname>u201d>n  <source>Original string</source>n  <target>Target language translation</target>n</trans-unit>n```nnWhere the < id > is somesort of unique id e.g hash of  < resname >, The < resname > is set to translation key or u201dOriginal stringu201d in case that translation is not based on the keys and the < source > tag contains the string in language the translations will be made from.n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mvrhov",
        "issue_closed_at": "2013-03-12"
    },
    {
        "issue_id": 5886,
        "assignees": [],
        "lables": [
            "Bug",
            "DomCrawler",
            "CssSelector"
        ],
        "title": "[DomCrawler/CssSelector] Fixed namespace using in filter by xpath",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes: #4845n",
        "issue_comments": 8,
        "pr_comments": 8,
        "pr_review_comments": 4,
        "committers": [
            "Alexandr Tereschenkov",
            "Alexandr Tereschenkov"
        ],
        "changed_files": 2,
        "issue_created_by": "tereschenkov",
        "issue_closed_at": "2013-09-13"
    },
    {
        "issue_id": 5851,
        "assignees": [],
        "lables": [
            "Bug",
            "Finder"
        ],
        "title": "[Finder] Destroys file names with whitespaces",
        "body": "When I am using Finder correct, it destroys file names containing whitespaces when using built-in sorting features (for instance `Finder::sortByType()`). Sorting with Closures works as expected.nnExample: `/a/b c` will be cut to `/a/b`.nnOS: ArchLinux, Linux 3.5.4-1-ARCHnFS: EXT4nPHP: 5.4.7 (cli)nFinder: 2.2-devnnTest: https://gist.github.com/ec2bb92a2c65133187c8nn```n1) Test::testWithBuiltInSorting with data set #0 ('/tmp/finder-test/2012-10-28T15:27:41+01:00', '/tmp/finder-test/2012-10-28T15:27:41+01:00/HELLO WHITESPACE!')nFailed asserting that two strings are equal.n--- Expectedn+++ Actualn@@ @@n-'/tmp/finder-test/2012-10-28T15:27:41+01:00/HELLO WHITESPACE!'n+'/tmp/finder-test/2012-10-28T15:27:41+01:00/HELLO'n```n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Rayne",
        "issue_closed_at": "2012-10-29"
    },
    {
        "issue_id": 5826,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] A form with an entity field is never empty",
        "body": "`$form->isEmpty()` will always return `false` when a form has a children being an EntitytType multiple, as the model data of this child is an empty ArrayCollection, not an empty array.nThis means that the creation of the empty data will always create a new instance instead of setting it as `null` for these empty elementsn",
        "issue_comments": 11,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-12-13"
    },
    {
        "issue_id": 5800,
        "assignees": [],
        "lables": [
            "Bug",
            "WebProfilerBundle"
        ],
        "title": "Broken timeline panel",
        "body": "8731cc30fff6e34891270ad7db9d1d4fd26800a6 broke the timeline panel. The `dump_event` call on line 436 triggers a notice in the compile Twig template.nI think it is because this macro call is inside another macro, and so the template defining the macro is not available in the context anymore as macros have their own contextn",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-10-22"
    },
    {
        "issue_id": 5742,
        "assignees": [],
        "lables": [
            "Console",
            "Easy Pick"
        ],
        "title": "[Console] [Windows] recuperation of the console height and width for non english OS",
        "body": "[here](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Application.php#L853) and [here](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Console/Application.php#L875), a `exec(u201dmode CONu201d)` is made in order to parse line and column number of the console from Windows command.nnThis only work on english Windows.nnFor example with french Windows: nn```n>php -r u201dexec('MODE CON', $output);var_dump($output);u201dnarray(9) {n  [0]=>  string(0) u201du201dn  [1]=>  string(27) u201dStatut du pu00e9riphu00e9rique CON:u201dn  [2]=>  string(27) u201d---------------------------u201dn  [3]=>  string(26) u201d    Lignesu00a0:          9999u201dn  [4]=>  string(24) u201d    Colonnesu00a0:        80u201dn  [5]=>  string(24) u201d    Vitesse clavieru00a0: 31u201dn  [6]=>  string(23) u201d    Du00e9lai clavieru00a0:   1u201dn  [7]=>  string(25) u201d    Page de codesu00a0:   437u201dn  [8]=>  string(0) u201du201dn}n```nnCouldn't find yet a nice and universal way to do it yet. If anyone has an idea :)n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pborreli",
        "issue_closed_at": "2012-12-13"
    },
    {
        "issue_id": 5733,
        "assignees": [],
        "lables": [
            "Bug",
            "WebProfilerBundle"
        ],
        "title": "[WebProfilerBundle]",
        "body": "I've noticed the web profiler is not showing events anymore. I tested with a fresh checkout of `symfony-standard` also. Simply view any page in developer mode then look at the profiler toolbar.nnWhen you click on events, it reports: nn```nEventsnnNo events have been recorded. Are you sure that debugging is enabled in the kernel ?n```n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2012-10-13"
    },
    {
        "issue_id": 5730,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] The validation of the format in DateTimeType rejects valid values",
        "body": "The DateTimeType expects the format to contain `H`: https://github.com/symfony/symfony/blob/2.1/src/Symfony/Component/Form/Extension/Core/Type/DateTimeType.php#L89nBut this rejects the default Intl format for the `en` locale, as it uses `h` for the hours, not `H`.nn@bschussek should we simply make the check for `h` case insensitive or is there a reason so reject it ?nnNote that I have not checked if 2.0 is also affected.n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-11-09"
    },
    {
        "issue_id": 5707,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] NumberType should display an error when a string is submitted",
        "body": "Hello,nnIn Symfony 2.1.1, when a string such '1aaa' is input in a 'number' Form field, there is no validation error and the string value '1aaa' is converted in the numeric value '1'.nnIt looks like it is due to NumberFormatter in NumberToLocalizedStringTransformer.reverseTransformnna small php script which reproduces the conversion from string to numeric:nn<?php nfunction getNumberFormatter()n{n    $formatter = new NumberFormatter(Locale::getDefault(), NumberFormatter::DECIMAL);  n    $formatter->setAttribute(NumberFormatter::FRACTION_DIGITS, 3);n    $formatter->setAttribute(NumberFormatter::ROUNDING_MODE, NumberFormatter::ROUND_HALFUP);n    $formatter->setAttribute(NumberFormatter::GROUPING_USED, false);n    return $formatter;n}nn$formatter = getNumberFormatter();n$value = $formatter->parse('1aaa');nnecho u201dError Code:u201d.$formatter->getErrorCode().u201dnu201d;necho u201dintl_is_failure:u201d.intl_is_failure($formatter->getErrorCode()).u201dnu201d;necho u201dis_numeric:u201d.is_numeric($value).u201dnu201d;necho $value;nn=>nError Code:0nintl_is_failure:nis_numeric:1n1nnBest regards,nChristophen",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "bdmu",
        "issue_closed_at": "2012-11-08"
    },
    {
        "issue_id": 5695,
        "assignees": [],
        "lables": [
            "Security",
            "Easy Pick"
        ],
        "title": "[2.1][Security] Check_path and logout fails on non latin path",
        "body": "RuntimeException: You must activate the logout in your security firewall configurationnnIn example:nn``` yamln# app/config/security.ymlnsecurity:n    firewalls:n        main:n            form_login:nn                # this is okn                login_path:  /u0432u0445u043eu0434 nn                # check_path failsn                check_path:  /u0430u0432u0442u043eu0440u0438u0437u0430u0446u0438u044fn            logout:n                # logout path failsn                path:   /u0432u044bu0445u043eu0434 n```nnAll this happens because of SymfonyComponentSecurityHttpHttpUtils::checkRequestPath request query string not url decodednn``` phpn    public function checkRequestPath(Request $request, $path)n    {n        if ('/' !== $path[0]) {n            try {n                $parameters = $this->urlMatcher->match($request->getPathInfo());nn                return $path === $parameters['_route'];n            } catch (MethodNotAllowedException $e) {n                return false;n            } catch (ResourceNotFoundException $e) {n                return false;n            }n        }nn        /**n        * var_dump($request->getPathInfo()) ;n        * var_dump($path);n        * (u201d/%d0%b2%d1%8b%d1%85%d0%be%d0%b4u201d === $request->getPathInfo()) truen        * ($path === urldecode($request->getPathInfo())) truen        */n        return $path === $request->getPathInfo();n    }n```n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "omgnull",
        "issue_closed_at": "2012-12-11"
    },
    {
        "issue_id": 5669,
        "assignees": [],
        "lables": [
            "Enhancement",
            "Easy Pick"
        ],
        "title": "[Console] List available commands in the help command",
        "body": "The help command should at least mention the list command (only if it's enabled though), or just simply list available commands when called on the top level `console --help` (not `console foo --help`). nnSee composer/composer#1143n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Seldaek",
        "issue_closed_at": "2012-10-14"
    },
    {
        "issue_id": 5605,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[2.1.2] Validation: Undefined offset when using multidimensional property_path in forms",
        "body": "I have a form that stores results in a multidimensional array. This works fine but when there is a validation error (like a invalid url) it gives me this error:nn```nNotice: Undefined offset: -1 in vendor/symfony/symfony/src/Symfony/Component/Form/Util/PropertyPathBuilder.php line 267n```nnThis is the code I use:nn``` phpnuse SymfonyComponentValidatorConstraintsUrl;nn$formBuilder = $this->createFormBuilder($entity);nn// create an array (not necessary, but just to be sure that n// this won't be the problemn$entity->results = array(n    1 => array(n        2 => nulln    )n);nn$formBuilder->add(n    'result_1_2',n    'text',n    array(n        'property_path'         => 'results[1][2]',n        'validation_constraint' => new Url(array(u201dmessageu201d => u201dInvalid URLu201d))n    )n);nn$form = $formBuilder->getForm();nnif($request->getMethod() == 'POST')n{n    $form->bind($request);nn    if($form->isValid())n    {n        print_r($entity->results);n        die(u201dThe form is VALID!u201d)n    }n}n```nnBut when I change the 2 dimensional array to a normal array it works fine:nn``` phpnuse SymfonyComponentValidatorConstraintsUrl;nn$formBuilder = $this->createFormBuilder($entity);nn$entity->results = array(n    1 => nulln);nn$formBuilder->add(n    'result_1',n    'text',n    array(n        'property_path'         => 'results[1]',n        'validation_constraint' => new Url(array(u201dmessageu201d => u201dInvalid URLu201d))n    )n);nn$form = $formBuilder->getForm();nnif($request->getMethod() == 'POST')n{n    $form->bind($request);nn    if($form->isValid())n    {n        print_r($entity->results);n        die(u201dThe form is VALID!u201d)n    }n}n```n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ruudk",
        "issue_closed_at": "2012-10-05"
    },
    {
        "issue_id": 5603,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "RegexValidator not working properly with u201dmatchu201d option set to u201dfalseu201d",
        "body": "I was trying to use the RegexValidator with the u201dmatchu201d option set to u201dfalseu201d. This leads to incorrect behavior, i.e. the validator keeps raising errors for fields that definitely do _not_ match the Regex.nnThe code in question is [here](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/Constraints/RegexValidator.php#L43).nnThe issue appears to be that the u201dmatchu201d parameter is maintained as a string when set to false and then `xor`ed upon.nnI found [this blog](http://www.mals.me/2012/08/symfony2-regex-match-attribute.html) that explains the problem in more detail. I couldn't find a corresponding bug that was reported by this person, so I'm reporting it now. The patch described there works for me.n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "advancingu",
        "issue_closed_at": "2013-08-24"
    },
    {
        "issue_id": 5578,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Embedded forms using same property path - error bubbling problems",
        "body": "I have a problem that error messages for an embedded form are bubbling to the parent form when used with another embedded form pointing to the same property_path of a related object. nnMy situation is like this, I have Users and Account entities I have split up the Account into different forms, then for the registration form I am pulling these bits together like so:nn```nclass RegistrationFormType extends AbstractTypen{nnpublic function buildForm(FormBuilderInterface $builder, array $options)n{n    $buildern        ->add('email', 'email', array(n            'label' => '* Email address:'n        ))n        ->add('account_personal', 'my_personalinfo_form', array(n            'property_path' => 'account'n        ))n        ->add('account_contact', 'my_contactinfo_form', array(n            'property_path' => 'account'n        ))n    ;n}n```nnThe problem is that error messages for `account_personal` are bubbling to the top of the form. For example u201dPlease enter your first nameu201d if first name is left blank in the personal info form. The 'personal' and 'contact' forms work fine in their own forms on their own pages.nnThe error messages for account_contact are fine and appear next to the correct fields.nnHOWEVER, if I swap the two `->add` bits about above (so have `account_contact` first) then the problem reverses; the error messages for `account_personal` now appear correctly next to their corresponding fields, but now the errors for `account_contact` get bubbled to the top!nnDoes this sound like a bug or am I doing something wrong?nnThanks!nn---- Other files for reference:nnPersonal info form:nn```nclass PersonalInfoType extends AbstractTypen{nnpublic function buildForm(FormBuilderInterface $builder, array $options)n{n    $buildern        ->add('title', 'text')n        ->add('first_name', 'text', array(n            'required' => true,n            'label' => '* First name:'n        ))n        ->add('last_name', 'text', array(n            'required' => true,n            'label' => '* Surname:'n        ))n    ;n}nnpublic function setDefaultOptions(OptionsResolverInterface $resolver)n{n    $resolver->setDefaults(array(n        'data_class' => 'MyUserBundleEntityAccount',n        'validation_groups' => array('personalInfo')n    ));n}nnpublic function getName()n{n    return 'my_personalinfo_form';n}n```nnContact info form:nn```nclass ContactInfoType extends AbstractTypen{npublic function buildForm(FormBuilderInterface $builder, array $options)n{n    $buildern        ->add('postcode', 'text', array(n            'required' => truen        ))n        ->add('address_1', 'text', array(n            'required' => truen        ))n        ->add('address_2', 'text', array(n            'required' => falsen        ))n        ->add('address_3', 'text', array(n            'required' => falsen        ))n        ->add('town', 'text')n        ->add('phone_daytime', 'text', array(n            'required' => truen        ))n        ->add('phone_mobile', 'text', array(n            'required' => truen        ))n    ;n}nnpublic function setDefaultOptions(OptionsResolverInterface $resolver)n{n    $resolver->setDefaults(array(n        'data_class' => 'MyUserBundleEntityAccount',n        'validation_groups' => array('contactInfo')n    ));n}nnpublic function getName()n{n    return 'my_contactinfo_form';n}n```nnand the Account entity for completion:nn```n/**n * MyUserBundleEntityAccountn *n * @ORMEntityn * @ORMTable( name=u201daccountsu201d )n */nclass Accountn{n/**n * @ORMIdn * @ORMColumn(type=u201dintegeru201d)n * @ORMGeneratedValue(strategy=u201dAUTOu201d)n */nprotected $id;nn/**n * @ORMColumn(type=u201dstringu201d, length=25, nullable=true)n * @AssertChoice(choices = {u201dMru201d, u201dMrsu201d, u201dMissu201d, u201dMsu201d, u201dDru201d, u201dProfu201d}, message = u201dChoose a valid titleu201d, groups={u201dpersonalInfou201d})n */nprotected $title;nn/**n * @ORMColumn(type=u201dstringu201d, length=150, nullable=true)n * @AssertNotBlank(message=u201dPlease enter your first nameu201d, groups={u201dpersonalInfou201d})n * @AssertLength(max=150, maxMessage=u201dnull|Your first name must have less than {{ limit }} charactersu201d, groups={u201dpersonalInfou201d})n * @AssertRegex(n *     pattern=u201d/d/u201d,n *     match=false,n *     message=u201dYour name cannot contain a numberu201dn * )n */nprotected $first_name;nn/**n * @ORMColumn(type=u201dstringu201d, length=150, nullable=true)n * @AssertNotBlank(message=u201dPlease enter your last nameu201d, groups={u201dpersonalInfou201d})n * @AssertLength(max=150, maxMessage=u201dnull|Your last name must have less than {{ limit }} charactersu201d, groups={u201dpersonalInfou201d})n * @AssertRegex(n *     pattern=u201d/d/u201d,n *     match=false,n *     message=u201dYour name cannot contain a numberu201dn * )n */nprotected $last_name;nn/**n * @ORMColumn(type=u201dstringu201d, length=255, nullable=true)n * @MyAssertPhone(message=u201dYour daytime phone number is not validu201d, groups={u201dcontactInfou201d})n */nprotected $phone_daytime;nn/**n * @ORMColumn(type=u201dstringu201d, length=255, nullable=true)n * @MyAssertMobilePhone(message=u201dYour mobile phone number is not validu201d, groups={u201dcontactInfou201d})n */nprotected $phone_mobile;nn/**n * @ORMColumn(type=u201dstringu201d, length=255)n * @AssertNotBlank(message=u201dPlease enter the first line of your addressu201d, groups={u201dcontactInfou201d}n * @AssertLength(max=250, maxMessage=u201dnull|The first line of your address must have less than {{ limit }} charactersu201d, groups={u201dcontactInfou201d})n */nprotected $address_1;nn/**n * @ORMColumn(type=u201dstringu201d, length=255, nullable=true)n * @AssertLength(max=250, maxMessage=u201dnull|The second line of your address must have less than {{ limit }} charactersu201d, groups={u201dcontactInfou201d})n */nprotected $address_2;nn/**n * @ORMColumn(type=u201dstringu201d, length=255, nullable=true)n * @AssertLength(max=250, maxMessage=u201dnull|The third line of your address must have less than {{ limit }} charactersu201d, groups={u201dcontactInfou201d})n */nprotected $address_3;nn/**n * @ORMColumn(type=u201dstringu201d, length=45, nullable=true)n * @AssertNotBlank(message=u201dPlease enter your townu201d, groups={u201dcontactInfou201d})n * @AssertLength(max=45, maxMessage=u201dnull|Your town name must have less than {{ limit }} charactersu201d, groups={u201dcontactInfou201d})n */nprotected $town;nn/**n * @ORMColumn(type=u201dstringu201d, length=45, nullable=true)n * @AssertNotBlank(message=u201dPlease enter your postcodeu201d, groups={u201dcontactInfou201d})n * @MyAssertPostcode(message=u201dInvalid postcode enteredu201d, groups={u201dcontactInfou201d})n */nprotected $postcode;nn ... etcn```n",
        "issue_comments": 11,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "lopsided",
        "issue_closed_at": "2013-04-19"
    },
    {
        "issue_id": 5554,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Birthday input does not show all dates",
        "body": "Symfony Standard Edition v2.1.2nnWhile looking at some of the form input options, I found an odd problem. When creating a birthday input using a range above 110 (such as the default of 120), any choices above (date('Y') - 110) aren't being displayed even though an option element is being created. Is anyone else having this problem?nn``` phpnpublic function indexAction() {n    $form = $this->createFormBuilder()n        ->add('birthday', 'birthday')n        ->add('birthday_working', 'birthday', array(n            'years' => range(date('Y') - 110, date('Y')),n        ))n        ->getForm();nn    // Template is the basic form template from the bookn    return $this->render('ABCDefaultBundle:Default:default.html.twig', array(n        'form' => $form->createView(),n    ));n}n```nn``` htmln<div id=u201dform_birthdayu201d>n    <select id=u201dform_birthday_yearu201d name=u201dform[birthday][year]u201d required=u201drequiredu201d>n        <option value=u201d1892u201d></option>n        <option value=u201d1893u201d></option>n        <option value=u201d1894u201d></option>n        <option value=u201d1895u201d></option>n        <option value=u201d1896u201d></option>n        <option value=u201d1897u201d></option>n        <option value=u201d1898u201d></option>n        <option value=u201d1899u201d></option>n        <option value=u201d1900u201d></option>n        <option value=u201d1901u201d></option>n        <option value=u201d1902u201d>1902</option>n        <option value=u201d1903u201d>1903</option>n        <option value=u201d1904u201d>1904</option>n```nn... and so on.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "cjwprostar",
        "issue_closed_at": "2012-10-22"
    },
    {
        "issue_id": 5545,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "[Console] Cannot use negative numbers as arg values - fix suggested",
        "body": "I have a console tool to convert IP numbers supplied in different formats. One of these formats could be a long with a negative value.nnAt the moment if I use this command:nn```nphp console ip:convert -1062731265n```nnIt will throw a RuntimeException:nn```n[RuntimeException]               nThe u201d-1u201d option does not exist.n```nnHowever if I go in and edit `/Component/Console/Input/ArgvInput.php` line `87` and change it from:nn```n} elseif ($parseOptions && '-' === $token[0]) {n```nnto:nn```n} elseif ($parseOptions && '-' === $token[0] && !is_numeric($token)) {n```nnIt will now work and the console command will output:nn```nConverting the following IP: -1062731265n    IP: 192.168.1.255n    Version: 4n    Hex: c0a801ffn    Long: -1062731265n```nnI am not sure if that was the right way to solve the problem, but if it could be fixed it would be appreciated.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "de1mat",
        "issue_closed_at": "2013-02-25"
    },
    {
        "issue_id": 5506,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation",
            "Easy Pick"
        ],
        "title": "JsonResponse can not be used to return an empty array",
        "body": "I have a REST API that is used for retrieving a list of objects. From our perspective this API could quite legitimately return no matching results (ie an empty array).nnJsonResponse force converts an empty array to an ArrayObject which then gets output as an empty object giving us the wrong results on the client side. Nothing in the JSON spec mandates that the top level element can not be an empty array as such this looks like a bug in the Symfony JsonResponse object.nnThe offending code is viewable [here](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpFoundation/JsonResponse.php#L80). Fixing it should just be a matter of removing that if statement.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "aashley",
        "issue_closed_at": "2013-01-11"
    },
    {
        "issue_id": 5458,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Multiple u201dmoneyu201d fields with different currencies show the same currency",
        "body": "If you have a form with two u201dmoneyu201d fields, but each field has a different currency, then the second field's currency setting will be ignored, and the currency from the previous money field used instead.nnE.g.nn```n->add('priceGBP', 'money', array ('label'  => 'Price GBP', 'currency' => 'GBP'))n->add('priceEUR', 'money', array ('label'  => 'Price EUR', 'currency' => 'EUR'))n```nnIn this case, both fields are showing the currency as GBP.nnThis is on the Symfony 2.0.x branch.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "benr77",
        "issue_closed_at": "2012-10-18"
    },
    {
        "issue_id": 5388,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] PropertyPath guessing of singulars: an error with incorrect information is displayed",
        "body": "When PropertyPath doesn't find the getters/setters for the guessed singulars, [following error is displayed](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Form/Util/PropertyPath.php#L522):nn```nprovide a singular by suffixing the property path with u201d|{singular}u201d to override the guessern```nnBut, at the moment, this is not correct, because [the code responsible for the behavior is commented](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Form/Util/PropertyPath.php#L113):nn```n// Disabled this behaviour as the syntax is not yet finaln//$pos = strpos($element, self::SINGULAR_SEPARATOR);n$pos = false;n$singular = null;nnif (false !== $pos) {n    $singular = substr($element, $pos + 1);n    $element = substr($element, 0, $pos);n}n```nnI think, the syntax is currently being discussed in #5013.nnBy the way, until the syntax is fixed, does anybody know if there is some workaround?n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "waiting-for-dev",
        "issue_closed_at": "2012-10-18"
    },
    {
        "issue_id": 5384,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "[Console] Command executed even when it is ambigous",
        "body": "When I launch 'php app/console doctrine:', it executes the doctrine:ensure-production-settings command. But when I type 'php app/console doctrine' or 'php app/console doctrine:s', suggestions are properly displayed.nnI thought it was because it's ending with an ':', but I don't have the issue for other namespaces where I have multiple commands (eg. 'router:' works fine).nnDo you know why it happens?n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "bamarni",
        "issue_closed_at": "2012-10-11"
    },
    {
        "issue_id": 5316,
        "assignees": [],
        "lables": [
            "Enhancement",
            "Console",
            "Easy Pick"
        ],
        "title": "the help of the command does not display global options",
        "body": "Options available from the Application itself don't appear when displaying the help of a command by adding `--help`. Because of this, users need to be aware of the component implementation to know that more options may be available and that they need to call `app/console help` without specifying a command name to show them.nnI suggest adding a section `Global options` in the help output to show them too, keeping them isolated from command-specific options (btw, weren't they displayed in the list at some point ?)n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-10-14"
    },
    {
        "issue_id": 5315,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] DoctrineOrmTypeGuesser::guessRequired() isn't aware of associations",
        "body": "Hi,nnI have a blog project with `Post` entities. Posts can be translated, they are referenced to the original post using a one-to-one relationship that is nullable. Here's my `Post` entity:nn``` phpn<?phpnclass Postn{n    // ...nn    /**n     * @ORMOneToOne(targetEntity=u201dPostu201d)n     */n    protected $translation;n}n```nnI create the `PostType` form class in a basic way:nn``` phpn<?phpnclass PostType extends AbstractTypen{n    public function buildForm(FormBuilderInterface $builder, array $options)n    {n        $buildern            // ...n            ->add('translation')n        ;n    }n}n```nnBut when the form is rendered, the generated select tag has an HTML u201drequiredu201d attribute, and no blank value. So on client side, this field is required.nBut if I add a blank value and remove the required attribute, I can submit the form, and the server side validation allows me to submit my Post with a null translation; the Post is successfully saved in the database.nnAfter some investigation (see [thread on google group](https://groups.google.com/d/topic/symfony2/kynBvQdr1ic/discussion)),  we found out that the issue is in `DoctrineOrmTypeGuesser::guessRequired()`. This method only scans the fields of the entity, not the associations. So nothing is guessed, and the property is set as required:nn``` phpn<?phpn/**n * {@inheritDoc}n */npublic function guessRequired($class, $property)n{n    $ret = $this->getMetadata($class);n    if ($ret && $ret[0]->hasField($property)) {n        if (!$ret[0]->isNullable($property)) {n            return new ValueGuess(true, Guess::HIGH_CONFIDENCE);n        }nn        return new ValueGuess(false, Guess::MEDIUM_CONFIDENCE);n    }n}n```nnSo I think that this code should be added in the `DoctrineOrmTypeGuesser::guessRequired()` method:nn``` phpn<?phpnif ($ret && $ret[0]->hasAssociation($property)) {n    if (!$ret[0]->isAssociationNullable($property)) {n        return new ValueGuess(true, Guess::HIGH_CONFIDENCE);n    }nn    return new ValueGuess(false, Guess::MEDIUM_CONFIDENCE);n}n```nnBut there's a problem: the `isAssociationNullable()` method doesn't exist in the `ClassMetadataInfo` class, it has to be added. But this class is owned by Doctrine, so I guess in this case I should also create a Doctrine ticket an link it to this one (I'm not familiar with github yet, sorry!).nnEdit: here is the doctrine ticket: http://www.doctrine-project.org/jira/browse/DDC-1993nnGru00e9goire.n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Gregoire-M",
        "issue_closed_at": "2012-12-15"
    },
    {
        "issue_id": 5227,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Date type does not accept years before 1902/after 2037",
        "body": "IntlDateFormatter have some issues in transformation of Date.nn```n$fmt = new IntlDateFormatter('en_US', IntlDateFormatter::SHORT, IntlDateFormatter::SHORT, 'UTC', IntlDateFormatter::GREGORIAN, 'yyyy');nn$value = new DateTime();n$value->setDate(1900, 1, 1);nnvar_dump($fmt->format($value));n```nnExpected: string '1900'nActual: boolean falsennSince Date widget base on this formatter, by default it only display years in range 1902-2037.n",
        "issue_comments": 16,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Irohane",
        "issue_closed_at": "2013-02-25"
    },
    {
        "issue_id": 5190,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] FixCheckboxInputListener can cause an UnexpectedTypeException",
        "body": "Whilst testing the validation on an expanded multiple choice form element, I changed one of the checkbox values to a value not in the choice list. This yielded an `UnexpectedTypeException` at `Symfony/Component/Form/Form.php line 576`. The problem is caused by the `array_combine()` in `FixCheckboxInputListener::preBind()` returning false because `$indicies` contains 2 elements but `$values` contains 3.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "cs278",
        "issue_closed_at": "2013-09-10"
    },
    {
        "issue_id": 5144,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "u201dinvalid_message_parametersu201d unknown for 2.1beta4",
        "body": "In the beta4, I have a date field with the following configurationnn<pre>n->add('startDate', 'date', array(n                'widget' => 'single_text',n                'format' => 'dd-MM-yyyy',n                'input' => 'datetime',n                'required' => false,n                'label' => 'start date',n                'invalid_message' => 'The date should has the format %format%',n                'invalid_message_parameters' => array('%format%' => 'dd-MM-yyyy')n            ))n</pre>nnnand I got the following error:nnThe option u201dinvalid_message_parametersu201d does not exist. Known options are: u201dattru201d, u201dblock_nameu201d, u201dby_referenceu201d, u201dcascade_validationu201d, u201dcompoundu201d, u201dconstraintsu201d, u201dcsrf_field_nameu201d, u201dcsrf_protectionu201d, u201dcsrf_provideru201d, u201ddatau201d, u201ddata_classu201d, u201ddata_timezoneu201d, u201ddaysu201d, u201ddisabledu201d, u201dempty_datau201d, u201dempty_valueu201d, u201derror_bubblingu201d, u201derror_mappingu201d, u201dextra_fields_messageu201d, u201dformatu201d, u201dinputu201d, u201dintentionu201d, u201dinvalid_messageu201d, u201dlabelu201d, u201dlabel_attru201d, u201dmappedu201d, u201dmax_lengthu201d, u201dmodel_timezoneu201d, u201dmonthsu201d, u201dpatternu201d, u201dpost_max_size_messageu201d, u201dproperty_pathu201d, u201dread_onlyu201d, u201drequiredu201d, u201dtranslation_domainu201d, u201dtrimu201d, u201duser_timezoneu201d, u201dvalidation_constraintu201d, u201dvalidation_groupsu201d, u201dview_timezoneu201d, u201dvirtualu201d, u201dwidgetu201d, u201dyearsu201dn500 Internal Server Error - InvalidOptionsExceptionn",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "arnaugm",
        "issue_closed_at": "2012-08-16"
    },
    {
        "issue_id": 5134,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "HttpFoundation",
            "Unconfirmed"
        ],
        "title": "Unhandled FileNotFoundException if uploaded file > php.ini: upload_max_file size",
        "body": "This looks like a duplicate of a previously fixed issue (https://github.com/symfony/symfony/issues/1441) which is occurring for me in 2.1.x-dev beta version (just upgraded to beta 4 today).nIn my php.ini upload_max_filesize is set to 2MnWhen I upload a file > 2M (3.2M in my case) I get n`The file u201du201d does not existn    500 Internal Server Error - FileNotFoundException` nWhen I upload any file < 2M I have no issue.  I also tried changing my file maxSize assertion to be less than 2M, but that had no effect.nnI'll paste the stack trace below.  It comes up from my usage of getMimeType() on the file in my preUpload callbacknn```n    /**    n     * @ORMPrePersist()n     * @ORMPreUpdate()n     */n    public function preUpload()n    {n        if (null !== $this->file)n        {n            // do whatever you want to generate a unique namen            $this->path = uniqid() . '.' . $this->file->guessExtension();nn            $this->mimeType = $this->file->getMimeType();n        }n        $this->setUpdateTime(time());n    }n```nnHere is the stack trace:n`Stack Tracen    1.  in /data/www/bfg_v2/Symfony/vendor/symfony/symfony/src/Symfony/Component/HttpFoundation/File/MimeType/MimeTypeGuesser.php at line 107u00a0 n    2.  at MimeTypeGuesser ->guess ('') u2028in /data/www/bfg_v2/Symfony/vendor/symfony/symfony/src/Symfony/Component/HttpFoundation/File/File.php at line 79u00a0 n    3.  at File ->getMimeType () u2028in /data/www/bfg_v2/Symfony/vendor/symfony/symfony/src/Symfony/Component/HttpFoundation/File/File.php at line 58u00a0 n    4.  at File ->guessExtension () u2028in /data/www/bfg_v2/Symfony/src/CG5/BFG/CoreBundle/Entity/Document.php at line 74u00a0 n    5.  at Document ->preUpload () u2028in kernel.root_dir/cache/dev/doctrine/orm/Proxies/__CG__CG5BFGCoreBundleEntityDocument.php at line 60u00a0 n    6.  at Document ->preUpload () u2028in /data/www/bfg_v2/Symfony/vendor/doctrine/orm/lib/Doctrine/ORM/Mapping/ClassMetadataInfo.php at line 1884u00a0 n    7.  at ClassMetadataInfo ->invokeLifecycleCallbacks ('preUpdate', object(Document)) u2028in /data/www/bfg_v2/Symfony/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php at line 947u00a0 n    8.  at UnitOfWork ->executeUpdates (object(ClassMetadata)) u2028in /data/www/bfg_v2/Symfony/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php at line 310u00a0 n    9.  at UnitOfWork ->commit (null) u2028in /data/www/bfg_v2/Symfony/vendor/doctrine/orm/lib/Doctrine/ORM/EntityManager.php at line 355u00a0 n    10. at EntityManager ->flush () u2028in /data/www/bfg_v2/Symfony/src/CG5/BFG/CoreBundle/Controller/ClassifiedController.php at line 231u00a0 n    11. at ClassifiedController ->updateAction ('10')n    12. at ReflectionMethod ->invokeArgs (object(ClassifiedController), array('10')) u2028in /data/www/bfg_v2/Symfony/vendor/jms/cg/src/CG/Proxy/MethodInvocation.php at line 63u00a0 n    13. at MethodInvocation ->proceed () u2028in /data/www/bfg_v2/Symfony/vendor/jms/security-extra-bundle/JMS/SecurityExtraBundle/Security/Authorization/Interception/MethodSecurityInterceptor.php at line 122u00a0 n    14. at MethodSecurityInterceptor ->intercept (object(MethodInvocation)) u2028in /data/www/bfg_v2/Symfony/vendor/jms/cg/src/CG/Proxy/MethodInvocation.php at line 58u00a0 n    15. at MethodInvocation ->proceed () u2028in kernel.root_dir/cache/dev/diextra/proxies/CG5-BFG-CoreBundle-Controller-ClassifiedController.php at line 21u00a0 n    16. at ClassifiedController ->updateAction ('10')n    17. at call_user_func_array (array(object(ClassifiedController), 'updateAction'), array('10')) u2028in kernel.root_dir/bootstrap.php.cache at line 1419u00a0 n    18. at HttpKernel ->handleRaw (object(Request), '1') u2028in kernel.root_dir/bootstrap.php.cache at line 1383u00a0 n    19. at HttpKernel ->handle (object(Request), '1', true) u2028in kernel.root_dir/bootstrap.php.cache at line 1559u00a0 n    20. at HttpKernel ->handle (object(Request), '1', true) u2028in kernel.root_dir/bootstrap.php.cache at line 610u00a0n    21. at Kernel ->handle (object(Request)) u2028in /data/www/bfg_v2/Symfony/web/app_dev.php at line 28`n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "chrisjohnson00",
        "issue_closed_at": "2012-08-07"
    },
    {
        "issue_id": 5113,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Form validates although invalid choice is given with expanded=true ",
        "body": "In Symfony 2.0 a form is not valid when an unknown/invalid choice value is bound to a form. It does not matter if the type option **expanded** is set to true or false.nHowever with the latest changes in the Symfony master the form is now valid with this invalid choice. The invalid choice u201dis lostu201d somewhere in the form workflow and so the field is validated successfully because its value is empty and not required.nWhen the expanded=true option is set in the type everything is working as expected.nBesides one can pass anything as invalid choice, a string, an array the result is always the same: the form validates and the resulting field value is null. It also does not matter if the choice type gets the optional Choice constraint assigned.nnHere two example test cases (without namespaces) for Symfony 2.0 and 2.1nnTest case for **Symfony 2.0** (form is not valid: OK):nn``` PHPnrequire_once dirname(__DIR__).'/../../../app/AppKernel.php';nnuse SymfonyComponentFormAbstractType;nuse SymfonyComponentFormFormBuilder;nuse SymfonyComponentValidatorConstraintsChoice;nn/**n * Test casen */nclass InvalidChoiceType20Test extends PHPUnit_Framework_TestCasen{n    private $container;nn    protected function setUp()n    {n        $this->kernel = new AppKernel('test', true);n        $this->kernel->boot();nn        $this->container = $this->kernel->getContainer();n    }nn    /**n     * @group invalidchoicen     */n    public function testInvalidChoice()n    {n        $type = new WhatChoiceType();nn        $form = $this->container->get('form.factory')->createBuilder($type)->getForm();n        $form->bind(array(n            'what' => 'baz' //invalid choice should failn        ));nn        print_r($form->getErrors());n        //print_r($form->get('something')->getErrors());n        $this->assertFalse($form->isValid());n    }n}nnclass WhatChoiceType extends AbstractTypen{n    public function buildForm(FormBuilder $builder, array $options)n    {n        $choices = array('foo' => 'FOO!', 'bar' => 'BAR?');nn        $options = array(n            'label' => 'Your choice',n            'choices' => $choices,n            'multiple' => false,n            'expanded' => true,n        );n        $builder->add('what', 'choice', $options);n    }nn    public function getDefaultOptions(array $options)n    {n        return array(n            'csrf_protection' => falsen        );n    }nn    public function getName()n    {n        return 'what';n    }n}n```nnTest case for **Symfony 2 master** (form is valid: FAIL!):nn``` PHPnrequire_once dirname(__DIR__).'/../../../../../app/AppKernel.php';nnuse SymfonyComponentFormFormFactory;nuse SymfonyComponentFormForm;nnuse SymfonyComponentFormAbstractType;nuse SymfonyComponentFormFormBuilderInterface;nuse SymfonyComponentValidatorConstraintsChoice;nn/**n * Test casen */nclass InvalidChoiceType21Test extends PHPUnit_Framework_TestCasen{n    private $container;nn    protected function setUp()n    {n        $this->kernel = new AppKernel('test', true);n        $this->kernel->boot();nn        $this->container = $this->kernel->getContainer();n    }nn    /**n     * @group invalidchoicen     */n    public function testInvalidChoice()n    {n        $whatType = new WhatChoiceType();nn        $form = $this->container->get('form.factory')->createBuilder($whatType, null, array('csrf_protection' => false))->getForm();n        $form->bind(array(n            'what' => 'baz' //invalid choice should failn        ));nn        print_r($form->getErrors());n        //print_r($form->get('framework')->getErrors());n        $this->assertFalse($form->isValid());n    }nn}nnclass WhatChoiceType extends AbstractTypen{n    public function buildForm(FormBuilderInterface $builder, array $options)n    {n        $choices = array('foo' => 'FOO!', 'bar' => 'BAR?');nn        $options = array(n            'label' => 'Your choice',n            'choices' => $choices,n            'multiple' => false,n            'expanded' => true,n            'constraints' => new Choice(array(n                'multiple' => false,n                'choices' => array_keys($choices),n                'message' => 'Plz choose sth'n            ))n        );n        $builder->add('what', 'choice', $options);n    }nn    public function getName()n    {n        return 'what';n    }n}nn```nnMaybe we are missing something, but we could not get it running.n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "frastel",
        "issue_closed_at": "2013-09-10"
    },
    {
        "issue_id": 5064,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "TwigBundle"
        ],
        "title": "[2.1][Form] form.field.vars is broken",
        "body": "The twig syntax `form.field.vars` is broken since beta3. I have a simple form:nn``` phpnnamespace AcmeDemoBundleModel;nnclass Testn{n    private $url;nn    public function getUrl()n    {n        return $this->url;n    }n}n```nn``` phpnnamespace AcmeDemoBundleForm;nnclass TestType extends AbstractTypen{n    // etcn}n```nn```n{% if form.url.vars.errors | length == 0 %}n{% endif %}n```nnThe above syntax generates the following error:nn> Notice: Undefined index: vars in symfony/src/Symfony/Component/Form/FormView.php line 308nnI did some digging and it seems that `FormView` implements `ArrayAccess` which calls `offsetGet`, and that method returns `$this->children[$name]`. Is there another way to call `FormView->vars` in twig or is this a bug? I could of cource use `form.url.get('errors')` but that method is deprecated. The readme suggest using the public property `vars` but it's not possible to call it in a twig template?n",
        "issue_comments": 30,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "XWB",
        "issue_closed_at": "2012-08-30"
    },
    {
        "issue_id": 5030,
        "assignees": [],
        "lables": [
            "Bug",
            "Process"
        ],
        "title": "Process::stop() might not work as expected",
        "body": "Since PHP internally executes all commands using `sh -c u201doriginal cmdu201d` a call to `->stop()` does not actually stop our process, but instead stops `sh -c` while the real process can still continue running.nnI'm not sure what the best fix is here, we could add an `exec` call in front of the command to remove the `sh -c` wrapper and directly control our process.nnAnother improvement in the stop() method would be to send a final `SIGKILL` signal if the process does not terminate after sending `SIGTERM`. But that would only make sense if we actually send this signal to the real process, not to the wrapper.n",
        "issue_comments": 12,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "schmittjoh",
        "issue_closed_at": "2013-04-26"
    },
    {
        "issue_id": 5019,
        "assignees": [],
        "lables": [
            "WebProfilerBundle",
            "Easy Pick"
        ],
        "title": "Wrong display in the timeline when 2 listeners have the same short class name",
        "body": "When 2 listeners have the same short class name, the timeline display them in the same row (as if it was the same listener called twice) instead of using 2 rows.nnI saw it with AsseticBundle and NelmioApiDocBundle which have both a RequestListener (you may need to change the threshold to see them in the timeline as they are faster than 1ms)n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-11-10"
    },
    {
        "issue_id": 4999,
        "assignees": [],
        "lables": [
            "Bug",
            "Enhancement",
            "Process"
        ],
        "title": "Output handling for Background Processes",
        "body": "Right now, if you start a background process with `Process::start()` and then in random time intervals call `getOutput()` or `getErrorOutput()` it is always returning the entire output.nnI would expect it to return only the new output since the last call. Alternatively, we could also think about adding a separate method which only returns the incremental output.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "schmittjoh",
        "issue_closed_at": "2012-10-27"
    },
    {
        "issue_id": 4978,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "[HttpFoundation] Response throws a notice",
        "body": "If I create a response object with a status code that is not defined in the Response::$statusTexts, setStatusCode will issue a notice.nThis could give unpleasant results, generating potential embarrassing exceptions: http://stackoverflow.com/questions/11550765n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2012-07-20"
    },
    {
        "issue_id": 4922,
        "assignees": [],
        "lables": [
            "Bug",
            "Finder"
        ],
        "title": "Finder. Append iterator issue",
        "body": "https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Finder/Finder.phpnn528 line  $iterator->append($this->searchInDirectory($dir));ncauses appearing file twice in the resultnnFor more details look at  https://github.com/willdurand/BazingaExposeTranslationBundle/issues/31n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "recipe",
        "issue_closed_at": "2012-07-27"
    },
    {
        "issue_id": 4911,
        "assignees": [],
        "lables": [
            "Bug",
            "Finder"
        ],
        "title": "ignoreDotFiles(true) does not exclude folders properly",
        "body": "I found a weird behavior with `ignoreDotFiles(true)`: the testsuite of the ExcludeDirectoryFilterIterator passes properly but folder starting with a dot are not ignored.nnI found it when using the PHP-CS-Fixer (which calls this method in its DefaultFinder).nn```nmkdir .testnecho u201dfoo     u201d > .test/foo.phpnphp-cs-fixer fix . --dry-runn```nnExpected output: no change.nActual output: `.test/foo.php` is modifiednnThis is a bit annoying as it means that the fixer messes with the .idea folder holding the PHPStorm metadata.nnFYI, I found this bug on Windows. I don't know if it is a platform-specific bug or if it affects Unix environments as well.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2013-02-26"
    },
    {
        "issue_id": 4894,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] query_builder will only get used for the first document Field Type",
        "body": "(don't know, if this is only DoctrineMongoDBBundle-related)nI've a Document like this:nn``` phpn/**n * @ODMDocument(collection=u201dgroupu201d)n */nclass Groupn{n    /**n     * @ODMStringn     */n    protected $type;nn    /**n     * @param Stringn     */n    public function setType($type)n    {n        $this->type = $type;n    }nn    /** n     * @return Stringn     */n    public function getType()n    {n        return $this->type;n    }n}n```nnAnd will add a Form, with two document Field Types, where field1:ntype=='Terminal'nand field2:ntype=='Location'nnSo my Form looks like this:nn``` phpn$builder->add('terminalGroup', 'document', array('required' => false, 'class' => 'testTestBundleDocumentGroup',    'query_builder' => function(DocumentRepository $dm) { return $dm->createQueryBuilder('')->field('type')->equals('Terminal');}));n$builder->add('locationGroup', 'document', array('required' => false, 'class' => 'testTestBundleDocumentGroup',    'query_builder' => function(DocumentRepository $dm) { return $dm->createQueryBuilder('')->field('type')->equals('Location');}));n```nnForm-Field terminalGroup and locationGroup display the same Documents (any document, which holds type = 'Terminal').nnI recognized the issue first today, don't know if this is related on PR #4881 n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mrohnstock",
        "issue_closed_at": "2012-07-13"
    },
    {
        "issue_id": 4841,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Broken loading in the ClassCollectionLoader",
        "body": "With a fresh project, I just received the errornnFatal error: Cannot redeclare class SymfonyComponentRoutingGeneratorUrlGeneratorInterface in .../app/cache/dev/classes.php on line 1599nnClearing the cache (thus regenerating the file) solved the issue for me.nnI looked at the file before and after the change and figured a difference: in the first case, the Router was declared before the UrlGenerator, thus appending its interfaces before him, but RouterInterface first and UrlGeneratorInterface after it (thus breaking things). With my newly generated file, the UrlGenerator is added before the Router, thus forcing UrlGeneratorInterface to be added first.nThe ClassCollectionLoader  handles the ordering of classes to ensure parent classes are defined first, but it does not seems to ensure the ordering of interfaces to ensure they come in the right order. And the randomness of the issue (I don't get it anymore now) let me think that the order of class is not deterministic in the file.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-07-10"
    },
    {
        "issue_id": 4813,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed the u201ddatau201d option to supersede default data set in the model",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #3899nTodo: -n",
        "issue_comments": 0,
        "pr_comments": 0,
        "pr_review_comments": 2,
        "committers": [
            "Bernhard Schussek"
        ],
        "changed_files": 9,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-07-10"
    },
    {
        "issue_id": 4799,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Unified rendering of errors for nested elements",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: yes?nSymfony2 tests pass: yesnFixes the following tickets: #4615nTodo: -n",
        "issue_comments": 0,
        "pr_comments": 0,
        "pr_review_comments": 2,
        "committers": [
            "Bernhard Schussek"
        ],
        "changed_files": 12,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-07-09"
    },
    {
        "issue_id": 4747,
        "assignees": [],
        "lables": [
            "Bug",
            "FrameworkBundle"
        ],
        "title": "Broken cache:warmup command because of the ClassCollectionLoader",
        "body": "a few days ago, the warmup code has been modified to generate the file of the ClassCollectionLoader. But now, the cache warmup command breaks because of duplicated class definitionsn",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-07-05"
    },
    {
        "issue_id": 4719,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel",
            "WebProfilerBundle"
        ],
        "title": "Duplicated entries in the profiler filesystem storage index",
        "body": "The CSV file storing the index for the FilesystemStorage of the profiler contains duplicates for each request. Each request appears 3 times in the index. This breaks the search as limiting to 10 results only gives me 4 results.n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-07-08"
    },
    {
        "issue_id": 4712,
        "assignees": [],
        "lables": [
            "Doctrine",
            "Easy Pick"
        ],
        "title": "onFlush events with 2 or more dbal connections throw ErrorExceptions",
        "body": "In configuration's with 2 connections, onFlush events written to `(appDevDebugProject|appProd)Container.php` contain calls to addEventListener. The method signature for the 2nd connection is incorrect. Changing the order the connection's are specified produces the incorrect signature on whatever happens to be the 2nd connection.nnCompare the signatures for MysqlConnectionService and PlatConnectionService:nn`appDevDebugProjectContainer.php`nn``` phpnprotected function getDoctrine_Dbal_MysqlConnectionService()n{n    $c->addEventListener(array(0 => 'onFlush'), $this->get('nrc_notice.notice.notice_listener'));n}nnnprotected function getDoctrine_Dbal_PlatConnectionService()n{n    $c->addEventListener(array(0 => array(0 => 'onFlush')), $this->get('nrc_notice.notice.notice_listener'));n}n```nnError Messagenn``` textnErrorException: Warning: Illegal offset type in /Applications/MAMP/htdocs/checknet.local/vendor/symfony/symfony/src/Symfony/Bridge/Doctrine/ContainerAwareEventManager.php line 115nnin /Applications/MAMP/htdocs/checknet.local/vendor/symfony/symfony/src/Symfony/Bridge/Doctrine/ContainerAwareEventManager.php line 115nat ErrorHandler->handle('2', 'Illegal offset type', '/Applications/MAMP/htdocs/checknet.local/vendor/symfony/symfony/src/Symfony/Bridge/Doctrine/ContainerAwareEventManager.php', '115', array('events' => array(array('onFlush')), 'listener' => object(NoticeListener), 'hash' => '000000000bfa891500000000295a660c', 'event' => array('onFlush'))) in /Applications/MAMP/htdocs/checknet.local/vendor/symfony/symfony/src/Symfony/Bridge/Doctrine/ContainerAwareEventManager.php line 115nat ContainerAwareEventManager->addEventListener(array(array('onFlush')), object(NoticeListener)) in /Applications/MAMP/htdocs/checknet.local/app/cache/dev/appDevDebugProjectContainer.php line 272nat appDevDebugProjectContainer->getDoctrine_Dbal_PlatConnectionService() in /Applications/MAMP/htdocs/checknet.local/app/bootstrap.php.cache line 194nat Container->get('doctrine.dbal.plat_connection') in /Applications/MAMP/htdocs/checknet.local/app/cache/dev/appDevDebugProjectContainer.php line 370nat appDevDebugProjectContainer->getDoctrine_Orm_PlatEntityManagerService() in /Applications/MAMP/htdocs/checknet.local/app/bootstrap.php.cache line 194nat Container->get('doctrine.orm.plat_entity_manager') in /Applications/MAMP/htdocs/checknet.local/vendor/symfony/symfony/src/Symfony/Bridge/Doctrine/ManagerRegistry.php line 35n```nnMy `config.yml`nn``` ymlndoctrine:n    dbal:n        default_connection: mysqln        connections:n            mysql:n                 driver: etc...n            plat:n                 driver_class:   etc...n```nnMy `services.yml`nn``` ymlnservices:n  nrc_notice.notice.notice_listener:n     class: SomeListenerClassn     arguments:n       container: '@service_container'n     tags:n        - { name: kernel.event_listener, event: nrc_notice.notice.change.approved, method: onNotify }n```n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "trooney",
        "issue_closed_at": "2012-07-13"
    },
    {
        "issue_id": 4704,
        "assignees": [
            "webmozart"
        ],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "FormInterface is not mockable, extends Traversable only",
        "body": "The FormInterface is not mockable, because it only extends traversable not Iterator or IteratorAggregate.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "beberlei",
        "issue_closed_at": "2012-07-02"
    },
    {
        "issue_id": 4693,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Adding a new field as an instance of the FormBuilder",
        "body": "The latest version of the form, when defining of build of a form, if you add a new field as an instance of the FormBuilder, then this field will be in the top of the children. This is behaviour breaks order of children.nnFor example, build of the form:nn```npublic function buildForm(FormBuilderInterface $builder, array $options)n{n    $addressBuilder = $builder->create('address', 'form');nn    $buildern        ->add('name', 'text')n        ->add($addressBuilder);n}n```nnAfter building of the form, we have the children in order: `address, name`. But expected: `name, address`.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "yethee",
        "issue_closed_at": "2012-07-06"
    },
    {
        "issue_id": 4681,
        "assignees": [],
        "lables": [
            "HttpKernel",
            "Easy Pick"
        ],
        "title": "HTTP/1.0 and caching",
        "body": "Symfony sends `cache-control: no-cache` header by default. This make HTTP/1.1-compatible client and (correctly configured) reverse proxy not to cache the response. nBut if a client supports only HTTP/1.0 protocol, the `cache-control` header will be ignored. To prevent caching page in HTTP/1.0 protocol, Symfony should send also Expires or Pragma headers by default.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pulzarraider",
        "issue_closed_at": "2012-12-11"
    },
    {
        "issue_id": 4670,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] PropertyPath and Doctrine Orphan Removal",
        "body": "The way that the writeProperty method of PropertyPath (Symfony/Component/Form/Util/PropertyPath) calculates which items to add and remove, seems buggy when used in conjunction with Doctrine entities with orphan-removal enabled. The $itemsToAdd variable is populated by cloning $value, which can be an instance of PersistentCollection. Since the method then goes on to unset values in the PersistentCollection, they will be marked for orphan removal by Doctrine. This means that any entities in the collection that aren't new will be removed from the database.nnI've played around locally and I seem to be having success in my situation by replacing...nn`$itemsToAdd = is_object($value) ? clone $value : $value;`nn...with...nn`$itemsToAdd = is_object($value) ? $value->toArray() : $value;`nnI can't attest to the reliability of this as a solution since I don't know if $value will always be an object type that implements Collection (and hence have a toArray method). Judging by the code, it is implied that $value will implement ArrayAccess and Iterator, so an alternate solution would be to simply loop over $value copying it's contents into a standard array.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pocallaghan",
        "issue_closed_at": "2012-09-01"
    },
    {
        "issue_id": 4625,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed the validation of form validation constraints",
        "body": "Validating the form constraints for each validation group results innduplicated errors when several validation groups are used.nnThis is an attempt to fix #4427.nn@bschussek can you look at it ? I'm not sure if it is the right way to fix it.nnLooking at the code of the GraphWalker to debug this, I think we have an issue in the validator component itself (and the Form constraints being only the easiest way to trigger the issue): if a constraint is attached on an object in 2 validation groups and you use both groups when calling the validator, the ConstraintValidator is called twice. This is not something you will generally do in your constraint mapping, but the FormValidator was working in such a way: form constraints were validated for all validation groups of the form. However, I don't see how the GraphWalker could remember the constraint has already been validated for this instance as walkConstraint does not have access to the object.n",
        "issue_comments": 9,
        "pr_comments": 9,
        "pr_review_comments": 0,
        "committers": [
            "Christophe Coevoet"
        ],
        "changed_files": 2,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-07-09"
    },
    {
        "issue_id": 4620,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "The scope is not inherited from the parent service",
        "body": "when defining a service with a DefinitionDecorator (`parent=u201dacme_demo.foou201d` in XML), the scope is not inherited, which causes issues if the parent definition defines the scope as request and a dependency on the request. Currently, the dependency will be inherited but not the scope, causing a ScopeWideningInjectionException if you don't redeclare the request scope on the child service.n/cc @schmittjoh n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-06-21"
    },
    {
        "issue_id": 4615,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] BirthdayType never shows validation errors",
        "body": "Hi,nnCurrently it is not possible to display any validation error on a birthday field.nThe reason is because if you don't use the single_text element type, it generates 3 choice fields, which makes the element into a compound one.nLooking at the templates, compound fields have their validation errors suppressed, so you can never see any issues that may occur (using default validators or even writing custom ones).nnAlso, a choice field with expand = true has the same issue. You can never view custom defined validation error messages because the errors are supressed.nnAccording to @bschussek, it is a bug and it should still display the errors. Also, he asked me to open the ticket.nAs a quick fix, just define compound = false on options of the element and you are able to get validation errors.n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "guilhermeblanco",
        "issue_closed_at": "2012-07-11"
    },
    {
        "issue_id": 4596,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fix date field when value is not required",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: <img src=u201dhttps://secure.travis-ci.org/FabienPennequin/symfony.png?branch=fix-datetypeu201d alt=u201du201d />nLicense of the code: MITnnWith Symfony2.1, the date field doesn't show the empty value when the option u201drequiredu201d is set to false. This PR fixes this issue. Symfony2.0 isn't affected.n",
        "issue_comments": 3,
        "pr_comments": 3,
        "pr_review_comments": 0,
        "committers": [
            "Fabien Pennequin"
        ],
        "changed_files": 1,
        "issue_created_by": "FabienPennequin",
        "issue_closed_at": "2012-07-09"
    },
    {
        "issue_id": 4535,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] PropertyPath readValue fails for custom array objects",
        "body": "the following test fails with current master (add it to PropertyPathTest.php)nn```npublic function testCustomArrayCollection()n{n    $collection = new SymfonyComponentFormTestsFixturesCustomArrayObject(array('foo', 'bar'));n    $array = array('foo', 'bar');nn    $path = new PropertyPath('[1]');n    $bar = $path->getValue($array);n    $this->assertEquals('bar', $bar);nn    $bar = $path->getValue($collection);n    $this->assertEquals('bar', $bar);n}n```nnThere was 1 error:nn1) SymfonyComponentFormTestsUtilPropertyPathTest::testCustomArrayCollectionnIndirect modification of overloaded element of SymfonyComponentFormTestsFixturesCustomArrayObject has no effectnnThere seems to be a issue that getOffset does not return a reference in PropertyPath.php:375n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "uwej711",
        "issue_closed_at": "2012-07-10"
    },
    {
        "issue_id": 4529,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation",
            "CssSelector"
        ],
        "title": "[Session] hasSession() function fails to detect if the session is started or not before returning",
        "body": "Hi,nnWhen using $request->hasSession() the function will always return true as the function checks for data existence in the session internal array but since the new model of sessions data is always there. This should be modified as it's returning false positives.nnThanksn",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "dlsniper",
        "issue_closed_at": "2012-07-01"
    },
    {
        "issue_id": 4494,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Form] prependView/appendModelTransformer() is needed in some cases",
        "body": "see #4473n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-06-09"
    },
    {
        "issue_id": 4480,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][Validator] validation is not done as expected with an empty form",
        "body": "I just noticed a difference in form validation, althought I'm not sure when this change was introduced and if it can be considered a BC break or is intended behavior: I'm using a custom class constraint validator and it isn't invoked anymore when validating a form which has no fields. If I just add any field, the entity bound to the form is validated as expected again.nnEdit: I'm using 9e9519913d2c5e2bef96070bcb9106e1e389c3bd currently.n",
        "issue_comments": 12,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "craue",
        "issue_closed_at": "2012-07-09"
    },
    {
        "issue_id": 4475,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel",
            "FrameworkBundle",
            "BrowserKit",
            "Critical"
        ],
        "title": "the BrowserKit client from FrameworkBundle and HttpKernel don't respect the expected return type",
        "body": "The response returned by these clients in their `getResponse` method is an HttpFoundation response whereas the BrowserKit class (which is their parent classs) tells it returns a BrowserKit response (which has a different API).n",
        "issue_comments": 25,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2013-04-25"
    },
    {
        "issue_id": 4450,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] add test getValue reads MagicWrapper property",
        "body": "",
        "issue_comments": 4,
        "pr_comments": 4,
        "pr_review_comments": 2,
        "committers": [
            "Luis Cordova",
            "Luis Cordova",
            "Luis Cordova"
        ],
        "changed_files": 3,
        "issue_created_by": "cordoval",
        "issue_closed_at": "2012-07-09"
    },
    {
        "issue_id": 4427,
        "assignees": [],
        "lables": [
            "Form",
            "Validator",
            "Bug"
        ],
        "title": "[Form] Duplicated errors for constraints when using several validation groups",
        "body": "When adding a violation error on an unmapped field, the ViolationMapper creates a PropertyPath with an empty string, which is invalid and throws an exception.nCode to reproduce the issue:nn``` phpn<?phpnuse SymfonyBundleSecurityBundleValidatorConstraintUserPassword;nn        $builder->add('current_password', 'password', array(n            'mapped' => false,n            'constraints' => new UserPassword(),n        ));n```n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-07-09"
    },
    {
        "issue_id": 4426,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "Wrong error mapping for unmapped fields",
        "body": "When applying a constraint on an unmapped field through the `constraint` option, the error bubbles to the root instead of being displayed on this field.nn``` phpn<?phpnnuse SymfonyBundleSecurityBundleValidatorConstraintUserPassword;nn        $builder->add('current_password', 'password', array(n            'mapped' => false,n            'error_bubbling' => false,n            'constraint' => new UserPassword(),n        ));n```nn@bschussek could you take a look at it ?n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-05-26"
    },
    {
        "issue_id": 4386,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed: PropertyPathMapper did not always ignore virtual forms",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #4385nTodo: -n",
        "issue_comments": 4,
        "pr_comments": 4,
        "pr_review_comments": 0,
        "committers": [
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek"
        ],
        "changed_files": 10,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-05-23"
    },
    {
        "issue_id": 4385,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Virtual functionality seems doesn't work",
        "body": "Hi,nnThe new version of the Form API break my forms using the virtual functionality.nWhereas my code seems correct and work well before.nnHomepageLocalType :nn```n$builder->add('homepage', new HomepageType(), array(n     'virtual' => truen ));n```nnError :nn```nNeither property u201dhomepageu201d nor method u201dgetHomepage()u201d nor method u201disHomepage()u201d exists in class u201d[...]EntityHomepageLocalu201dn```nnThe second solution to define a virtual form, directly with getDefaultOptions() in HomepageType() give the same result.nnNobody else have this issue?n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webda2l",
        "issue_closed_at": "2012-05-23"
    },
    {
        "issue_id": 4374,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed collection type to work with recent Form changes",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: -nTodo: -n",
        "issue_comments": 3,
        "pr_comments": 3,
        "pr_review_comments": 0,
        "committers": [
            "Bernhard Schussek"
        ],
        "changed_files": 2,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-05-22"
    },
    {
        "issue_id": 4368,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] No error is rendered for expanded choice fields",
        "body": "The following form does not render an error for the u201dgenderu201d field:nn``` phpn<?phpn$form = $this->createFormBuilder()n    ->add('username', 'text')n    ->add('gender', 'choice', array(n        'choices' => array('male' => 'Male', 'female' => 'Female'),n        'expanded' => true,n        'constraints' => new Choice(array('foo', 'bar')),n    ))n    ->getForm()n;n```n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-07-09"
    },
    {
        "issue_id": 4359,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] DateTimeType displays duplicate u201dinvalidu201d error",
        "body": "DateTimeType, when used with the widget u201dtextu201d, currently duplicates the invalid error when an invalid value is entered.nnAlso, it should be possible to configure the u201dinvalidu201d messages of both the u201ddateu201d and the u201dtimeu201d field.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-11-09"
    },
    {
        "issue_id": 4338,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "PHP Fatal Error when proc_open is disabled",
        "body": "When proc_open is disabled in disabled_functions, the following fatal error occurs in the Console Component.nn```nPHP Fatal error:  Uncaught exception 'ErrorException' with message 'Undefined variable: pipes' in phar:///home/public_html/composer.phar/vendor/symfony/console/Symfony/Component/Console/Application.php:925n```n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "davidwindell",
        "issue_closed_at": "2012-05-21"
    },
    {
        "issue_id": 4308,
        "assignees": [],
        "lables": [
            "Bug",
            "Yaml"
        ],
        "title": "Yaml Exporter and a string with double quotes",
        "body": "The dumper does not work as expected.nnExample case:nn```n$dumper = new SymfonyComponentYamlDumper();n$value = array(n    u201dsomekeyu201d => u201dsome valuen u201dsome quoted stringu201d and 'some single quotes one' u201d,n);nvar_dump($dumper->dump($value));n```nnThis would result in the following code being generated:nn```nstring(78) u201d{ somekey: u201dsome valuen u201dsome quoted stringu201d and 'some single quotes one' u201d }u201dn```nnThis obviously is not correct as the double quotes are not escaped at all.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "dinamic",
        "issue_closed_at": "2012-06-09"
    },
    {
        "issue_id": 4284,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixes PropertyPath not to remove elements while iterating a collection",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #4212, #4213nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue4213)n",
        "issue_comments": 1,
        "pr_comments": 1,
        "pr_review_comments": 0,
        "committers": [
            "Bernhard Schussek",
            "Bernhard Schussek"
        ],
        "changed_files": 2,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-05-15"
    },
    {
        "issue_id": 4280,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] [DataMapper] Read only form datamapper fix",
        "body": "The current 2.0.13 `SymfonyComponentFormExtensionCoreDataMapperPropertyPathMapper` enables to overwrite data from form values, no matter the form fields are read only or not.nnBug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: -nTodo: -nLicense of the code: MITnDocumentation PR: -n",
        "issue_comments": 5,
        "pr_comments": 5,
        "pr_review_comments": 0,
        "committers": [
            "Romain Geissler"
        ],
        "changed_files": 2,
        "issue_created_by": "Romain-Geissler",
        "issue_closed_at": "2012-05-15"
    },
    {
        "issue_id": 4265,
        "assignees": [],
        "lables": [
            "Easy Pick"
        ],
        "title": "suggestion: webprofiler should not hide bottom page content",
        "body": "atm webprofiler has z-index positive to be over content. this is good but if I have some information in last line of output it is hidden under webprofiler. this could probably be fixed with setting for body margin bottom on height of webprofiler bar.n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "nysander",
        "issue_closed_at": "2012-05-15"
    },
    {
        "issue_id": 4242,
        "assignees": [],
        "lables": [
            "Bug",
            "Intl"
        ],
        "title": "[Form] multiple date Field Type single_text in one form and invalid validation",
        "body": "If one field is invalid the following fields are processed as invalid toonnMinimal reduced code exampel:nn```n    /**n     * @Route(u201d/reproduceu201d)n     * @Template()n     */n    public function reproduceAction()n    {n        $form = $this->createFormBuilder()n            ->add('a', 'date', array('widget' => 'single_text', 'format' => 'yyyy-MM-dd'))n            ->add('b', 'date', array('widget' => 'single_text', 'format' => 'yyyy-MM-dd'))n            ->add('c', 'date', array('widget' => 'single_text', 'format' => 'yyyy-MM-dd'))n            ->getForm();nn        $request = $this->getRequest();n        if ($request->getMethod() == 'POST') {n            $form->bindRequest($request);n        }nn        return array('form' => $form->createView());n    }n```nn```n<form method=u201dpostu201d>n{{ form_widget(form) }}n<input type=u201dsubmitu201d />n</form>n```nnNow insert in the field A a valid date like '2012-05-10', in the field B invalid text like 'abc' and in field C a valid date like '2012-05-10' and submit the form.nField A is then successfull validatet, field B is marked as invalid like it should be. The problem is field C which is marked as invalid too, but it should be valid.nnWhen swapping the value of field A and B (so that only the value of field A is invalid), there is shown the invalid message on fiel A, B and C. It looks so, that all of an invalid field following field are marked als invalid.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Mynyx",
        "issue_closed_at": "2012-07-11"
    },
    {
        "issue_id": 4233,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Bridge][Doctrine] UniqueEntityValidator with empty values",
        "body": "It appears that rather than null, an empty string is now the result of leaving your form field empty. This is fine, but this reintroduces #1376. This issue was fixed by never setting an error if any of the fields was null, which now doesn't occur anymore.nnNot sure if this is a Form issue or a DoctrineBridge issue.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Burgov",
        "issue_closed_at": "2012-05-14"
    },
    {
        "issue_id": 4212,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[2.1][Form] property path call remove break,",
        "body": "Hi,nnI am working on a Propel patch to add u201dremoveu201d methods for collection to work with the sf2 form framework.nnWith my patch  the add call work, the remove call only work for the first remove call.nnthe propertyPath iterate over a PropelCollection, but when the remove method is called. the propel Object remove the item from the propelCollection. After that the foreach break, I think it's because the PropelCollection has changed.nnif I clone the `$previousValue` it work has expected.nn``` phpn<?phpn// PropertyPath.php:495nn$previousValue = is_object($previousValue)? clone $previousValue : $previousValue;n```n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "jaugustin",
        "issue_closed_at": "2012-05-15"
    },
    {
        "issue_id": 4174,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Pattern generated from Regex constraint is invalid",
        "body": "When setting a validation like:nn``` phpn/**n * @AssertRegex(u201d/^d+/u201d)n */npublic $phone_number;n```nnit generate an input text with the same pattern `/^d+/`. Unfortunate, that pattern is not valid with HTML5 (should be `^d+`).. I recommend updating the pattern to be HTML5 compatible then on validate form convert it into PHP preg_match which is  pretty much adding the `/` to the start and end of the pattern string.nnWhat do you guy's think?n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2012-07-04"
    },
    {
        "issue_id": 4166,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "[Routing] UrlGenerator fails to encode static text",
        "body": "Currently only the variables get url encoded but in fact all segments must be url encoded, i.e. static text too.nOtherwise the generated URL contains invalid chars and does not conform to the RFC.nnCurrent situation:nn```n$routes = $this->getRoutes('test', new Route('/u0416u0435u043du0438/{slug1}'));n$this->assertEquals('/app.php/u0416u0435u043du0438/%D0%96%D0%B5%D0%BD%D0%B8', $this->getGenerator($routes)->generate('test', array('slug1' => 'u0416u0435u043du0438')));n```nnShould be:nn```n$this->assertEquals('/app.php/%D0%96%D0%B5%D0%BD%D0%B8/%D0%96%D0%B5%D0%BD%D0%B8', $this->getGenerator($routes)->generate('test', array('slug1' => 'u0416u0435u043du0438')));n```n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Tobion",
        "issue_closed_at": "2012-07-03"
    },
    {
        "issue_id": 4118,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] errors in form children aren't rendered with `form_rest`",
        "body": "While trying to upgrade an app to latest master, I notice a difference in form error handling. Let take this Twig template code:nn```n{{ form_row(form) }}n{{ form_widget(form.child.subchild) }}n{{ form_errors(form.child.subchild) }}n{{ form_rest(form) }}n```nnAs a result, errors attached to `form.child` aren't rendered. Thus, `{{ form_errors(form.child) }}` needs to be added explicitly, which was not necessary before.n",
        "issue_comments": 12,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "craue",
        "issue_closed_at": "2012-04-27"
    },
    {
        "issue_id": 4108,
        "assignees": [],
        "lables": [
            "Form",
            "Easy Pick"
        ],
        "title": "[Form] nonexistent option `index_generation`",
        "body": "https://github.com/symfony/symfony/blob/76ef8da030b7bee4751790fd0666cacd3ca3278b/UPGRADE-2.1.md mentions the `index_generation` option for choice fields. But this option doesn't seem to exist (anymore).n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "craue",
        "issue_closed_at": "2012-05-26"
    },
    {
        "issue_id": 4077,
        "assignees": [],
        "lables": [
            "Form",
            "Feature",
            "Easy Pick"
        ],
        "title": "[Form] add guess pattern",
        "body": "Bug fix: nonFeature addition: yesnBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: https://github.com/symfony/symfony/issues/3766nTodo: -nnDue to some trouble when rebase my previous PR i open a new one with Master mergednRefs PR: https://github.com/symfony/symfony/pull/3927n",
        "issue_comments": 5,
        "pr_comments": 5,
        "pr_review_comments": 10,
        "committers": [
            "Julien 'ruian' Galenski"
        ],
        "changed_files": 9,
        "issue_created_by": "ruian",
        "issue_closed_at": "2012-04-23"
    },
    {
        "issue_id": 4059,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator"
        ],
        "title": "[Bug][Translator] Throws an exception in the first access after clearing cache",
        "body": "Good afternoon,nnEvery time I clear the cache and refresh the page the first time, I get the following exception:nn```nAn exception has been thrown during the rendering of a template (u201dCircular reference detected when adding a fallback catalogue for locale u201dptu201d.u201d).n500 Internal Server Error - Twig_Error_RuntimennLogicException: Circular reference detected when adding a fallback catalogue for locale u201dptu201d.n```nnReproducing:n1. Set the locale parameter to pt_BR (the same of my browser's request)nn```nlocale  = pt_BRn```n1. Clear the cachen2. Refresh the pagenn**I only refresh the page again and it works normally.**nnI'm using the current version of Symfony and OSX Lion.n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "marcospassos",
        "issue_closed_at": "2012-04-24"
    },
    {
        "issue_id": 4046,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed errors introduced in the FieldType+FormType merge",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: yesnSymfony2 tests pass: yesnFixes the following tickets: #3994, #4000, #2294, #4118nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3994)n",
        "issue_comments": 24,
        "pr_comments": 24,
        "pr_review_comments": 11,
        "committers": [
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek"
        ],
        "changed_files": 66,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-27"
    },
    {
        "issue_id": 4045,
        "assignees": [],
        "lables": [
            "Form",
            "Enhancement",
            "Easy Pick"
        ],
        "title": "[Guesser] Add some comments in the code",
        "body": "That is basically adding the comments that have been made [in the PR](https://github.com/symfony/symfony/pull/3927#r713663) into the code.nnThe following guessers must be commented:n- validator,n- ORM,n- ODM,n- Propeln",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2012-11-17"
    },
    {
        "issue_id": 4023,
        "assignees": [],
        "lables": [
            "Bug",
            "Finder",
            "Easy Pick"
        ],
        "title": "[Finder] Fix regexp detection in FileContentFilterIterator",
        "body": "The iterator accepts both string and regexps, then there is a [test](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Finder/Iterator/FilecontentFilterIterator.php#L73) to detect regexps.nnThe test is flawed:n- http://fr2.php.net/manual/en/regexp.reference.delimiters.php: u201dA delimiter can be any non-alphanumeric, non-backslash, non-whitespace characteru201d, delimiters could also be u201d{u201d and u201d}u201dn- http://fr2.php.net/manual/en/reference.pcre.pattern.modifiers.php: some modifiers are missing and there could be multiple delimiters.nnThe test need to be enhanced (and tested)n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2012-04-20"
    },
    {
        "issue_id": 4022,
        "assignees": [],
        "lables": [
            "Bug",
            "Yaml"
        ],
        "title": "value of mapping (even if value is sequence) doesn't have to be indented",
        "body": "Migrated from https://github.com/fabpot/yaml/issues/3nnThe following yaml-code is valid (and generated by libyaml):nn```ncollection:n- item1n- item2n- item3n```nnI couldn't find direct mentioning of this in specification, but some of examples from specifications use this notation.nnalso, check this dump from u201dYAML Reference Parseru201d: http://yaml.org/ypaste/645/index.htmlnnsfYaml loads it as:nn```narray(n  u201dsequenceu201d => null,n  0 => u201ditem1u201d,n  1 => u201ditem2u201d,n  2 => u201ditem3u201d,n)n```nnExpected result is:nn```narray(n  u201dsequenceu201d => array(n    0 => u201ditem1u201d,n    1 => u201ditem2u201d,n    2 => u201ditem3u201d,n  ),n)n```n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "fabpot",
        "issue_closed_at": "2012-07-01"
    },
    {
        "issue_id": 4021,
        "assignees": [],
        "lables": [
            "Easy Pick",
            "Yaml"
        ],
        "title": "Yaml parsing problem",
        "body": "Extracted from https://github.com/fabpot/yaml/issues/10:nnthe method u201dparseQuotedScalaru201d is used for two purposes, parsing a delimited string, and a plain string, but when its being given a plain string, it still treats it as delimited, and thus only returns the first string it matches.nnIf you use something like this, it doesn't really work:nntest: 'don't do somthin' like that'nnyou'd get 'test' to simply equal 'don'.nni'm using this package to do a bit of yaml validation, so i added this snippit to the methodnn```nif ((!$delimiters) && (strlen($match[0]) < strlen($scalar))) {n  throw new InvalidArgumentException(sprintf(u201dMalformed YAML (check your use of apostrophes and quotes): n %s.u201d, substr($scalar, $i)));n}n```nnI'm sure this isn't the ideal fix, but I didn't want to battle with modifying the validation regex.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "fabpot",
        "issue_closed_at": "2012-06-09"
    },
    {
        "issue_id": 4000,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] A form which is an empty collection has no CSRF token",
        "body": "see https://github.com/symfony/symfony/pull/3996#r705921 nref #3996n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2012-04-27"
    },
    {
        "issue_id": 3996,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Removed extra CSRF field on collection prototype",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #3987, #3990nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3990)n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 9,
        "committers": [
            "Bernhard Schussek"
        ],
        "changed_files": 5,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-19"
    },
    {
        "issue_id": 3995,
        "assignees": [],
        "lables": [
            "Form",
            "Easy Pick"
        ],
        "title": "[Form] property path for violations is incorrect",
        "body": "I have the following situation:nnThere is a form which shows a list of entities of some kind, kind of similar to a collection form. However, the entities need to be shown in some kind of hierarchy, so even though the app Data is a plain array, the clientData and form it self are built in the following way:nn```nform:n  Mon:n    0: entityn    1: entityn  Tue:n    0: entityn```nnetc...nnThe transformation between the two is done using a DataTransformer on the topmost form: https://gist.github.com/2419554nnThe form works fine except for validation, for some reason all errors bubble up all the way to the top form, even if they should display on the bottom forms (form.Mon.0, form.Mon.1, etc). While trying to find out what was wrong, I came to the conclusion that the property path of the violations was incorrect, or at least not conform to the way the form was build up:nndata[0].fieldndata[0].field2ndata[1].fieldnnrather thannndata[Mon][0].fieldndata[Mon][0].field2ndata[Mon][1].fieldnnThis causes them to bubble all the way up, as they cannot be mapped to the form.n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Burgov",
        "issue_closed_at": "2012-05-21"
    },
    {
        "issue_id": 3994,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] An empty collection gets rendered as an input",
        "body": "see https://github.com/symfony/symfony/pull/3923#r702358n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2012-04-27"
    },
    {
        "issue_id": 3987,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] CSRF token in collection prototype.",
        "body": "After recent changes in csrf protection handling, __token_ field is added to all generated prototypes. I'm looking where is the issue but probably it's somewhere in 2a49449862ab74fbd80126384daa1957abaf2e0c commit.nForms using collection type are broken now because of extra fields checking.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pjedrzejewski",
        "issue_closed_at": "2012-04-19"
    },
    {
        "issue_id": 3975,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "Error on init:acl if oracle (oci8) database driver is used (ORA-00972: identifier is too long)",
        "body": "Hi,nwhen I want to init ACL via shell I get this error message:nn> C:projectsosl>php appconsole init:acln> n>  [DoctrineDBALDriverOCI8OCI8Exception]n>  ORA-00972: identifier is too longn> n> init:aclnnThis is a problem because it makes ACL unusable on an Oracle database :(nnMy System:n- PHP Version 5.3.10 with php_oci8_11g.dll extensionn- Oracle Database 11g Express Edition Release 11.2.0.2.0nnMy **app/config/parameters.ini**nn``` [parameters]n        database_driver=u201doci8u201dn        database_host=u201d127.0.0.1u201dn        database_port=u201d1521u201dn        database_name=u201dXEu201dn        database_user=u201duseru201dn        database_password=u201dpasswordu201dn```nnOr is there anything I am doing wrong?n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "naitsirch",
        "issue_closed_at": "2012-05-22"
    },
    {
        "issue_id": 3971,
        "assignees": [],
        "lables": [
            "Easy Pick"
        ],
        "title": "UPGRADE-2.1.md is missing the switch from Symfony's DoctrineBundle to Doctrine's",
        "body": "One of the steps involved in upgrading Symfony from 2.0 to 2.1 is that the namespace of the DoctrineBundle needs to be changed in the AppKernel.phpnn```nnew SymfonyBundleDoctrineBundleDoctrineBundle(),n```nnShould becomenn```nnew DoctrineBundleDoctrineBundleDoctrineBundle(),n```nnThis information seems to be missing in the upgrade guiden",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mvriel",
        "issue_closed_at": "2012-04-19"
    },
    {
        "issue_id": 3969,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] [Validator] validator messages assigned to the parent form if using repeated form element type",
        "body": "I have a user entity, which has a password field with several validation constraints attached.nnIf some of my validation constraint failed, the error message got assigned to the parent form, which should not happen, as the error_bubbling is turned off.nnWhile tracking the problem down, I've came upon this conclusion:nnSince it's a registration process, I would like the user to confirm the password he types in order to avoid any mistyping:nn```n$builder->add('password', 'repeated', array(n    'type' => 'password',n    'invalid_message' => 'The password fields must match.',n    'options' => array(n        'label' => 'label.password',n        'attr'  => array(n            'class' => 'large_width valid',n        )n    ),n    'error_bubbling' => false,n));n```nnI also have some validation constraints about the size of the password and its complexity inside the validation.yml file:nn```n- NotBlank: { groups: [change_password, registration] }n- MinLength: { limit: 6, groups: [change_password, registration] }n- MaxLength: { limit: 200, groups: [change_password, registration ] }n```nnNow, the problem is that the error messages from any validation constraints are not processed as it should - instead of being assigned to the element, they are assigned directly to its form. The reason for this follows:nnSymfonyComponentFormExtensionValidatorValidatorDelegatingValidator:80nn```nforeach ($violations as $violation) {n    $propertyPath = $violation->getPropertyPath();n    $template = $violation->getMessageTemplate();n    $parameters = $violation->getMessageParameters();n    $error = new FormError($template, $parameters);nn    foreach ($mapping as $mappedPath => $child) {n        if (preg_match($mappedPath, $propertyPath)) {n            $child->addError($error);n            continue 2;n        }n    }nn    $form->addError($error);n}n```nnIn my case, I'm using a main form which has a subform - the one with the user entity attached, thus the $propertyPath value:n`$propertyPath = u201dchildren[user].data.passwordu201d`nnThe important checked paths are:nn```nu201d/^children.data.(?!w)/u201dnu201d/^children[user].data.(?!w)/u201dnu201d/^children[user].data.username(?!w)/u201dnu201d/^children[user][password].data.(?!w)/u201dnu201d/^children[user][password].data.first(?!w)/u201dnu201d/^children[user][password].data.second(?!w)/u201dnu201d/^children[user][password](?!w)/u201dn.. some other fieldsnu201d/^children[user](?!w)/u201dn```nnNote that the user.password.first and user.password.second fields are being checked, but not user.password.nPerhaps this case should be added as well:n`u201d/^children[user].data.password(?!w)/u201d`nnThe last one matched, which obviously is not correct. The reason for the issue seems like that either the repeat form element type was not designed to work with this, either this class was not written with having the repeat field in mind. n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "dinamic",
        "issue_closed_at": "2012-04-18"
    },
    {
        "issue_id": 3945,
        "assignees": [],
        "lables": [
            "Form",
            "Enhancement",
            "Easy Pick"
        ],
        "title": "[Form] [DoctrineBridge] Better field type guessing for array doctrine type and array validator type",
        "body": "Bug fix: nonFeature addition: yesnBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #1692nTodo: -n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 4,
        "committers": [
            "pierre"
        ],
        "changed_files": 3,
        "issue_created_by": "pvanliefland",
        "issue_closed_at": "2012-04-19"
    },
    {
        "issue_id": 3927,
        "assignees": [],
        "lables": [
            "Form",
            "Feature",
            "Easy Pick"
        ],
        "title": "[Form] add guess pattern",
        "body": "Bug fix: nonFeature addition: yesnBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: https://github.com/symfony/symfony/issues/3766nTodo: -n",
        "issue_comments": 28,
        "pr_comments": 28,
        "pr_review_comments": 44,
        "committers": [],
        "changed_files": 0,
        "issue_created_by": "ruian",
        "issue_closed_at": "2012-04-23"
    },
    {
        "issue_id": 3899,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] u201ddatau201d option doesn't overwrite",
        "body": "According to [documentation](http://symfony.com/doc/master/reference/forms/types/field.html):nn> When you create a form, each field initially displays the value of the corresponding property of the form's domain object (if an object is bound to the form). If you want to override the initial value for the form or just an individual field, you can set it in the data option (...)nnBut the implementation seems to do just the opposite:nn``` phpn<?phpnn$form = $this->createFormBuilder(array('field' => 'original'))n    ->add('field', 'text', array('data' => 'modified'))n    ->getForm();nvar_dump($form->getData()); // array('field' => 'original')n```n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "frosas",
        "issue_closed_at": "2012-07-10"
    },
    {
        "issue_id": 3896,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "[HttpKernel] HttpCacheStore::lookup doesn't check existance of 0 element of array",
        "body": "I'm sorry for creating a new issue but there was no answer in the mailing list. nnI have got this error:nn```nErrorException: Notice: Undefined offset: 0 in /var/www/symfony21/vendor/symfony/symfony/src/Symfony/Component/HttpKernel/HttpCache/Store.php line 113n```nnCache annotation by default set an empty array to 'vary'  - https://github.com/sensio/SensioFrameworkExtraBundle/blob/master/Configuration/Cache.php#L57nnand Store's lookup method doesn't check if 0 element exists ( https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpKernel/HttpCache/Store.php#L112 ):nn``` phpn<?phpn    public function lookup(Request $request)n    {n    //...n        foreach ($entries as $entry) {n            if ($this->requestsMatch(isset($entry[1]['vary']) ? $entry[1]['vary'][0] : '', //...nn```nnSo is this an issue or maybe i configured something wrong?n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Dattaya",
        "issue_closed_at": "2012-04-19"
    },
    {
        "issue_id": 3867,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Form] form named u201dsearchu201d with a field named u201dsearchu201d => can't set default data",
        "body": "A form class named u201dsearchu201d with a single field named u201dsearchu201d sent over GET leads to the following url:nn`````` /?search=mysearchstring```nIf the form is rendered using ```{{ form_widget(form) }}```nnI kinda like this behavior as it gives good looking url but on the other hand, you can't set default data properly.nn```$form->bindRequest($request);``` throws ```Expected argument of type u201darrayu201d, u201dstringu201d given```.nn```phpn$defaultData = array('search' => $request->query->get('search', u201du201d));n$form = $this->createForm(new SearchFormType(), $defaultData);n``````nnfills the search field with the string `Array`.nnWith a form named u201dtestu201d and a single field named u201dtestu201d you get the proper: `/?test[test]=mysearchstring`.nnWhy does u201dsearchu201d provoke a unique behavior?nHow can I have a simple url (?search=mysearchstring) while not breaking default data setting?nnFor reference here is the class I use:nn``` phpn<?phpnnnamespace AcmeSiteBundleFormType;nnuse SymfonyComponentFormAbstractType;nuse SymfonyComponentFormFormBuilder;nnclass SearchFormType extends AbstractTypen{n    public function buildForm(FormBuilder $builder, array $options)n    {n        $buildern            ->add('search')n        ;n    }nn    public function getDefaultOptions(array $options)n    {n        return array(n            'csrf_protection' => false,n        );n    }nn    public function getName()n    {n        return 'search';n    }n}n```nnSymfony 2.0.11n",
        "issue_comments": 14,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2012-04-13"
    },
    {
        "issue_id": 3860,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed display of [Date]TimeType when displayed as u201dsingle_textu201d and u201dwith_secondsu201d is false",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #3278nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3278)n",
        "issue_comments": 0,
        "pr_comments": 0,
        "pr_review_comments": 0,
        "committers": [
            "Bernhard Schussek"
        ],
        "changed_files": 6,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-10"
    },
    {
        "issue_id": 3859,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed handling of empty values in checkbox/radio/choice type",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #3839, #3366nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3839)nnThis PR fixes the processing of checkboxes and radio buttons with empty u201dvalueu201d attributes as well as of expanded choice forms with empty values. Additionally, some unnecessary complexity has been removed of the new ChoiceList API.n",
        "issue_comments": 4,
        "pr_comments": 4,
        "pr_review_comments": 0,
        "committers": [
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek"
        ],
        "changed_files": 32,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-10"
    },
    {
        "issue_id": 3854,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Don't add empty choice if already present",
        "body": "If the choices passed to ChoiceType already contain the empty choice u201du201d, no new empty choice should be generated if the field is not required.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-07-09"
    },
    {
        "issue_id": 3841,
        "assignees": [],
        "lables": [
            "Bug",
            "Intl"
        ],
        "title": "StubIntlDateFormatter should use the TZ environment variable instead of the PHP's date.timezone setting",
        "body": "Since the StubIntlDateFormatter uses the date_default_timezone_get() to build a DateTime to format it later, it mismatch the default implementation of IntlDateFormatter that uses the TZ environment variable. The following error does not occur in the Travis CI environment since it uses the UTC timezone (I think):nn```n1) SymfonyTestsComponentLocaleStubStubIntlDateFormatterTest::testFormatWithDefaultTimezoneIntlnFailed asserting that two strings are equal.n--- Expectedn+++ Actualn@@ @@n-'1969-12-31 21:00:00'n+'1970-01-01 00:00:00'nn/vagrant/symfony/tests/Symfony/Tests/Component/Locale/Stub/StubIntlDateFormatterTest.php:414n```nnMine `date.timezone` is `America/Sao_Paulo`.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2012-06-28"
    },
    {
        "issue_id": 3839,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fix choices with empty values when expanded and COPY_CHOICE",
        "body": "When using expanded choice fields (single and multiple choice) and empty strings as values and using the value strategy COPY_CHOICE, and the form is submitted with the empty value selected, the empty value does not appear as selected after binding.nnThe foundation of this problem seems to be that checkboxes with a value u201du201d cannot be submitted as checked (and radio buttons likewise, I suppose).n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-10"
    },
    {
        "issue_id": 3821,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed required value guessed by ValidatorTypeGuesser",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: no*nSymfony2 tests pass: yesnFixes the following tickets: #3661nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3661)nnThe documentation states that a field is set to required if constrained with NotBlank or NotNull and to not required otherwise. Due to a bug this was not the case and fields were always required. This is now fixed.nnThe consequence is that some fields that were required before by default are not required anymore. The only difference is that the HTML5 u201drequiredu201d attribute disappears, because server-side validation did not occur before anyway.n",
        "issue_comments": 5,
        "pr_comments": 5,
        "pr_review_comments": 0,
        "committers": [
            "Bernhard Schussek"
        ],
        "changed_files": 2,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-07"
    },
    {
        "issue_id": 3820,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed index generation in EntityChoiceList if ID is not an integer",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #3635nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3635)n",
        "issue_comments": 0,
        "pr_comments": 0,
        "pr_review_comments": 2,
        "committers": [
            "Bernhard Schussek"
        ],
        "changed_files": 2,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-11"
    },
    {
        "issue_id": 3819,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Moved logic of addXxx()/removeXxx() methods to the PropertyPath class",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #3732nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3732)nnThe addXxx()/removeXxx() methods should now be called correctly in ChoiceType and CollectionType.nnPropertyPath now favors addXxx()/removeXxx() over setXxx() for collections. For example:nn```n$propertyPath = new PropertyPath('article.tags');nn// Tries to use addTag()/removeTag() and only uses setTags() (et al.)n// if not foundn$propertyPath->setValue($article, $tags);n```nnFor other languages than English or very irregular plurals, a custom singular can be set by separating it with a pipe:nn```n$propertyPath = new PropertyPath('article.genera|genus');n```n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 4,
        "committers": [
            "Bernhard Schussek"
        ],
        "changed_files": 17,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-10"
    },
    {
        "issue_id": 3793,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] getParent() does not receive correct options array",
        "body": "This PR is based on PR #3789. I wrote two tests which show exactly what functionality was broken by PR #3290. Unfortunately one of them (testChildDefaultOptionIsPassedToChildsGetParentMethod) is still broken after PR #3789.nnThe default options of children or even the type itself are still not passed to the getParent method, forcing users to pass these options to the factory every time they use the type. A more specific use case is when you create a type which has u201dchoiceu201d as it's parent. When in its default options it defines u201dexpandedu201d=>true and u201dmultipleu201d=>true, the getParent() of the u201dchoiceu201d type should always return u201dformu201d, otherwise a dataMapper will never be assigned and the checkbox list shows empty, even if some values are u201dtrueu201d.nnAt this moment the getParent method reads as follows:nn``` phpnpublic function getParent(array $options)n{n    return isset($options['expanded']) && $options['expanded'] ? 'form' : 'field';n}n```nnIf the option was not passed to the factory (e.g. from the controller), it seems to just assume the form is not u201dexpandedu201d, which sounds wrong to me.nnHopefully this test can help fix the problem!n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 2,
        "committers": [
            "Bart van den Burg"
        ],
        "changed_files": 5,
        "issue_created_by": "Burgov",
        "issue_closed_at": "2012-04-19"
    },
    {
        "issue_id": 3789,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed option support in Form component",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: yesnSymfony2 tests pass: yesnFixes the following tickets: #3354, #3512, #3685, #3694nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3354)nnThis PR also introduces a new helper `DefaultOptions` for solving option graphs. It accepts default options to be defined on various layers of your class hierarchy. These options can then be merged with the options passed by the user. This is called _resolving_.nnThe important feature of this utility is that it lets you define _lazy options_. Lazy options are specified using closures that are evaluated when resolving and thus have access to the resolved values of other (potentially lazy) options. The class detects cyclic option dependencies and fails with an exception in this case.nnFor more information, check the inline documentation of the `DefaultOptions` class and the UPGRADE file.nn@fabpot: Might this be worth a separate component? (in total the utility consists of five classes with two associated tests)n",
        "issue_comments": 7,
        "pr_comments": 7,
        "pr_review_comments": 5,
        "committers": [
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek"
        ],
        "changed_files": 53,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-04-11"
    },
    {
        "issue_id": 3777,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "[Routing] optimization in PhpMatcherDumper produces wrong result",
        "body": "The optimization in line 93 of https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Routing/Matcher/Dumper/PhpMatcherDumper.php#L93 does not work correctly and produces a matcher that can match the wrong route.nnThis is because it aggregates routes with the same prefix but does not consider there might be routes in between these routes that have higher priority and thus should be matched earlier. Hard to explain. Here is a test case that shows it:nn```n    $rootCollection = new RouteCollection();nn    $collection1 = new RouteCollection();n    $collection1->add('static1', new Route('/static1'));n    $collection1->add('static2', new Route('/static2'));nn    $collection2 = new RouteCollection();n    $collection2->add('var', new Route('/{var}', array(), array('var' => '.*')));nn    $collection3 = new RouteCollection();n    $collection3->add('static3', new Route('/static3'));n    $collection3->add('static4', new Route('/static4'));nn    $rootCollection->addCollection($collection1, '/prefix');n    $rootCollection->addCollection($collection2, '/{anyprefix}', array(), array('anyprefix' => '.*'));n    $rootCollection->addCollection($collection3, '/prefix');n```nnThis createsnn```npublic function match($pathinfo)n{n    $allow = array();n    $pathinfo = urldecode($pathinfo);nn    if (0 === strpos($pathinfo, '/prefix')) {n        // static1n        if ($pathinfo === '/prefix/static1') {n            return array('_route' => 'static1');n        }nn        // static2n        if ($pathinfo === '/prefix/static2') {n            return array('_route' => 'static2');n        }nn        // static3n        if ($pathinfo === '/prefix/static3') {n            return array('_route' => 'static3');n        }nn        // static4n        if ($pathinfo === '/prefix/static4') {n            return array('_route' => 'static4');n        }n    }nn    // varn    if (preg_match('#^/(?P<anyprefix>.*)/(?P<var>.*)$#xs', $pathinfo, $matches)) {n        $matches['_route'] = 'var';n        return $matches;n    }nn    throw 0 < count($allow) ? new MethodNotAllowedException(array_unique($allow)) : new ResourceNotFoundException();n}n```nnAs you can see the route `/prefix/static3` would now match route named `static3` but should rather match route `var` which has higher priority but comes later in the code generation.n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Tobion",
        "issue_closed_at": "2012-04-11"
    },
    {
        "issue_id": 3766,
        "assignees": [],
        "lables": [
            "Form",
            "Feature",
            "Easy Pick"
        ],
        "title": "[Form] Constraint Assert/Regex does not use HTML5 pattern attribute",
        "body": "``` phpn#Customer.phpnnclass Customer {n# (...)nn   /**n    * @var string $phonen    * @AssertNotBlank()n    * @AssertRegex(u201d/^(d{2}) d{4}-d{4}$/u201d)n    * @ORMColumn(name=u201dphoneu201d, type=u201dstringu201d, length=14)n    */n   private $phone;nn# (...)n}n```nn``` phpn#CustomerType.phpnnclass CustomerType extends AbstractTypen{n# (...)n   public function buildForm(FormBuilder $builder, array $options)n   {n       $buildern           ->add('phone', null, array('label' => 'Telefone'))n       ;n   }n# (...)n}n```nnHTML Result:nn``` htmln<input type=u201dtextu201d id=u201dpaggy_admin_customer_phoneu201d name=u201dpaggy_admin_customer[phone]u201d required=u201drequiredu201d maxlength=u201d14u201d class=u201dinput-textu201d>n```nn_Workaround:_ If I add the u201dpatternu201d property, duplicating the code of entity, it works as expected:nn``` phpn#CustomerType.phpnnclass CustomerType extends AbstractTypen{n# (...)n   public function buildForm(FormBuilder $builder, array $options)n   {n       $buildern           ->->add('phone', 'text', array('label' => 'Telefone', 'pattern' => '^n(d{2}) d{4}-d{4}$'))n       ;n   }n# (...)n}n```nnHTML Result:nn``` htmln<input type=u201dtextu201d id=u201dpaggy_admin_customer_phoneu201d name=u201dpaggy_admin_customer[phone]u201d required=u201drequiredu201d maxlength=u201d14u201d pattern=u201d^(d{2}) d{4}-d{4}$u201d class=u201dinput-textu201d>n```nnThanks!n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "marcospassos",
        "issue_closed_at": "2012-04-23"
    },
    {
        "issue_id": 3758,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "Support for private services as configurator",
        "body": "When using a method of a service as configurator, the PhpDumper expects this service to be available through `->get()`. This means we cannot use a private service here as the optimization would try to inline it (and even drop it entirely as it does not check configurators).nnThe easiest fix is probably to change the optimization pass to check configurators and force keeping services, as the XmlLoader does not support inline services for the configurator.nn/cc @schmittjoh n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-05-07"
    },
    {
        "issue_id": 3738,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Underscores Stripped From Prototype Label",
        "body": "When rendering collection of forms and using default prototype name (`__name__`), label is stripping underscores and renders as `name` instead `__name__` which makes it non replaceable.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "umpirsky",
        "issue_closed_at": "2012-04-07"
    },
    {
        "issue_id": 3732,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Collection Type with addXxx and removeXxx",
        "body": "I recently tried to set up a one-to-many relationship using the collection type to allow adding and removing elements. I had tremendous trouble getting it working, during the process of which I came across several issues, some of which are already reported, the last of which I don't believe is. I've include some information on all of it, for anybody attempting the same task.nnThe very first problem I had was that the addXxx and removeXxx functions never seemed to be called, I eventually tracked this down to a bug/ version incompatibility that had already been reported (Doctrines PersistentCollection didn't have __clone, meaning when the dataSnapshot is taken in MergeCollectionListener, the inner collection isn't cloned, thus changes are made to the dataSnapshot), I fixed this by updating composer.json to use doctrine/orm v2.2.1.nnThe second issue I had was that whilst addXxx was now being called, it was passing an array rather than an instance of my entity, I tracked this down to another bug report [https://github.com/symfony/symfony/issues/3354] , I used the suggest work around of adding the data_class to the options in the parent type.nnAt this point I am using symfony/symfony v2.1.* with doctrine/orm v2.2.1nnAfter these steps the addXxx function seemed to work, but removeXxx was never getting triggered. After looking through the code I identified where I _think_ the issue is as being MergeCollectionListener::onBindNormData. The logic for populating $itemsToDelete doesn't seem to make much sense to me. I have managed to get my test code up and running by changing the code....nn```n          // Item not found, remember for deletionn            foreach ($originalData as $key => $item) {n                if ($item === $originalItem) {n                    $itemsToDelete[$key] = $item;n                    continue 2;n                }n            }n```nn...to...nn```n            foreach($originalData as $key => $item) {n                if ($item === $originalItem) {n                    continue 2;n                }n            }n            $itemsToDelete[] = $originalItem;n```nnHere are the relevant Entities and Types, the controller / twig templates in use are the ones generated by the crud generator (with some JS added to add / remove fields).nn```n<?phpnnnamespace AcmeDemoBundleEntity;nnuse DoctrineORMMapping as ORM;nuse DoctrineCommonCollectionsArrayCollection;nn/**n * @ORMTable(name=u201dbandu201d)n * @ORMEntityn */nclass Bandn{n    /**n     * @ORMIdn     * @ORMColumn(type=u201dintegeru201d)n     * @ORMGeneratedValuen     */n    private $id;nn    /**n     * @var string $numbern     *n     * @ORMColumn(name=u201dnameu201d, type=u201dstringu201d, length=128)n     */n    private $name;nn    /**n     * @var DoctrineCommonCollectionsArrayCollectionn     *n     * @ORMOneToMany(targetEntity=u201dBandDetailu201d, mappedBy=u201dbandu201d, cascade={u201dallu201d})n     */n    private $details;nn    public function __construct()n    {n        $this->details = new DoctrineCommonCollectionsArrayCollection();n    }nn    /**n     * Get idn     *n     * @return integern     */n    public function getId()n    {n        return $this->id;n    }nn    /**n     * Set namen     *n     * @param string $namen     * @return Bandn     */n    public function setName($name)n    {n        $this->name = $name;n        return $this;n    }nn    /**n     * Get namen     *n     * @return stringn     */n    public function getName()n    {n        return $this->name;n    }nn    /**n     * Add detailsn     *n     * @param AcmeDemoBundleEntityBandDetail $detailsn     */n    public function addDetail(AcmeDemoBundleEntityBandDetail $detail)n    {n        $detail->setBand($this);n        $this->details->add($detail);n    }nn    public function removeDetail(AcmeDemoBundleEntityBandDetail $detail)n    {n        $detail->setBand(null);n        $this->details->removeElement($detail);n    }nn    public function setDetails($details)n    {n        foreach($details as $detail) {n            $detail->setBand($this);n        }nn        $this->details = $details;n    }nn    /**n     * Get detailsn     *n     * @return DoctrineCommonCollectionsCollectionn     */n    public function getDetails()n    {n        return $this->details;n    }n}nn<?phpnnnamespace AcmeDemoBundleEntity;nnuse DoctrineORMMapping as ORM;nuse DoctrineCommonCollectionsArrayCollection;nn/**n * @ORMTable(name=u201dband_detailsu201d)n * @ORMEntityn */nclass BandDetailn{n    /**n     * @ORMIdn     * @ORMColumn(type=u201dintegeru201d)n     * @ORMGeneratedValuen     */n    private $id;nn    /**n     * @ORMManyToOne(targetEntity=u201dBandu201d, inversedBy=u201ddetailsu201d)n     * @ORMJoinColumn(name=u201dband_idu201d, referencedColumnName=u201didu201d)n     */n    private $band;nn    /**n     * @var string $numbern     *n     * @ORMColumn(name=u201dtextu201d, type=u201dstringu201d, length=128)n     */n    private $text;nn    /**n     * Get idn     *n     * @return integern     */n    public function getId()n    {n        return $this->id;n    }nn    /**n     * Set textn     *n     * @param string $textn     * @return BandDetailn     */n    public function setText($text)n    {n        $this->text = $text;n        return $this;n    }nn    /**n     * Get textn     *n     * @return stringn     */n    public function getText()n    {n        return $this->text;n    }nn    /**n     * Set bandn     *n     * @param AcmeDemoBundleEntityBand $bandn     * @return BandDetailn     */n    public function setBand(AcmeDemoBundleEntityBand $band = null)n    {n        $this->band = $band;n        return $this;n    }nn    /**n     * Get bandn     *n     * @return AcmeDemoBundleEntityBandn     */n    public function getBand()n    {n        return $this->band;n    }n}nn<?phpnnnamespace AcmeDemoBundleForm;nnuse SymfonyComponentFormAbstractType;nuse SymfonyComponentFormFormBuilder;nnclass BandDetailType extends AbstractTypen{n    public function buildForm(FormBuilder $builder, array $options)n    {n        $buildern            ->add('text')n        ;n    }nn    public function getDefaultOptions(array $options)n    {n        return array(n            'data_class' => 'AcmeDemoBundleEntityBandDetail',n        );n    }nn    public function getName()n    {n        return 'banddetail';n    }n}nn<?phpnnnamespace AcmeDemoBundleForm;nnuse SymfonyComponentFormAbstractType;nuse SymfonyComponentFormFormBuilder;nnclass BandType extends AbstractTypen{n    public function buildForm(FormBuilder $builder, array $options)n    {n        $buildern            ->add('name')n            ->add('details', 'collection', array(n                'type' => new BandDetailType(),n                'allow_add' => true,n                'allow_delete' => true,n                'prototype' => true,n                'by_reference' => true,n                'options' => array('data_class' => 'AcmeDemoBundleEntityBandDetail'),n            ))n        ;n    }nn    public function getDefaultOptions(array $options)n    {n        return array(n            'data_class' => 'AcmeDemoBundleEntityBand',n        );n    }nn    public function getName()n    {n        return 'acme_demobundle_bandtype';n    }n}n```nnApologies for the length of the post, I was just trying to be thorough. I am a newcomer to both Symfony and Doctrine, but I'm relatively confident there is a bug here.  Can anybody shed some light on to whether this is a valid fix to the issue, or whether I'm just doing something wrong?nnCheers.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pocallaghan",
        "issue_closed_at": "2012-04-10"
    },
    {
        "issue_id": 3730,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Date field allow invalid date",
        "body": "When using date field in form with widget set to single_text (with format dd.MM.yyy) and input set to datetime, when I enter invalid date such 50.01.2012 i get valid date 19.02.2012, instead of validation message.nDate is propably converted in DateTimeToLocalizedStringTransformer.n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "jakubbialas",
        "issue_closed_at": "2014-09-15"
    },
    {
        "issue_id": 3685,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Failing test for empty_data option BC break",
        "body": "This demonstrates the issue described in symfony/symfony#3354. FieldType no longer has access to the child type's data_class option, which makes it unable to create the default closure for empty_data.nnWe're still waiting for @bschussek to chime in on #3354, so there is no rush to merge this. Most users are expecting `data_class` to be all that's necessary to facilitate creation of a new form data object -- it's not clear if that is still the intended functionality after the recent form BC breaks, or if those breaks were an oversight.nnIf it is to remain intended functionality, I think we can keep this test around after the issue is resolved.n",
        "issue_comments": 9,
        "pr_comments": 9,
        "pr_review_comments": 0,
        "committers": [
            "Jeremy Mikola"
        ],
        "changed_files": 2,
        "issue_created_by": "jmikola",
        "issue_closed_at": "2012-04-11"
    },
    {
        "issue_id": 3662,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "[2.0] [Session] Session is always started when a _locale attribute is present in the request",
        "body": "I have a problem which prevent me from using ESI. Main problem here is that a session is always started even when auto_start is false. Key to the problem is in the RouteListener. It tries to set a locale for session if there is a '_locale' attribute in the request. Calling the setLocale method for session will always start the session.nThe same problem with Session->getId() method. Why it always starts the session? I suggest to add getter isStarted() to check on the top level what should we do.n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "lisachenko",
        "issue_closed_at": "2012-07-03"
    },
    {
        "issue_id": 3661,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] `required` attribute is set on all form fields regardless of whether they are required or not",
        "body": "Build a form from a form type class:nn```npublic function buildForm( FormBuilder $builder, array $options )n{n    $buildern        ->add( 'text', 'text', array(n            'label' => 'search.form.text.label'n        ) )n        ->add( 'date', 'date', array(n            'widget' => 'single_text',n            'format' => 'dd.MM.yyyy',n            'label' => 'search.form.date.label'n        ) );n}n```nnAdd basic validation rules where none of the fields are required:nn```nMeMyBundleFormModelTextSearch:n  properties:n    date:n      - Type: DateTimen```nnRender the form:nn```n<form method=u201dpostu201d {{ form_enctype( form ) }}>n    {{ form_widget( form ) }}n    <input type=u201dsubmitu201d value=u201dSearchu201d />n</form>n```nnAll the fields get a `required` attribute:nn```n<label for=u201dtext_search_textu201d class=u201d requiredu201d>Text</label>n<input type=u201dtextu201d id=u201dtext_search_textu201d name=u201dtext_search[text]u201d required=u201drequiredu201d value=u201du201d />n```nnThis is incorrect, since the validation rules state that they are not required.nnUnder _Forms (2.0) u2013 Form Validation_, the documentation states:nn> **HTML5 Validation**  n> As of HTML5, many browsers can natively enforce certain validation constraints on the client side. The most common validation is activated by rendering a `required` attribute **on fields that are required**. [u2026]  n> Generated forms take full advantage of this new feature **by adding sensible HTML attributes** that trigger the validation.nnThis is clearly not the case: all the fields get the `required` attribute.nnAlso, under _Built-in Field Types u2013 Field Type Options_ (i.e. not under _Form Validation_), one can read:nn> **The `required` option**  n> The most common option is the `required` option, which can be applied to any field. **By default, the `required` option is set to `true`**, meaning that HTML5-ready browsers will apply client-side validation if the field is left blank.nnIn other words, Symfony is artificially introducing a discrepancy between the client- and the server-side validation criteria, and this by default.nnMoreover, there is a conflict between the two cited paragraphs of the documentation. The first one states that the `required` attribute is rendered on fields that are required, which is confirmed by the following paragraph under _Field Type Guessing u2013 Field Type Options Guessing_:nn> `required`: The required option can be guessed based off of the validation rules (i.e. is the field `NotBlank` or `NotNull`) or the Doctrine metadata (i.e. is the field `nullable`). This is very useful, as your client-side validation will automatically match your validation rules.nnHowever, the second paragraph states that the `required` option is set to `true` by default.nn**Resolution**n1. The documentation should be corrected for consistency: under _Built-in Field Types u2013 Field Type Options_:n   n   > By default, the `required` option is set to `true` **on the fields that are guessed to be required based on the validation rules**, meaning that HTML5-ready browsers will apply client-side validation if the field is left blank.n2. Symfonyu2019s behaviour should be changed to match the documentation: the `required` option should be set based on the guessed value and not to `true` by default.n",
        "issue_comments": 31,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "oscherler",
        "issue_closed_at": "2012-04-07"
    },
    {
        "issue_id": 3653,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator"
        ],
        "title": "[Translator] Does not track changes to files without clearing the cache in dev env",
        "body": "- I work for a developer environmentn- I add a file to translations folder, such as validators.ru.ymln- I reload pagen- The file dev/translations/catalogue.ru.php sees no changen- I remove cahcen- I reload pagen- Translations is OKn- If I change the value of translation and reload page, then I will see changes.nnI think the behavior of the system in point 4 incorrectnnRegards,nDmitryn",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "fightmaster",
        "issue_closed_at": "2012-04-20"
    },
    {
        "issue_id": 3635,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Doctrine"
        ],
        "title": "[Form] Entity Choice list fails for entities with @ID on OneToOne Column",
        "body": "I have an entity with the following @ID column:nn```n/**n * @ORMIdn * @ORMOneToOne(targetEntity=u201dSamsonAddressBookBundleEntityPersonu201d, cascade={u201dpersistu201d})n * @ORMJoinColumn(nullable=false)n */nprivate $person;n```nnWhen I try to use an entitychoicelist with this entity, it fails with the following message:nn```nThe choice list index u201dSome nameu201d is invalid. Please set the choice field option u201dindex_generationu201d to ChoiceList::GENERATE.n```nnThe problem is this piece of code:nn``` phpn        if (count($this->identifier) === 1) {n            return current($this->getIdentifierValues($entity));n        }n```nnIt should probably check that the identifier is numeric as welln",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Burgov",
        "issue_closed_at": "2012-04-11"
    },
    {
        "issue_id": 3620,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "Profiler goes into infinite loop under a sub-request error ",
        "body": "Hi,nnI'm working on an application that heavily relies on sub-requests.nDuring our development stage, one of our developers made a mistake and forgot to send a variable to Twig.nThe expected scenario would be an exception, but what happened was xdebug working on preventing the recursion after 200 nesting level.nnIt seems the PDO Profiler Storage is broken because it tries to collect the data, but token points to parent page and it enters in a recursive loop. This means $data['parent'] === $token in PdoProfilerStorage::createProfileFromData().nUnfortunately, this became a blocker for our team and we are behind the schedule, so I don't have enough time to test other drivers now.nnI worked over this problem and fixed that: https://github.com/symfony/symfony/pull/3618n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "guilhermeblanco",
        "issue_closed_at": "2012-04-13"
    },
    {
        "issue_id": 3585,
        "assignees": [],
        "lables": [
            "Bug",
            "Finder"
        ],
        "title": "[2.0][Finder] Iteration fails with non-rewindable streams",
        "body": "The [finder docs](http://symfony.com/doc/current/components/finder.html) mention iterating over an FTP stream, like so:nn```n$finder->in('ftp://example.com/pub/');n```nnTurns out, this does not work. It errors out with:nn> [ErrorException]n> Warning: FilesystemIterator::rewind(): stream does not support seeking in foo.php line 42nnOther stream wrappers may be affected as well.nnLooks like @krachot already mentioned this [somewhere](https://gist.github.com/796637) a year ago.n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "igorw",
        "issue_closed_at": "2012-06-19"
    },
    {
        "issue_id": 3547,
        "assignees": [],
        "lables": [
            "Bug",
            "CssSelector"
        ],
        "title": "[CssSelector] css to wrong xpath...",
        "body": "With a simple tablenn``` htmln<table>n    <thead>n        <tr>n            <th>column 1</th>n            <th>column 2</th>nn        <tr>n    </thead>n    <tbody>n        <tr>n            <td>a</td>        n            <td>b</td>n        <tr>n        <tr>n            <td>c</td>        n            <td>d</td>n        <tr>n        <tr>n            <td>e</td>        n            <td>f</td>n        <tr>n        <tr>n            <td>g</td>        n            <td>h</td>n        <tr>n        <tr>n            <td>i</td>        n            <td>j</td>n        <tr>n    </tbody>n</table>n```nnThe CssSelector::toXPath doesn't return the good xpath...nn``` phpn<?phpnn$css_query = 'tbody tr:nth-child(5) td';n$xpath = SymfonyComponentCssSelectorCssSelector::toXPath($css_query);n// $xpath = u201ddescendant-or-self::tbody/descendant::*[name() = 'tr' and (position() = 5)]/descendant::tdu201dnn```nnYou can check it with gg chrome and type in console inspector...nn``` jsnn$$('tbody tr:nth-child(5) td');n// then compare it ton$x(u201ddescendant-or-self::tbody/descendant::*[name() = 'tr' and (position() = 5)]/descendant::tdu201d);nn```nnnokogiri handles css to xpath conversion much better http://www.engineyard.com/blog/2010/getting-started-with-nokogiri/ it worse give a tryn",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "brikou",
        "issue_closed_at": "2012-07-14"
    },
    {
        "issue_id": 3541,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "crash with php5.3.10 on windows",
        "body": "Sites crash with no php or apache error message when using php5.3.10 on windows.nThis doesn't happen with php5.3.8nnI've narrowed it down to commit 851eb737784b06619485c844882e98c800a8f7fb which removed the u201duse SymfonyComponentDependencyInjectionContainerInterface;u201d line in vendor/symfony/Bundle/TwigBundle/TwigEngine.php. nnRe-adding this line in the current version of TwigEngine.php is enough to prevent the crash (commit 4bb65c7057770aa81fa3eb6b4fa6b7f8aaf37bd0 )nnI don't know why this happens, but I'd say it's worth fixing.n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mlarcher",
        "issue_closed_at": "2012-07-10"
    },
    {
        "issue_id": 3500,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "Absolute HTTPS URLs incorrect in Twig when behind trusted reverse proxy",
        "body": "To reproduce:nRun Symfony behind a trusted reverse proxy (set `framework: trust_proxy_headers: true` in `config.yml`).nHave the proxy strip off HTTPS encryption but insert `X-Forwarded-Proto: https` into requests. Requests then reach Symfony via port 80.nNow in a Twig template, generate an absolute URL using the `url(...)` template function.nnObserved result:nThe generated link points to `https://www.domain.com:80/my_route` which won't work. nnExpected result:nA link to `https://www.domain.com/my_route`.nnFurther info:nAs far as I can tell, the `RequestContext` instance passed into `SymfonyComponentRoutingGeneratorRouteGenerator` doesn't contain the correct values. In the above situation, `context->getScheme()` returns `https` and `context->getHttpPort()` returns `80`.n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "advancingu",
        "issue_closed_at": "2012-11-15"
    },
    {
        "issue_id": 3480,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "[Console] help in --shell repeats on subsequent help commands",
        "body": "Hi,nnEntering --shell mode on the console and then running a help command shows the correct help, but then if you try a different help command it shows the first again every time.nnExample;nn``` shnchrissedlmayr$ app/console --shellnn      _____                  __                  ___n     / ____|                / _|                |__ n    | (___  _   _ _ __ ___ | |_ ___  _ __  _   _   ) |n     ___ | | | | '_ ` _ |  _/ _ | '_ | | | | / /n     ____) | |_| | | | | | | || (_) | | | | |_| |/ /_n    |_____/ __, |_| |_| |_|_| ___/|_| |_|__, |____|n             __/ |                          __/ |n            |___/                          |___/nnnWelcome to the Symfony shell (2.0.11 - app/dev/debug).nnAt the prompt, type help for some help,nor list to get a list of available commands.nnTo exit the shell, type ^D.nnSymfony > help assetic:dumpnUsage:n assetic:dump [--watch] [--force] [--period=u201d...u201d] [write_to]nnArguments:n write_to  Override the configured asset rootnnOptions:n --watch   Check for changes every second, debug mode onlyn --force   Force an initial generation of all assets (used with --watch)n --period  Set the polling period in seconds (used with --watch) (default: 1)nnSymfony > help container:debugnUsage:n assetic:dump [--watch] [--force] [--period=u201d...u201d] [write_to]nnArguments:n write_to  Override the configured asset rootnnOptions:n --watch   Check for changes every second, debug mode onlyn --force   Force an initial generation of all assets (used with --watch)n --period  Set the polling period in seconds (used with --watch) (default: 1)nnSymfony > help router:debugnUsage:n assetic:dump [--watch] [--force] [--period=u201d...u201d] [write_to]nnArguments:n write_to  Override the configured asset rootnnOptions:n --watch   Check for changes every second, debug mode onlyn --force   Force an initial generation of all assets (used with --watch)n --period  Set the polling period in seconds (used with --watch) (default: 1)nnSymfony > nn```n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "catchamonkey",
        "issue_closed_at": "2012-03-02"
    },
    {
        "issue_id": 3472,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug",
            "Translator"
        ],
        "title": "[Translator][Container] Can not use translation in CLI",
        "body": "In the file Symfony/Bundle/FrameworkBundle/Translation/Translator line 69, the test $this->container->has('request') is not enought.nnWhile using the translator in the console, i'm getting the error:nYou cannot create a service (u201drequestu201d) of an inactive scope (u201drequestu201d).nnI think the solution would be to use : isScopeActive instead.n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vlechemin",
        "issue_closed_at": "2012-07-10"
    },
    {
        "issue_id": 3468,
        "assignees": [],
        "lables": [
            "Form",
            "Unconfirmed",
            "Easy Pick"
        ],
        "title": "[Form] Choice List in a Form",
        "body": "Hi.nnHere is my form [ProductType](https://github.com/umpirsky/symfony-standard/blob/f59d47767a07bf1e06d55a2ebff13a13ae6aa199/src/Acme/DemoBundle/Form/ProductType.php) and [this](https://github.com/umpirsky/symfony-standard/blob/f59d47767a07bf1e06d55a2ebff13a13ae6aa199/src/Acme/DemoBundle/Controller/ProductController.php#L51) is how I use it in action.nnI expect it to render available categories in choice list, but it renders text field for category, I read the doc, and [this](http://epixa.com/2011/08/create-and-validate-a-choice-list-in-a-symfony-2-form.html) article, and tried the same, but all I get is a text field for category.nnIt renders available categories in choice list only if I remove [getDefaultOptions()](https://github.com/umpirsky/symfony-standard/blob/f59d47767a07bf1e06d55a2ebff13a13ae6aa199/src/Acme/DemoBundle/Form/ProductType.php#L23) from [ProductType](https://github.com/umpirsky/symfony-standard/blob/f59d47767a07bf1e06d55a2ebff13a13ae6aa199/src/Acme/DemoBundle/Form/ProductType.php) and explicitly pass [Product](https://github.com/umpirsky/symfony-standard/blob/f59d47767a07bf1e06d55a2ebff13a13ae6aa199/src/Acme/DemoBundle/Entity/Product.php) as a second parameter to [$this->createForm()](https://github.com/umpirsky/symfony-standard/blob/f59d47767a07bf1e06d55a2ebff13a13ae6aa199/src/Acme/DemoBundle/Controller/ProductController.php#L53), but I guess that is not the right way to do it.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "umpirsky",
        "issue_closed_at": "2012-04-14"
    },
    {
        "issue_id": 3446,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Submit empty multiple entity choice -> error",
        "body": "This is my form element:nn```n$form->add($this->factory->createNamed('entity', 'job', null, array(n    'class' => 'PDBPlanningBundleEntityJob',n    'property' => 'name',n    'required' => false,n    'multiple' => true,n    'query_builder' => function(JobRepository $er) use ($project) {n  ...n```nnIf there is is nothing selected in this choice field, the field name isn't submitted and `null` is bound to the field. All leads to the following stack trace: nhttps://gist.github.com/1903637nnIn my opinion this is a problem of `ChoicesToValuesTransformer` in `reverseTransform` method where it should benn```nif (empty($array)) {n    return array();n}n```nninstead of nn```nif (null === $array) {n    return array();n}n```nnand I'd add this to the tests:nn```npublic function testReverseTransformEmptyArray()n{n    $this->assertSame(array(), $this->transformer->reverseTransform(array()));n}n```nnThis fixes my problem at least. nDo you agree? Then I'd submit a patch. How to add a pull request to this ticket? n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "chmielot",
        "issue_closed_at": "2012-04-07"
    },
    {
        "issue_id": 3396,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "EmailSenderListener adds significant overhead",
        "body": "Right now, the EmailSenderListener seems to be executed on each request regardless of whether an email is being sent or not. In my case, this makes each request about 1 second slower.n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "schmittjoh",
        "issue_closed_at": "2012-02-19"
    },
    {
        "issue_id": 3385,
        "assignees": [],
        "lables": [
            "Bug",
            "BrowserKit"
        ],
        "title": "[BrowserKit] on followRedirect, client omits cookies set in the RedirectResponse",
        "body": "This behaviour appears to be different from a real browser.nnSf2.0.9nnIn my functional test, I have something like the following:nn``` phpn    $client = static::createClient();n    $crawler = $client->request('GET', '/post'); // expect a redirect because this is POST onlyn    $this->assertEquals(302, $client->getResponse()->getStatusCode());nn    // debugn    ob_end_flush();n    echo $client->getRequest()->__toString().u201dnu201d;n    echo $client->getResponse()->__toString().u201dnu201d;n    ob_start();nn    $crawler = $client->followRedirect();nn    //debugn    ob_end_flush();n    echo $client->getRequest()->__toString().u201dnu201d;n    echo $client->getResponse()->__toString().u201dnu201d;n    ob_start();nn    $this->assertTrue($crawler->filter('html:contains(u201dsomethingu201d)')->count() > 0);n```nnThe first request contains no cookies.  The 302 response contains several Set-Cookie lines. The subsequent request has no cookies in the header.  (The response contains the message u201dYour session has timed-out, or you have disabled cookies.u201d)n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "robocoder",
        "issue_closed_at": "2012-03-30"
    },
    {
        "issue_id": 3366,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] ChoiceList's default GENERATE strategy",
        "body": "There are multiple problems with the default GENERATE strategy added in https://github.com/symfony/symfony/pull/3156 :n1. If the order of choices change in the time between the display of a page, and the submition of a form, the wrong value will be set.n2. It works only with browsers: if one built an API, and that API uses forms to handle data posted by clients, one can't use the GENERATE strategy (but what about the empty string problem ?)n3. The generated_value => real_value mapping should be exposed to the client side for javascript.nnPoint 1 could be addressed by hashing the original value to generate the value (if values aren't objects).nnPoint 2 can only be addressed by not using this strategy (but what about empty strings ?)n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "arnaud-lb",
        "issue_closed_at": "2012-04-10"
    },
    {
        "issue_id": 3354,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Default values set according to another options don't work anymore for children",
        "body": "Since the recent refactoring of the way default options are merged for a Form, setting a default value according to the value of another option does not work anymore for the hierarchy as the parent type will apply this default with its own default value even if the child type changed the default value. This is because the way the defaults are applied changed so the child type is applied only later.nA good way to see this is to define a type setting a default value for the `data_class` property. The `empty_data` default value set by the FieldType won't be set properly in the form (we would expect getting a closure crating an instance of the class).nThis is a BC break and makes the type inheritance less powerful IMO.nn/cc @bschussek n",
        "issue_comments": 24,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-04-11"
    },
    {
        "issue_id": 3327,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] form options aren't passed properly",
        "body": "I'm having some trouble with #3290. In https://github.com/symfony/symfony/blob/be2e67c1abbc98e813fe62a6a156a290bce3b517/src/Symfony/Bridge/Doctrine/Form/Type/DoctrineType.php#L67 `$options['class']` and `$options['property']` are `null` although I've set them in the `getDefaultOptions` method of my form type (which has `entity` as parent). I guess there's something wrong with passing options now.nn@bschussek: Could you please look into this?n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "craue",
        "issue_closed_at": "2012-04-04"
    },
    {
        "issue_id": 3315,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fixed MergeCollectionListener for the case that the form's data is updated by the data mapper",
        "body": "Bug fix: yesnFeature addition: yesnBackwards compatibility break: nonSymfony2 tests pass: yesnFixes the following tickets: #3293, #1499nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3293)nnThis fixes CollectionType to properly use adders and removers. Apart from that, adders and removers now work with custom property paths. PropertyPath was extended for a method `getParent`.n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 16,
        "committers": [
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek"
        ],
        "changed_files": 6,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 3311,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "[Monolog bridge] WebProcessor not working",
        "body": "Hi,nn`<service id=u201dmonolog.processor.webu201d class=u201dSymfonyBridgeMonologProcessorWebProcessoru201d>n            <tag name=u201dmonolog.processoru201d method=u201dprocessRecordu201d />n            <argument type=u201dserviceu201d id=u201drequestu201d strict=u201dfalseu201d />n        </service>`nnSo this is my processor declaration, over a default config_dev.xml declaring monolog configuration.nNow I'm getting an InactiveScopeException. Setting strict = true  throws a ScopeWideningInjectionException. nnDid I miss someting, or is this actually a bug?nnThanksn",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "tiagojsag",
        "issue_closed_at": "2012-04-29"
    },
    {
        "issue_id": 3299,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Allow empty choices array for ChoiceType",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: yesnnThe documentation about ChoiceType says, that default for 'choices' is array(). nThis is not allowed because an empty array evaluates to false: nnif (!$options['choice_list'] && !$options['choices']) {nnUse case: choices are empty and items are added dynamically.n",
        "issue_comments": 8,
        "pr_comments": 8,
        "pr_review_comments": 3,
        "committers": [
            "Thomas Chmielowiec"
        ],
        "changed_files": 2,
        "issue_created_by": "chmielot",
        "issue_closed_at": "2012-02-11"
    },
    {
        "issue_id": 3298,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] ChoiceType - empty choices array not allowed",
        "body": "The documentation about ChoiceType sais, that default for 'choices' is array(). nThis is not allowed because an empty array evaluates to false: nn```nif (!$options['choice_list'] && !$options['choices']) {n```nnUse case: choices are empty and items are added dynamically.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "chmielot",
        "issue_closed_at": "2012-02-07"
    },
    {
        "issue_id": 3293,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Update existing Object Collection",
        "body": "If I create a form with an embedded form as collection and define allow_add, I can create the object with sub-objects without a problem.nWhen I try to update the object with more sub-objects, it doesn't save the new objects.nI think the problem is inside bindRequest (before I do the bindRequest, there are 2 objects inside and after 0 objects).nThe form shows the right amount of objects in the view.nnThis case worked before.nI found out that inside src/Symfony/Component/Form/Extension/Core/EventListener/MergeCollectionListener.php $originalData and $data are the same on update with new objects. Because they are the same, they are deleted at Line 167.n",
        "issue_comments": 29,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ibrows",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 3290,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "BC Break"
        ],
        "title": "[Form] Fixed: u201ddateu201d, u201dtimeu201d and u201ddatetimeu201d fields can be initialized with DateTime objects",
        "body": "Bug fix: yesnFeature addition: yesnBackwards compatibility break: **yes**nSymfony2 tests pass: yesnFixes the following tickets: #3288nTodo: -nn![Travis Build Status](https://secure.travis-ci.org/bschussek/symfony.png?branch=issue3288)nnFixed exception that was thrown when doing:nn```n$builder->add('createdAt', 'date', array('data' => new DateTime()));n```nnOn a side note, the options passed to `FieldType::getDefaultOptions` now always also contain the default options of any parent types. This is necessary if you want to be independent of how `getDefaultOptions` is implemented in the parent type and still rely on the already defined values.nnAs a result, `FieldType::getParent` doesn't see default options anymore. This shouldn't be a big problem, because this method only relies on options in few cases. If it does, options now need to be checked for existence with `isset` before being used (BC break).n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 17,
        "committers": [
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek",
            "Bernhard Schussek"
        ],
        "changed_files": 14,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 3288,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] `datetime` form field type cannot accept DateTime as a default value",
        "body": "Steps to reproduce:n1. Create new form type class like:n   n   ```n   class HistorySliderType extends AbstractTypen   {n       /**n        * {@inheritdoc}n        */n       public function buildForm(FormBuilder $builder, array $options)n       {n           $datetime = new DateTime();n   n           $buildern               ->add('date', 'datetime', array(n                   'date_widget' => 'single_text',n                   'time_widget' => 'single_text',n                   'date_format' => 'yyyy-MM-dd',n                   'with_seconds' => true,n                   'data' => $datetimen               ));n       }n   n       /**n        * {@inheritdoc}n        */n       function getName()n       {n           return 'acme_tbundle_historyslidertype';n       }n   }n   ```n2. Render the formnnThe result: `Expected argument of type u201dDateTimeu201d, u201darrayu201d given`n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "zerkms",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 3278,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] time Field Type with single_text widget displays seconds even if 'with_seconds' is false",
        "body": "There seems to be a bug with the `time`field type in combination with `single_text` widget and `with_seconds` `FALSE`.nnI use the following code to build the form:nn```n$builder->add('airtime', 'time', array(n    'widget'        => 'single_text',n    'with_seconds'  => false,n    'input'         => 'string',n));n```nnThe widget is displayed in `hh:mm:ss` format instead of the expected `hh:mm`format.n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "florianeckerstorfer",
        "issue_closed_at": "2012-04-10"
    },
    {
        "issue_id": 3272,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Form][DelegatingValidator] Fix path mapping for embedded forms",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: DelegatingValidatorTestnFixes the following tickets: [#1917](https://github.com/symfony/symfony/issues/1917), [#3018](https://github.com/symfony/symfony/issues/3018)nnTried to fix the bug where multi-input types (i.e. date, radio) of embedded forms get wrong path mappingnn```nchildren[subForm][choiceType].datan```nnshould benn```nchildren[subForm].data.choiceTypen```n",
        "issue_comments": 4,
        "pr_comments": 4,
        "pr_review_comments": 0,
        "committers": [
            "Fabien Potencier",
            "tamirvs"
        ],
        "changed_files": 1,
        "issue_created_by": "tamirvs",
        "issue_closed_at": "2012-05-22"
    },
    {
        "issue_id": 3269,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "[Validator] [BCBreak] Deprecated ConstraintValidator methods setMessage(),",
        "body": "Since https://github.com/symfony/symfony/commit/9153f0e5691e67e343222b44f30034828680536c customs Validator are broken and not only deprecatednn```npublic function isValid($value, Constraint $constraint)n{n   //...n          $this->setMessage($constraint->message, array(n                '%property%' => $constraint->propertyn            ));n    //...n}n```nn(https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Validator/UniqueValidator.php)nnthrows this errornn```nPHP Fatal error:  Call to a member function addViolation() on a non-object in /Users/***Bundle/vendor/symfony/src/Symfony/Component/Validator/ConstraintValidator.php on line 82n```n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Maks3w",
        "issue_closed_at": "2012-02-06"
    },
    {
        "issue_id": 3263,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form]u00a0Type 'choice' is treated as extradata even if property in entity exists",
        "body": "I stumbled over the following issue:nnWhen I use the 'choice' type and name it exactly as the property of the underlying entity I get an validation error that extra data is not allowed.nLooks to me like a bug because this behaviour worked in the past. n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "daFish",
        "issue_closed_at": "2012-02-06"
    },
    {
        "issue_id": 3262,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "[router] Wrong port after redirecting",
        "body": " I use a diffent HTTP port than the default :80.nA redirect due to a missing trailing slash strips the correct port out of the url.nnMy Route:nn```nmyroute:n    pattern:  /{category}/{product}/n    defaults: { _controller: XxlBaseBundle:Default:routeToOldCode }n```nnconfig.yml:nn```nframework:n    router:          { resource: u201d%kernel.root_dir%/config/routing.ymlu201d, http_port: 8080 }n```nnhttp://domain.local:8080/cat1/prod1/ -> works!nhttp://domain.local:8080/cat1/prod1 -> redirects to http://domain.local/cat1/prod1/ without port so you get a 404.nnMy Symfony-Version:nn```n$ app/console -VnSymfony version 2.0.9 - app/dev/debugn```nnGreetingsnPatrickn",
        "issue_comments": 20,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pdaether",
        "issue_closed_at": "2012-02-07"
    },
    {
        "issue_id": 3255,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "PDO session storage and Oracle Database",
        "body": "There is a problem with this file:nnhttps://github.com/symfony/symfony/blob/v2.0.9/src/Symfony/Component/HttpFoundation/SessionStorage/PdoSessionStorage.phpnnSpecifically this function:nnpublic function sessionRead($id)nnI was getting an error using PDO session storage and Oracle DB:nnWarning: base64_decode() expects parameter 1 to be string, resource given in /usr/local/zend/apache2/htdocs/cokezero/vendor/symfony/src/Symfony/Component/HttpFoundation/SessionStorage/PdoSessionStorage.php line 186n500 Internal Server Error - ErrorException nnThe problem is related to the way OCI8 retrieves LOBs data types.nnhttp://wezfurlong.org/blog/2005/oct/lob-support-added-to-pdo-oci-in-php-5-1-cvs-finally/nnMy hack to make it work, was to set an attribute and convert all datatypes to strings at fetching. Its not very elegant but works:nn176             $this->db->setAttribute(PDO::ATTR_STRINGIFY_FETCHES, true);n177             $stmt = $this->db->prepare($sql);n178             $stmt->bindParam(':id', $id, PDO::PARAM_STR, 255);n179 n180             $stmt->execute();n181             // it is recommended to use fetchAll so that PDO can close the DB cursorn182             // we anyway expect either no rows, or one row with one column. fetchColumn, seems to be buggy #4777n183             $sessionRows = $stmt->fetchAll(PDO::FETCH_NUM);n184 n185             if (count($sessionRows) == 1) {n186                 return base64_decode($sessionRows[0][0]);n187             }nnA better portable solution must be coded to retrieve the column sess_value correctly for oracle.n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "diaspar",
        "issue_closed_at": "2012-07-27"
    },
    {
        "issue_id": 3251,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Dependency Injection] Service declaration tags should allow array types",
        "body": "Hello,nnUsing the following yml service declation:nn`````` (...)tags:n        - { name: acme.myservice, sections:{main:true, side:true} }```nnproduces a correct array when parsed in a ComplierPass, but then throws:nn```ErrorException: Warning: DOMElement::setAttribute() expects parameter 2 to be string, narray given in (...)vendor/symfony/src/Symfony/Component/DependencyInjection/Dumper/XmlDumper.php line 141```n``````n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "tiagojsag",
        "issue_closed_at": "2012-04-13"
    },
    {
        "issue_id": 3217,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "[Validator] Cache race condition",
        "body": "There is a race condition in the [`ClassMetaDataFactory`](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/Mapping/ClassMetadataFactory.php#L49) as described in #3211n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "vicb",
        "issue_closed_at": "2012-03-13"
    },
    {
        "issue_id": 3195,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Customize an Individual field with camelCase name",
        "body": "I followed the documentation here : http://symfony.com/doc/2.0/cookbook/form/form_customization.html#how-to-customize-an-individual-field , it's working for all the fields I wanted to modify the display, except for one field that is named with camelCase.nnThe field :nn``` htmln<tr>n    <th>n        <label for=u201dadtype_imageFileu201d>Image</label> :    n    </th>n    <td>n        <input type=u201dfileu201d id=u201dadtype_imageFileu201d name=u201dadtype[imageFile]u201d />n    </td>n</tr>n```nnThe overrided block for this field :nn``` jinjan{% block _adtype_imageFile_row %}n    <tr>n        <th{% if form_errors(form) %} class=u201derroru201d{% endif %}>n            * {{ form_label(form, label|default(null)) }}n        </th>n        <td>n            {{ form_widget(form) }}n            {% if errors|length > 0 %}n                <div class=u201derroru201d>n                    {{ form_errors(form) }}n                </div>n            {% endif %}n        </td>n    </tr>n{% endblock %}n```nnIn the same view, I defined individual blocks and it's working fine, except for this one. Working fields are the ones named in lowercase.nnExemple of a working field :nn``` jinjan{% block _adtype_translation_html_row %}n    <tr>n        <th{% if form_errors(form) %} class=u201derroru201d{% endif %}>n            * {{ form_label(form, label|default(null)) }}n        </th>n        <td>n            {{ form_widget(form) }}n            {% if errors|length > 0 %}n                <div class=u201derroru201d>n                    {{ form_errors(form) }}n                </div>n            {% endif %}n        </td>n    </tr>n{% endblock %}n```nnAm I doing something wrong?nnThanks!n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "tiois",
        "issue_closed_at": "2012-02-03"
    },
    {
        "issue_id": 3194,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "[Router] Imported Routes ignore `requirements` without a `prefix`",
        "body": "The following example automatically adds `requirements` to all imported routes:nn``` yamlnApi:n    prefix: /apin    requirements:n      _method: GETn    resource: u201d@ApiBundle/Resources/config/routing.ymlu201dn```nnWhen `prefix` is removed, `requirements` (and `defaults`) are not added to the route because of [RouteCollection#L212](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Routing/RouteCollection.php#L212):nn``` phpnpublic function addPrefix($prefix, $defaults = array(), $requirements = array())n{n    // a prefix must not end with a slashn    $prefix = rtrim($prefix, '/');nn    if (!$prefix) {n        return;n    }n...n```nnAm I correct in assuming this is a bug?nn_I'm using a [RouterBundle](https://github.com/mitchpolska/RouterBundle/tree/master/RouterBundle) to support a new `_host` requirement, but I'd have to rewrite the `YamlFileLoader or the`RouteCollection` to ensure parameters cascade to the imported routes._n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ericclemmons",
        "issue_closed_at": "2012-02-02"
    },
    {
        "issue_id": 3188,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Bugfix][Form] Fixed broken MoneyType regexp for JPY",
        "body": "Bug fix: yesnFeature addition: nonBackwards compatibility break: nonSymfony2 tests pass: ![Build Status](https://secure.travis-ci.org/ManuelKiessling/symfony.png?branch=ticket_3124) Fixes the following tickets: #3124nTodo: -nnThe regexp in MoneyType doesn't work if currency format has no decimaln(like JPY) and doesn't work either if the currency symbol is unicodennThis change fixes both issues and adds a unit testn",
        "issue_comments": 0,
        "pr_comments": 0,
        "pr_review_comments": 5,
        "committers": [
            "Manuel Kiessling",
            "Manuel Kiessling"
        ],
        "changed_files": 2,
        "issue_created_by": "manuelkiessling",
        "issue_closed_at": "2012-02-02"
    },
    {
        "issue_id": 3179,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Validator] StaticMethodLoader invokes wrong method",
        "body": "```ninterface FooInterface {nn    public static function loadValidatorMetadata($metadata);n}nnclass Bar implements FooInterface {nn    private $baz = 'bogus';nn    public static function loadValidatorMetadata($metadata) {n        $metadata->addPropertyConstraint('baz', new AssertMinLength(10));n    }nn}nn$validator = new Validator(n                new ClassMetadataFactory(new StaticMethodLoader()),n                new ConstraintValidatorFactory()n);n$violations = $validator->validate(new Bar);nif ($violations->count()) {n    throw new Exception($violations);n}n```nnI have classes that needs to be validated with `SymfonyComponentValidator` and this classes uses `StaticMethodLoader` strategy for validation. I declared `loadValidatorMetadata` method in interface but `StaticMethodLoader` invokes wrong method and following error occures.nn```nFatal error: Uncaught exception 'ReflectionException' with message 'Trying to invoke abstract method FooInterface::loadValidatorMetadata()' in Symfony/Component/Validator/Mapping/Loader/StaticMethodLoader.php on line 44nnReflectionException: Trying to invoke abstract method HeatbeatFooInterface::loadValidatorMetadata() in /Symfony/Component/Validator/Mapping/Loader/StaticMethodLoader.php on line 44n```nnLooks like there is a problem with Reflection. n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "o",
        "issue_closed_at": "2012-07-26"
    },
    {
        "issue_id": 3175,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "[Validator] The email validator fails with some valid addresses",
        "body": "Hello,nnIt looks like the email validator u201dthinksu201d this email addresses are not valid:n- example@example.museumn- example@example.example.orgnnRegards,nProgValn",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ProgVal",
        "issue_closed_at": "2012-03-07"
    },
    {
        "issue_id": 3163,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug",
            "Doctrine",
            "Easy Pick"
        ],
        "title": "[Validator] UniqueEntityValidator can't validate values of proxy objects",
        "body": "If you have an association and have that as one of your fields for using the SymfonyBridgeDoctrineValidatorConstraintsUniqueEntityValidator the unique validation wont work if your object is a proxy and hasn't had the identifier field hydrated yet.nnI didn't know how to put this into a unit test but did work out a very crude fix in the validator that i'm sure isn't suitable to be a patch but I think helps illustrate the problem better.nn``` phpn            if (isset($class->associationMappings[$fieldName])) {nn                // very crude fix to the problemn                if ($criteria[$fieldName] instanceof DoctrineORMProxyProxy) {n                    $criteria[$fieldName]->__load();n                }nn                $relatedClass = $em->getClassMetadata($class->associationMappings[$fieldName]['targetEntity']);n                $relatedId = $relatedClass->getIdentifierValues($criteria[$fieldName]);nn                if (count($relatedId) > 1) {n                    throw new ConstraintDefinitionException(sprintf('Associated entities are not allowed to have more than one identifier field to be part of a unique constraint in %s#%s.', $class->name, $fieldName));n                }n                $criteria[$fieldName] = array_pop($relatedId);n            }nn```nnI experienced this on Symfony 2.0.9, running on OS X Lionn",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "kevindew",
        "issue_closed_at": "2012-04-13"
    },
    {
        "issue_id": 3162,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Customise output string format of single text datetime fields",
        "body": "Adding the following to a form:nn```n->add(u201ddueAtu201d, u201ddatetimeu201d, array(n    'input'  => 'datetime',n    'widget' => 'single_text',n    u201drequiredu201d => falsen))n```nnresults in fix format output `Y-m-d H:i:00` or `Y-m-d H:i:s` with seconds. This change allows the developer to change the output format using the `date_format` parameter.n- Bug fix : non- BC break : non- Feature addition : yesn- Symfony2 tests pass: ???n",
        "issue_comments": 11,
        "pr_comments": 11,
        "pr_review_comments": 0,
        "committers": [
            "Leevi Graham"
        ],
        "changed_files": 1,
        "issue_created_by": "leevigraham",
        "issue_closed_at": "2012-07-11"
    },
    {
        "issue_id": 3161,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] 'NaN' string is mapped to a decimal field as a float(NaN)",
        "body": "I followed the tutorial at http://symfony.com/doc/current/book/doctrine.html and after that generated CRUD.nnThe `price` member looks like:nn```n/**n * @var decimal $pricen *n * @ORMColumn(name=u201dpriceu201d, type=u201ddecimalu201d, nullable=false)n */nprivate $price;n```nnIf we specify `NaN` as a price form value - form is treated as **valid** and we get a warning from loggernn```nWarning: [json] (php_json_encode) double NAN does not conform to the JSON spec, encoded as 0 in /var/www/sf/vendor/symfony/src/Symfony/Bridge/Doctrine/Logger/DbalLogger.php line 44n```nnI think that string `NaN` should be treated as invalid decimal value thus form should be treated as invalidnnPS: this is a dump of an object after validation and right before persisting (and logging)nn```nobject(AcmeStoreBundleEntityProduct)#654 (4) { [u201didu201d:u201dAcmeStoreBundleEntityProductu201d:private]=> int(1) [u201dnameu201d:u201dAcmeStoreBundleEntityProductu201d:private]=> string(3) u201dFoou201d [u201dpriceu201d:u201dAcmeStoreBundleEntityProductu201d:private]=> float(NAN) [u201ddescriptionu201d:u201dAcmeStoreBundleEntityProductu201d:private]=> string(1) u201dau201d }n```n",
        "issue_comments": 38,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "zerkms",
        "issue_closed_at": "2012-02-02"
    },
    {
        "issue_id": 3154,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[2.2] [Form] Empty value missing for expanded single-choice field with required set to false",
        "body": "When creating an expanded, single-choice field that is not requirednn```n$form = $this->createFormBuilder()n    ->add('color', 'choice', array(n        'choices' => array(n            '990000' => 'Red',n            '009900' => 'Green',n        ),n        'expanded' => true,n        'required' => false,n    ))n    ->getForm()n;n```nnan entry for the empty value should be added, but is not.n",
        "issue_comments": 13,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "webmozart",
        "issue_closed_at": "2013-05-06"
    },
    {
        "issue_id": 3124,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] MoneyType regexp broken for JPY",
        "body": "The regexp in MoneyType doesn't work if currency format has no decimal (like JPY) and doesn't work either if the currency symbol is unicodenthe following patch should fix both problems :nn```n===================================================================n--- vendor/symfony/src/Symfony/Component/Form/Extension/Core/Type/MoneyType.php (revision )n+++ vendor/symfony/src/Symfony/Component/Form/Extension/Core/Type/MoneyType.php (revision )n@@ -100,7 +100,7 @@nn             // the regex also considers non-break spaces (0xC2 or 0xA0 in UTF-8)nn-            preg_match('/^([^sxc2xa0]*)[sxc2xa0]*123[,.]00[sxc2xa0]*([^sxc2xa0]*)$/', $pattern, $matches);n+            preg_match('/^([^sxc2xa0]*)[sxc2xa0]*123[,.]*[0]*[sxc2xa0]*([^sxc2xa0]*)$/u', $pattern, $matches);nn             if (!empty($matches[1])) {n                 self::$patterns[Locale::getDefault()] = $matches[1].' {{ widget }}';n```n",
        "issue_comments": 17,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ma2thieu",
        "issue_closed_at": "2012-04-04"
    },
    {
        "issue_id": 3109,
        "assignees": [],
        "lables": [
            "Bug",
            "BrowserKit"
        ],
        "title": "[BrowserKit] CookieJar can't parse multiple cookies from Set-Cookie",
        "body": "`CookieJar::updateFromResponse()` assumes that each `Set-Cookie` header contains only one cookie:nhttps://github.com/symfony/symfony/blob/master/src/Symfony/Component/BrowserKit/CookieJar.php#L97nnThis is wrong since the following is a valid header defining three cookies (foo=1, bar=2, PHPSESSID=id):n`Set-Cookie: foo=1; expires=Fri, 13 Jan 2012 11:04:36 GMT; domain=.example.org, bar=2; expires=Fri, 13 Jan 2012 11:04:36 GMT; domain=.example.org, PHPSESSID=id; expires=Fri, 13 Jan 2012 11:04:36 GMT`nnAnother error is that this header is parsed to a cookie `foo` with domain `.example.org, bar=2`.n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "asm89",
        "issue_closed_at": "2012-04-07"
    },
    {
        "issue_id": 3094,
        "assignees": [],
        "lables": [
            "Bug",
            "FrameworkBundle"
        ],
        "title": "FrameworkBundle missing dependencies.",
        "body": "FrameworkBundle is missingn- DepedencyInjection as a required libraryn- Config as a required libraryn- Finder as a recommended library (as Console is recommended aswell)n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "henrikbjorn",
        "issue_closed_at": "2012-01-12"
    },
    {
        "issue_id": 3093,
        "assignees": [],
        "lables": [
            "Bug",
            "Templating"
        ],
        "title": "TwigBridge hardcoded reference to form layout",
        "body": "``` plainnTwig_Error_Loader: The u201d/Volumes/Kermode/Projects/Play/Diveshare/vendor/symfony/twig-bundle/Symfony/Bundle/TwigBundle/DependencyInjection/../../../Bridge/Twig/Resources/views/Formu201d directory does not exist.n```nnWhen using composer to install most of the components individually Twig fails to add the default form styles to its extension for theming. This is because the file is hardcoded to being in the same place.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "henrikbjorn",
        "issue_closed_at": "2012-01-12"
    },
    {
        "issue_id": 3091,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][Guesser] Incorrect Form Field Guessing And/Or Validation",
        "body": "Hi, nnWhen I make a form from an entity class with this property:nn```n/**n * @AssertNotBlank()n * @AssertMin(u201d-.5u201d)n * @AssertMax(u201d.5u201d)n */nprotected $numericProperty;n```nnSymfony adds a `pattern=u201d.{3,2}u201d` attribute to the HTML `<input>` in the view, which is obviously not right. The pattern attribute is still added even if I `@AssertType(u201dfloatu201d)` or `@AssertType(u201dnumericu201d)`.nn(Note that if I leave out the quotation marks in `@AssertMin` and `AssertMax` I get an error.)nnIf I explicitly specify the field as optional or as a number type when I add it to the form builder, then the `pattern` attribute goes away (as expected), but another problem crops up: I can't specify a positive number without a leading digit (e.g. u201d.3u201d). When I do so, I get the error: nn> Expected argument of type u201dnumericu201d, u201dbooleanu201d given in vendor/symfony/src/Symfony/Component/Form/Extension/Core/DataTransformer/NumberToLocalizedStringTransformer.php at line 73nnThe validation constraints are working though: if I enter a number outside of -.5 and .5, I get the appropriate error, and .3 is accepted if I enter it as 0.3.nnBoth of the `pattern` attribute and the requirement for a leading 0 weren't behaviors I was expecting. But maybe I'm missing something?n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ethanresnick",
        "issue_closed_at": "2012-03-21"
    },
    {
        "issue_id": 3090,
        "assignees": [],
        "lables": [
            "Bug",
            "Intl"
        ],
        "title": "Locale::getDisplayCountries() does not return all countries for 5-letter locales",
        "body": "When a 5-letter locale (e.g. de_CH) ist set, SymfonyComponentLocaleLocale::getDisplayCountries() does not return the full country list but only the countries that are special for the specific locale.nnThis is only the case when there is in fact a special resource file for this locale. For fr_CH for instance, fr is used as the fallback and the full list is returned. nnSomething like the following code seems to solve the issue, although it looks a little hacky so I am not sure if this is the right way.nn```nnamespace SymfonyComponentLocale;nnclass Locale extends Localen{n    static public function getDisplayCountries($locale)n    {n        // ...nn        if (strlen($locale) == 5) {n            $countries = self::getDisplayCountries(substr($locale, 0, 2));n        } else {n            $countries = array();n        }nn        // ...n    }n}n```n",
        "issue_comments": 12,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pkraeutli",
        "issue_closed_at": "2012-01-16"
    },
    {
        "issue_id": 3075,
        "assignees": [],
        "lables": [
            "Form",
            "Unconfirmed",
            "Easy Pick"
        ],
        "title": "[Form][Guesser] The prototype is an empty string for a collection which is not one-to-many",
        "body": "The prototype is an empty string for a collection which is not backed by one-to-many relationshipnn``` phpn{% debug form_widget(form.extraAttributes.get('prototype')) %}n```nnreturns `string(0) u201du201d`nnbuildForm methodnn``` phpn$buildern            ->add('images', 'collection', array('type' => new ProductimageType(), 'allow_add' => true, 'allow_delete' => true, 'label'=> 'Imagini', 'prototype' => true ))n            ->add('extraAttributes', 'collection', array('type' => 'hidden', 'allow_add' => true, 'allow_delete' => true, 'label'=> 'Attribute', 'prototype' => true))n        ;n```nn`images` ,which is one-to-many relationship in Doctrine2, displays the prototype properly, whereas `extraAttributes` prototype is emptynnField definitions:nn``` phpn /**n     * @ORMOneToMany(targetEntity=u201dProductimageu201d, mappedBy=u201dproductu201d, orphanRemoval=true, cascade={u201dpersistu201d})n     */n    private $images;nn  /**n     * @var arrayn     * @ORMColumn(name=u201dOtheru201d, type=u201darrayu201d, nullable=true)n     */n    private $extraAttributes;n```nnI add nn``` htmln<input class=u201dform-hiddenu201d type=u201dhiddenu201d id=u201dproduct_extraAttributes_0_typeu201d name=u201dproduct[extraAttributes][0][type]u201d>n```nnmanually via javascript, and the engine properly adds fields as intended, so basically everything works except the prototype generation.n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "chetzof",
        "issue_closed_at": "2012-07-10"
    },
    {
        "issue_id": 3053,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "Notice with getPreferredLanguage(array())",
        "body": "If $locales parameter is an empty array:nnNotice: Undefined offset: 0 in /path/to/project/vendor/symfony/src/Symfony/Component/HttpFoundation/Request.php line 944n500 Internal Server Error - ErrorExceptionn",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "marmotz",
        "issue_closed_at": "2012-01-07"
    },
    {
        "issue_id": 3022,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "BC Break"
        ],
        "title": "[Form] FormTypeCsrfExtension replaces any existent csrf field",
        "body": "Form::setData dispachtes the PRE_SET_DATA event that is caught by the FormTypeCsrfExtension and invokes the EnsureCsrfFieldListener::ensureCsrfField.nnThis function does the following:nn```npublic function ensureCsrfField(DataEvent $event)n{n    $form = $event->getForm();nn    $options = array();n    if ($this->intention) {n        $options['intention'] = $this->intention;n    }n    if ($this->provider) {n        $options['csrf_provider'] = $this->provider;n    }nn    $form->add($this->factory->createNamed('csrf', $this->name, null, $options));n}n```nnNow assume that a given form is already bound and therefore validated. If we call isValid() everything is fine.nThough, if we invoke the setData method, and call the isValid() method again an exception is thrown:nnYou cannot call isValid() on a form that is not bound. nnThis happens because the previous bounded csrf Form instance was replaced. It this the expected behaviour?nnThis could be solved by using $form->has before the $form->add.nnI solved this issue temporarly in my case by doing this (ugly thing):nn``` javascriptn$csrfTokenValue = $form[u201d_tokenu201d]->getData();n$form->setData($user);n$form[u201d_tokenu201d]->bind($csrfTokenValue);n```n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "satazor",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 3018,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][DelegatingValidator] error_bubbling => false doesn't work with date field",
        "body": "Hi!nnI've just noticied, that error_bubbling set to false for field type 'date' doesn't make any effect.nn$builder->add('receipt_time', 'date', array(n            'required' => true,n            'input' => 'string',n            'error_bubbling' => falsen        ));nnerror for field above are displayed as form errors.nn$builder->add('receipt_time', 'text', array(n            'required' => true,n            'input' => 'string',n            'error_bubbling' => falsen        ));nnerrors from above are displayed correctly as field errors.nnPlease fix asap.nnBest regardsnKrzychun",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "kjaniszewski",
        "issue_closed_at": "2012-04-04"
    },
    {
        "issue_id": 2973,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "Hyphen in service name corrupt the cache",
        "body": "When using hyphen in a service name, the generated cache throw a PHP Parse error.nnHere is my configuration file :nn``` ymlnservices:n  site.my-project.landing:n    scope: requestn    class: RiverlineOptinBrandFrontendBundleWorkflowPagen    arguments: [ landing ]n```nnAnd the generated codenn``` phpnprotected function getSite_My-project_LandingService()n{   n}n```n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "rcambien",
        "issue_closed_at": "2012-02-13"
    },
    {
        "issue_id": 2964,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "[Service Container] Inlining property-injected service definitions generates invalid XML",
        "body": "Hello,nnDefining a private service then injecting it only once will cause its definition to be dumped 'inline' when generating a cached service definitions XML file (which is expected in the dev environment). However, when this service is injected using property injection, the following error occurs:nn```n [InvalidArgumentException]nn [ERROR 1871] Element '{http://symfony.com/schema/dic/services}service':n This element is not expected. (in [...] /app/cache/dev/appDevDebugProjectContainer.xml [...] )n```nnThe cached services definitions XML files contains the following chunk, which is indeed invalid:nn```n  <property name=u201d[...]u201d type=u201dserviceu201d>n    <service class=u201d[...]u201d public=u201dfalseu201d>n      [...]n    </service>n  </property>n```nnYou can reproduce the issue by adding the following snippet in a services definitions XML file:nn```n<services>n    <service id=u201dfoou201d class=u201dStdClassu201d public=u201dfalseu201d />n    <service id=u201dbaru201d class=u201dStdClassu201d>n        <property name=u201dpu201d type=u201dserviceu201d id=u201dfoou201d />n    </service>n</services>n```nnTemporary workaround: Make that service definition public so it does not get inlined.nnWhen it comes to a permanent fix, I am not sure about whether the xsd should accept inlined definitions of property-injected services (see: https://groups.google.com/group/symfony-devs/browse_thread/thread/d4ad8626db8316c3 for a somewhat related issue) or if property-injected services should just skip inlining.nnAll the best,n## nnmirsaln",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mirsal",
        "issue_closed_at": "2012-05-07"
    },
    {
        "issue_id": 2962,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing",
            "HttpFoundation"
        ],
        "title": "Percents in URL attributes are decoded thrice times",
        "body": "The pathinfo is urldecoded() twice: One time in Request->getPathinfo() and a second time in UrlMatcher->match().nnAfter that, each individual URL attribute is decoded one more time.nnThis means that in an URL like `/find/{key}`, you have to encode {key} three times to get the proper value in the controller.nnExample when passing `%baz%` as `key` attribute value:nn| Encoded  times | Request URI | getPathInfo() | match() | $request->get('key') |n| --- | --- | --- | --- | --- |n| 1 | `/find/%25baz%25` | `%baz%` | `ufffdz%` | `ufffdz%` |n| 2 | `/find/%2525baz%2525` | `%25baz%25` | `%baz%` | `ufffdz%` |n| 3 | `/find/%252525baz%252525` | `%2525baz%2525` | `%25baz%25` | `%baz%` |nnI think only attributes should be decoded (once they are extracted from the URL).n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "arnaud-lb",
        "issue_closed_at": "2012-04-10"
    },
    {
        "issue_id": 2945,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Form][DelegatingValidator] Duplicated error when using a DataTransformer and a NotBlank constraint",
        "body": "If a DataTransformer fails, the value is set to `null` in the underlying object. This is logical as we don't have any value to set in it reliably (think for instance of the case where your DataTransformer transforms an id into an object and the setter uses a typehint). But this leads to an issue if the validation has a NotBlank or NotNull constraint on the field as you will then see an error `This value should not be blank` on the field (which was not blank in the client data).nnSee #2413 for a place where this error occurs often: the repeated type.n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-05-22"
    },
    {
        "issue_id": 2924,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Unwanted casting of numeric types allows incorrect pass of validation for AJAX posts",
        "body": "I have some properties of a deeply nested entity that need to be decimal. I have them marked up that way via the ORM Doctrine column type. Symfony2 renders an input field with a pattern attribute. nnI am validating via AJAX. I post over the data, use the form bindRequest to setup an instance of the entity but then use the validator service.nnThe thing I am finding is that if my user enters some letters 'abc' into a decimal-mapped column property, the bindRequest is setting the property to 0 (zero) rather than 'abc' so that the Type(float) constraint is always calling is_float(0) unless I specify an actual number in the field.nnBecause I am using AJAX, the field validates behind the scenes due to this setting of 0 rather than 'abc' but my UI stays the same. as Symfony is not called again to regenerate it like you would have if I were posting the whole page.nn2 options really - figure out a way of returning the modified value back to my UI in the AJAX response to reset it, or be able to tell Symfony to validate the value before setting/casting the values on my entity so that it truly validates the input and not the post-casted values.nnI think actually the latter is what should truly be happening. I think Symfony should not be helping me out by casting values here.  n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "PorridgeBear",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 2919,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] form_row does not pass variable to form_widget",
        "body": "my templatenn``` phpn {{ form_row (form.sku, { 'attr': { 'placeholder': 'Sku'} }) }}n```nnfields.html.twignn``` phpn{% extends 'form_div_layout.html.twig' %}nn{% block field_row %}n{% spaceless %}n<div class=u201dform-rowu201d>n    {{ form_label(form) }}n    {{ form_errors(form) }}n    {{ form_widget(form, attr) }}n    {% debug attr %}n</div>n{% endspaceless %}n{% endblock field_row %}nn{% block field_widget %}n{% debug attr %}n{% spaceless %}n{% set type = type|default('text') %}n<input class=u201dform-{{ type }}u201d type=u201d{{ type }}u201d {{ block('widget_attributes') }} {% if value is not empty %}value=u201d{{ value }}u201d {% endif %}/>n{% endspaceless %}n{% endblock field_widget %}nn```nnas you see i pass var `attr` from `form_row` to `form_widget`n`{{ form_widget(form, attr) }}`nn`{% debug attr %}` in `field_row` outputs  `array(1) { [u201dplaceholderu201d]=> string(5) u201dSkuu201d }`n`{% debug attr %}` in `widget_row` outputs  `array(0) { }`nnP.S. I'm aware ofnn``` phpn {{ form_widget (form.sku, { 'attr': { 'placeholder': 'Sku'} }) }}n```n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "chetzof",
        "issue_closed_at": "2012-03-08"
    },
    {
        "issue_id": 2861,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Entity field in from null after request",
        "body": "I have an entities that look like this:nnclass Customern{n     private $id;nn```n private $name;nn private $contact_user;nn private $new_contact_user;n```nn}nnclass Usern{n     private $id;nn```n private $name;n```nn}nnForm connected with Customer has a field $new_contact_user of type UserType. Adding new contact user to customer is not required during adding or updating Customer. Whenever i leave UserType form blank i'm getting $new_contact_user as User entity filled with null values. How can I check if UserType form fields were left with blank during request ?n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "phpeek",
        "issue_closed_at": "2012-02-02"
    },
    {
        "issue_id": 2849,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][Date] date_format option in datetime form fields",
        "body": "Specifying 'date_format' in a datetime form field does not work if 'widget' => 'single_text' has been used.nnI've found several pull requests for this issue, but none of them seem to be merged, so the problem persist in 2.0.nnI hope it will get fixed soon.n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "dinamic",
        "issue_closed_at": "2012-07-11"
    },
    {
        "issue_id": 2822,
        "assignees": [],
        "lables": [
            "Security",
            "Bug",
            "Doctrine"
        ],
        "title": "InvalidArgumentException when refreshing browser while user not in database",
        "body": "I am developing a site using Symfony 2.0.6.  nWhen I load my fixtures into the database, the fixture loader deletes all users and recreates them.nnThe problem is when a user is logged in at the time, as is common during development.  nnIt returns an InvalidArgumentException with the text u201d$user must be an instanceof of UserInterface, an object implementing a __toString method, or a primitive stringu201d and nothing I do, short of clearing my cookies, will clear the error.nnI have tracked down the bug to SymfonyBridgeDoctrineSecurityUserEntityUserProvidernIt returns null on the refreshUser method when there is not a user matching in the database.nnSubsequently, SymfonyComponentSecurityHttpFirewallContextListener::refreshUser doesn't handle null being returned from the provider and calls $token->setUser(null).  nThis results in SymfonyComponentSecurityCoreAuthenticationTokenAbstractToken::setUser is being called with null which results in the exception being thrown.nnAlso, as a side note, in the throwing of the InvalidArgumentException, u201d$useru201d is not interpreted because of the use of single quotes.  Looking through the method, it seems as the Exception was put in place as an after thought because it later checks for nulls but alas never gets to that point.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "DracoXul",
        "issue_closed_at": "2011-12-12"
    },
    {
        "issue_id": 2807,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "Private services with camel case name removed after first reference",
        "body": "If you defined a private service with camel case name, you can use it only once.nA second reference to the service throw an exception : nn> ServiceNotFoundException: The service u201dxxxxxu201d has a dependency on a non-existent service u201dxxxxxu201d.nnHere is my test service.yml:nn``` yamlnservices:n  service.priVate:n    class: TestPrivn    public: falsen    arguments: []nn  service.public1:n    class: TestPubn    arguments: [ @service.priVate ]nn  service.public2:n    class: TestPubn    arguments: [ @service.priVate ]n```nnMy Symfony version is 2.0.6n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "rcambien",
        "issue_closed_at": "2011-12-08"
    },
    {
        "issue_id": 2801,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][DelegatingValidator] Collection Callback validation error bubbling to the root form, should stay with field",
        "body": "I have seen similar bug reports, apologies if this is a duplicate. In my case, when I am using a collection field as follows:nn``` phpn$builder->add('goods', 'collection', array(n            'type' => new GoodType(),n            'allow_add' => true,n            'allow_delete' => true,n            'prototype' => true,n            'by_reference' => falsen        ));n```nnAnd a callback validatornn``` ymln constraints:n        - Callback:n            methods: [checkGoods]n```nn``` phpn    /**n     * Callback validator for Goodsn     * @param ExecutionContext $contextn     */n    public function checkGoods(SymfonyComponentValidatorExecutionContext $context) {n        if (! is_null($this->goods) && $this->goods->count() == 0) {n            $propertyPath = $context->getPropertyPath() . '.goods';n            $context->setPropertyPath($propertyPath);n            $context->addViolation('Please provide at least one good', array(), null);n        }n    }n```nnI see the u201dPlease provide at least one goodu201d at the root of the form, wherenn``` textn{{ form_errors(form) }} n```nnis called, but I expect it to be output with the field itself, presumably in the div that contains the data-prototype definition.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "PorridgeBear",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 2781,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Intl"
        ],
        "title": "[Form] FullTransformer DateTime binding exception is not caught in SymfonyComponentFormForm",
        "body": "# Problemnn**SymfonyComponentLocaleStubDateFormatFullTransformer** **parse** method throws **InvalidArgumentException** when the date format does not match.nn```n    public function parse(DateTime $dateTime, $value)n    {n        $reverseMatchingRegExp = $this->getReverseMatchingRegExp($this->pattern);n        $reverseMatchingRegExp = '/^'.$reverseMatchingRegExp.'$/';nn        $options = array();nn        if (preg_match($reverseMatchingRegExp, $value, $matches)) {n            $matches = $this->normalizeArray($matches);nn            foreach ($this->transformers as $char => $transformer) {n                if (isset($matches[$char])) {n                    $length = strlen($matches[$char]['pattern']);n                    $options = array_merge($options, $transformer->extractDateOptions($matches[$char]['value'], $length));n                }n            }nn            return $this->calculateUnixTimestamp($dateTime, $options);n        }nn        throw new InvalidArgumentException(sprintf(u201dFailed to match value '%s' with pattern '%s'u201d, $value, $this->pattern));n    }nn```nnThis exception is not caught in **SymfonyComponentFormForm** and form binding fails.n# DescriptionnnYou can easily reproduce this bug while using **datetime form field** with **widget=single_text** option by entering wrong date. When you try to bind request data to form, fatal error occurs.n# Possible solutionn- Standartize exceptions used in data transformersn- Catch those exceptions while binding form data, possibly bind **null** to form field value.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Entea",
        "issue_closed_at": "2012-02-14"
    },
    {
        "issue_id": 2779,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "CollectionValidator fails to validate ArrayAccess because array_key_exists is used",
        "body": "# ProblemnnCollectionValidator uses array_key_exists to find missing fieldnn**vendor/symfony/src/Symfony/Component/Validator/Constraints/CollectionValidator.php**nn```n        foreach ($constraint->fields as $field => $constraints) {n            if (array_key_exists($field, $value)) {n                // cannot simply cast to array, because then the object is converted to ann                // array instead of wrapped insiden                $constraints = is_array($constraints) ? $constraints : array($constraints);nn                foreach ($constraints as $constr) {n                    $walker->walkConstraint($constr, $value[$field], $group, $propertyPath.'['.$field.']');n                }nn                unset($extraFields[$field]);n            } else {n                $missingFields[] = $field;n            }n        }n```n# DescriptionnnI'm using a so-called **POJO** as a form data class. nTo enable validation, I'm using CollectionValidator**nOf course, to make it work with my form data class, I extend it from **ArrayAccess** and Traversablen**CollectionValidator** uses **array_key_exists**, which is buggy and does not work with **ArrayAccess**nnhttps://bugs.php.net/bug.php?id=34849nhttps://bugs.php.net/bug.php?id=41727n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Entea",
        "issue_closed_at": "2012-01-13"
    },
    {
        "issue_id": 2769,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "Only first attribute is considered in the ACL Voter",
        "body": "I am not sure if this is a bug or if I am misunderstanding how the ACL Voter works, but it looks like the ACL voter only considers the first attribute that returns a valid mask. nThe reason is that the vote function is wrapped in a large foreach statement, and inside the loop, the function can return granted, abstained, or denied. These votes are straight returns, and so potentially the remaining attributes will not be processed by the loop. nnClass: Symfony/Component/Security/Acl/Voter/AclVotern",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ddebree",
        "issue_closed_at": "2011-12-02"
    },
    {
        "issue_id": 2730,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "Service definition without any parameters create call to getDefaultParameters without implementation",
        "body": "I have an XML definition of my services (not an SF2 app, only the DIC is in use ATM).nnWhile there are no parameters in the services definition, the PhpDumper creates a constructor such as this:nnparent::__construct(new ParameterBag($this->getDefaultParameters()));nnBut it does not create the 'getDefaultParameters' method implementation if there are no parameters. By just adding a foo=bar parameter the method will be implemented. See the addDefaultParametersMethod() method in the PhpDumper.nnI'm at commit 1a5e0acd02.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ambis",
        "issue_closed_at": "2012-01-07"
    },
    {
        "issue_id": 2729,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Form][DelegatingValidator] Form error bubbles to the top with @Collection constraint and arrays",
        "body": "With the following code, errors related to Post->date['year'] are attached to the form instead of the 'year' element:nn``` phpn<?phpnclass Postn{n    /** @Collection(fields={u201dyearu201d=@NotBlank}) */n    public $date = array('year' => null);n}nn$dateForm = $this->get('form.factory')n    ->createNamedBuilder('form', 'date')n    ->add('year', 'text');nn$form = $this->get('form.factory')n    ->createBuilder('form', new Post)n    ->add($dateForm)n    ->getForm()n    ;nn$form->bind(array());nnecho $form->getErrorsAsString();nn```nngetErrorsAsString output:nn```nERROR: This value should not be blankndate:n    year:n        No errorsn```nnExpected output:nn```ndate:n    year:n        ERROR: This value should not be blankn```n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "arnaud-lb",
        "issue_closed_at": "2012-05-22"
    },
    {
        "issue_id": 2674,
        "assignees": [],
        "lables": [
            "Validator",
            "Feature",
            "Easy Pick"
        ],
        "title": "[Validator] what about to have MinCount and MaxCount validators",
        "body": "Let's say we have a bloger which can assign from one to five tags to his blog. While submiting the server should count  tags and check whether the collection in the allowed range. It can be done with `Choice` validator and `min` and `max` options. But in this case we have such problems:n- It should fetch all tags from db to check that choices are valid, n- Very hard to define callback in case of using `$repository->findAll()`nnFrom another side we have `MinMax` and `MinLengthMaxLength` validators but they very restrictive (the first takes only integers and second one only strings)nnSo I am thinking of moving count validation rules from Choice to a new validators called `MinCount` and `MaxCount`nnBTW I can do a PR if you find it useful.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "makasim",
        "issue_closed_at": "2012-05-20"
    },
    {
        "issue_id": 2653,
        "assignees": [],
        "lables": [
            "Bug",
            "FrameworkBundle"
        ],
        "title": "_format parameter is ignored in twig render function",
        "body": "(In this example I've just added code to the AcmeDemoBundle to make it easier to reproduce): nnTwig code added to AcmeDemoShopBundle:Demo:index.html.twig: n {% render 'AcmeDemoBundle:Demo:hello2' with {'_format' : 'otherformat'} %} nnController code added to AcmeDemoBundleControllerDemoController: n/* @Route(u201d/hello2.{_format}u201d, name=u201d_demo_hello2u201d, defaults={u201d_formatu201d = u201ddefaultformatu201d})      n- @Template()  n  */  n  public function hello2Action($_format)     {  n    return array('_format' => $_format);  n  } nnWhen the Twig template calls the render function the _format parameter is ignored and the controller always see u201dhtmlu201d instead 'otherformat' (specified in the render function).n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mqmtech",
        "issue_closed_at": "2012-03-12"
    },
    {
        "issue_id": 2621,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "Form repeated field makes the label always with a capital first letter",
        "body": "the code :nn$builder->add('password', 'repeated', array('type' => 'password',n                'first_name' => 'form.registration.password.password',n                'second_name' => 'form.registration.password.confirmation'n             ))nnwhen rendering the form with twig the fields label are Form.registration.password.password and Form.registration.password.confirmationnnthis breaks translationsnnVersions of the components I'm using :nn[symfony]n    git=http://github.com/symfony/symfony.gitn    version=v2.0.1nn[twig]n    git=http://github.com/fabpot/Twig.gitn    version=v1.1.2nn[monolog]n    git=http://github.com/Seldaek/monolog.gitn    version=1.0.1nn[doctrine-common]n    git=http://github.com/doctrine/common.gitn    version=2.1.1nn[doctrine-dbal]n    git=http://github.com/doctrine/dbal.gitn    version=2.1.1nn[doctrine]n    git=http://github.com/doctrine/doctrine2.gitn    version=2.1.1nn[swiftmailer]n    git=http://github.com/swiftmailer/swiftmailer.gitn    version=v4.1.1nn[assetic]n    git=http://github.com/kriswallsmith/assetic.gitn    version=v1.0.1nn[twig-extensions]n    git=http://github.com/fabpot/Twig-extensions.gitnn[metadata]n    git=http://github.com/schmittjoh/metadata.gitn    version=1.0.0nn[SensioFrameworkExtraBundle]n    git=http://github.com/sensio/SensioFrameworkExtraBundle.gitn    target=/bundles/Sensio/Bundle/FrameworkExtraBundlenn[JMSSecurityExtraBundle]n    git=http://github.com/schmittjoh/JMSSecurityExtraBundle.gitn    target=/bundles/JMS/SecurityExtraBundlenn[SensioDistributionBundle]n    git=http://github.com/sensio/SensioDistributionBundle.gitn    target=/bundles/Sensio/Bundle/DistributionBundlenn[SensioGeneratorBundle]n    git=http://github.com/sensio/SensioGeneratorBundle.gitn    target=/bundles/Sensio/Bundle/GeneratorBundlenn[AsseticBundle]n    git=http://github.com/symfony/AsseticBundle.gitn    target=/bundles/Symfony/Bundle/AsseticBundlen    version=v1.0.0n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "francodacosta",
        "issue_closed_at": "2011-11-11"
    },
    {
        "issue_id": 2611,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "ACL fails when evaluating domain object as property of another domain object",
        "body": "In this example my models are: Project, ProjectRole - ProjectRole has a ManyToOne Unidirectional relationship back to Project.nnI'm rendering the controller from my view in a few places:n- When I render from a view that passes in a project instance straight from the $em; no problem.n- However, when I render from a view that passes in $project_role.project the ACL does not workn",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "coderich",
        "issue_closed_at": "2012-04-12"
    },
    {
        "issue_id": 2605,
        "assignees": [],
        "lables": [
            "Form",
            "Validator",
            "Bug",
            "BC Break"
        ],
        "title": "[Form][Validator] Form error messages duplicated with inheritance",
        "body": "# Use casen## Models:nn```nabstract class AbstractUsern{n    private $username;n    private $password;n}nnclass ConcreteUser extends AbstractUsern{n    /**n     * @var UserProfilen     */n    private $profile;n}nnclass UserProfilen{n    private $name;n}n```n## validation.xml (1)nn```n<class name=u201dAbstractUseru201d>n    <property name=u201dusernameu201d>n        <constraint name=u201dNotBlanku201d>n            <option name=u201dgroupsu201d>Registration</option>n        </constraint>n    </property>n    <property name=u201dpasswordu201d>n        <constraint name=u201dNotBlanku201d>n            <option name=u201dgroupsu201d>Registration</option>n        </constraint>n    </property>n</class>n```n## validation.xml (2) :nn```n<class name=u201dConcreteUseru201d>n    <property name=u201dprofileu201d>n        <constraint name=u201dValidu201d />n    </property>n</class>nn<class name=u201dUserProfileu201d>n    <property name=u201dnameu201d>n        <constraint name=u201dNotBlanku201d>                n            <option name=u201dgroupsu201d>n                <value>Profile</value>n                <value>Registration</value>n            </option>n        </constraint>            n    </property>n</class>n```nnWhen setting _validation_groups_ to `Registration`, the error messages show twice for the `UserProfile::name` property.nnA simple test can be adding the username validation again into `ConcreteUser` class constraints :nn```n<class name=u201dConcreteUseru201d>n    <property name=u201dprofileu201d>n        <constraint name=u201dValidu201d />n    </property>n    <property name=u201dusernameu201d>n        <constraint name=u201dNotBlanku201d>n            <option name=u201dgroupsu201d>Registration</option>n        </constraint>n    </property>n</class>n```nnThen validation error messages will show twice on the _username_ as well.nnIn production environnement that's inconvenient :/n# Hack, ugly but....nnFor now, there is a hack until this is fixed, in form theme blocks (twig) :nn```n{% block field_errors %}n{% spaceless %}n    {% if errors|length > 0 %}n        <ul>n            {% set lastError = null %}n            {% for error in errors %}n                {% if lastError != error %}n                    <li>{{ error.messageTemplate|trans(error.messageParameters, 'validators') }}</li>n                {% endif %}n                {% set lastError = error %}n            {% endfor %}n        </ul>n    {% endif %}n{% endspaceless %}n{% endblock field_errors %}n```n",
        "issue_comments": 12,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "benjamindulau",
        "issue_closed_at": "2012-04-04"
    },
    {
        "issue_id": 2589,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "[TwigBundle] Problem with development exception view",
        "body": "When an exception is thrown in my application, if I try to expand an exception of the stack to view its details, the logs are cleared for some reason. This is very frustrating, as I have to reload the page in order to read the logs. I think this is a problem with the Javascript which handles the exception view in `TwigBundle`.nnCould you please fix it?nnP.S. I'm using Mozilla Firefox 7.0.1 on Ubuntu 11.10 Oneiric Ocelot.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "aldesantis",
        "issue_closed_at": "2011-11-10"
    },
    {
        "issue_id": 2577,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation",
            "Easy Pick"
        ],
        "title": "[HttpFoundation] UploadedFile needs Locale parameter to pass",
        "body": "Because function basename() is locale aware, the constructor need to pass a locale parameter and set it in constructor. Without setting a locale non-latin first characters cut off from beginning until a latin letter or a non-letter character found in the name.nnfrom HttpFoundationFileUploadedFile.phpnn```n    $this->originalName = basename($originalName);n    $this->mimeType = $mimeType ?: 'application/octet-stream';n    $this->size = $size;n    $this->error = $error ?: UPLOAD_ERR_OK;n    $this->test = (Boolean) $test;nn    parent::__construct($path, UPLOAD_ERR_OK === $this->error);n}n```nnShould be like this (an example):n        setlocale(LC_ALL, 'ru_RU.UTF8');n        $this->originalName = basename($originalName);n        $this->mimeType = $mimeType ?: 'application/octet-stream';n        $this->size = $size;n        $this->error = $error ?: UPLOAD_ERR_OK;n        $this->test = (Boolean) $test;nn```n    parent::__construct($path, UPLOAD_ERR_OK === $this->error);n}n```n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "helios-ag",
        "issue_closed_at": "2012-05-21"
    },
    {
        "issue_id": 2553,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Form::bindRequest will fail on form with only one field",
        "body": "I created a form using the form factory which essentially contains only one field:nn``` phpn$builder = $this->container->get('form.factory')->createBuilder(n    'email', n    $person->getEmail()n);n```nnTrying to bind this form to the post triggers the following error:nnWarning: array_replace_recursive() [<a href='function.array-replace-recursive'>function.array-replace-recursive</a>]: Argument #1 is not an array in D:workspace09_061_Shifter_RAIvendorsymfonysrcSymfonyComponentFormForm.php line 583n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Burgov",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 2516,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][Collection] formtypes dont fire *set_data events when used in collection",
        "body": "Even though i donu2019t really know if this is a bug or a misuse of the collection type by me i add this as an issue:nnI have an OrganisationType and a PersonType. As the organisation has a lot of persons associated the OrganisationType includes a collection with the type PersonType.nnWhat i wanted to do is set the PersonTypes forms label to a value of the underlying object. The problem is, that this object is never passed to the arguments part of the buildForm function. Adding formevents like pre_set_data or set_data aren`t working too. theyu2019re just never called.nnwhen i started to look around in the collectiontype i noticed the added eventsubscriber of class [1]. in line 92 this class iterates over the passed data as part of a pre_set_data event. what it never does is passing the value of the data (in this case an object of my class Person) to the collections type. i actually merges some default options with array_replace but not the data itself. when i add a u201ddatau201d => $value to this array_replace function my PersonType suddenly works without any problems.nnso i guess the u201ddatau201d => $value part is missing as part of the array_replace function and i therefor report it as a bug.nnfeel free to let me know that Iu2019m totally wrong ;)nn[1] SymfonyComponentFormExtensionCoreEventListenerResizeFormListenern",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "kmohrf",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 2515,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "Profile is stored twice",
        "body": "Since the latest refctoring of the ProfilerListener, the main profile is saved twice, which leads to logging a warning the second time saying `Unable to store the profiler information` as the file already exists.nnThis can easily be seen by doing this change in the profiler and looking at the logs. The main profile will appear twice.nn``` patchndiff --git a/src/Symfony/Component/HttpKernel/Profiler/Profiler.php b/src/Symfony/Component/HttpKernel/Profiler/Profiler.phpnindex d66b70f..0a33b3b 100644n--- a/src/Symfony/Component/HttpKernel/Profiler/Profiler.phpn+++ b/src/Symfony/Component/HttpKernel/Profiler/Profiler.phpn@@ -88,6 +88,7 @@ class Profilern      */n     public function saveProfile(Profile $profile)n     {n+        $this->logger->info(sprintf('Saving profile %s', $profile->getToken()));n         if (!($ret = $this->storage->write($profile)) && null !== $this->logger) {n             $this->logger->warn('Unable to store the profiler information.');n         }n```n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-11-07"
    },
    {
        "issue_id": 2480,
        "assignees": [],
        "lables": [
            "Validator",
            "Feature",
            "Easy Pick"
        ],
        "title": "[Validator] Allow Callback validator to be put on a field",
        "body": "Hey there,nnIs there a reason I'm missing that the callback validator _must_ be applied to a class and not to a property?nI need to blacklist values from a property and I'm forced to apply the validator to the class.n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "marcw",
        "issue_closed_at": "2012-07-11"
    },
    {
        "issue_id": 2389,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "Problem with form validator for numeric and integer type",
        "body": "I discover 2 issues in form framework for the validator for numeric and integer fields. In my form, i have 1 field with interger  type and another with  numeric type.nnWhen I bind the value 'Abc'  for the  numeric field, I had an exception : in the transform() method : nn[2011-10-12 15:41:13] request.CRITICAL: SymfonyComponentFormExceptionUnexpectedTypeException: Expected argument of type u201dnumericu201d, u201dbooleanu201d given (uncaught exception) at C:wampwwwmenuvendorsymfonysrcSymfonyComponentFormExtensionCoreDataTransformerNumberToLocalizedStringTransformer.php line 73 [] []nnSo I can't perform the isValid() Method.nnWhen I bind the value 'Abc' for the integer field, I don't had an exception, but the string is converted  to 0. So when I perform the isValid() method, the form is valid.n",
        "issue_comments": 12,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Isarien",
        "issue_closed_at": "2011-11-02"
    },
    {
        "issue_id": 2386,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel",
            "FrameworkBundle"
        ],
        "title": "Session locale never used",
        "body": "The new `LocaleListener` will only read the locale from the session if `$request->hasPreviousSession()` returns true. The call to this method always returns false because the `SessionListener` has not been notified yet and the session object has not been injected into the request.nnThe listener priorities are:n- `LocaleListener`: 255n- `SessionListener`: 128nnChanging these so the `SessionListener` is notified first would fix this issue.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "kriswallsmith",
        "issue_closed_at": "2011-11-17"
    },
    {
        "issue_id": 2381,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "route requirements for _locale parameter are ignored",
        "body": "It seems that route requirements for the `_locale` parameter aren't effective any longer. E.g. although `de|en` is required, one can use `ru` or `whatever` for that parameter without an error, and this value is then subsequently used for generating URLs. May be due to 74bc699b270122b70b1de6ece47c726f5df8bd41, but I'm not sure.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "craue",
        "issue_closed_at": "2011-10-23"
    },
    {
        "issue_id": 2358,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "Strange behaviour with some non-existent commands",
        "body": "I just noticed something strange.nnI was working with the console, trying to execute **doctrine:database:create**, so instead, I've typed **d:d:c**. Here's what I got:nn```n[ErrorException]                                                                                                                        nNotice: Undefined index: d:d in /home/alessandro/projects/Papers/vendor/symfony/src/Symfony/Component/Console/Application.php line 491n```nnThis happens with some other commands, like **a:b:c**. However **b:c:d** throws an **InvalidArgumentException** as expected:nn```n[InvalidArgumentException]                             nThere are no commands defined in the u201db:cu201d namespace.n```nnI think the console shouldn't throw any PHP error at all, and I don't understand why this happens only with some namespaces.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "aldesantis",
        "issue_closed_at": "2011-10-11"
    },
    {
        "issue_id": 2335,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "[Routing] Import prefix can conflict with route patterns",
        "body": "I believe this is a result 5c8a2fb48dfe09537db6ebdd77a52a3c90f409fe, which was a fix for #2139.nnI have the following in my app's `routing.yml`:nn``` ymlnbackend:n    resource:   @MyBundle/Resources/config/routing/backend.ymln    prefix:     /backendnnbackend_homepage:n  pattern: /backendn  defaults: { _controller: MyBundle:Backend:index }n```nnThis causes the `backend_homepage` route to be dropped after compilation, presumably because it conflicts with the import prefix. This would be understandable if the imported file had a route with `pattern: /`, but it does not (all routes have lengthy patterns).nnIf I reverse the order and define `backend_homepage` before the first import with `prefix: /backend`, everything is fine. Still, I consider this a work-around, as the prefix should logically not be responsible for dropping another route which really has no pattern conflict.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "jmikola",
        "issue_closed_at": "2011-10-24"
    },
    {
        "issue_id": 2308,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][Collection] collection field type error output",
        "body": "Hello,nnI'm having a problem with collection field type. If I set error_bubbling to false in order to display errors next to collection field label I will get these errors output twice. Seems that errors get written in form_row and then in form_widget:nn``` htmln{% block collection_widget %}n{% spaceless %}n    {% if prototype is defined %}n        {% set attr = attr|merge({'data-prototype': form_row(prototype) }) %}n    {% endif %}n    {{ block('form_widget') }}n{% endspaceless %}n```nnThe following fix worked for menn``` htmln{% block collection_row %}n{{ form_label(form) }}n{{ form_widget(form) }}n{% endblock %}n```nnBTW why render forms with form_widget instead of form_row? The problem was generally caused by this and at first glance the form_row approach seems more consistent (in regard field types).n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "eng1neer",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 2294,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Label should not render field attributes",
        "body": "Label should not render field attributesnn`->add('test', 'email', array('attr' => array('novalidate' => 'novalidate')))`nnRender :nn``` htmln<label novalidate=u201dnovalidateu201d for=u201dform_testu201d class=u201d requiredu201d>Test</label>n<input type=u201demailu201d id=u201dform_testu201d name=u201dform[test]u201d required=u201drequiredu201d    novalidate=u201dnovalidateu201d value=u201du201d />n```nnExpect :nn``` htmln<label for=u201dform_testu201d class=u201d requiredu201d>Test</label>n<input type=u201demailu201d id=u201dform_testu201d name=u201dform[test]u201d required=u201drequiredu201d    novalidate=u201dnovalidateu201d value=u201du201d />n```n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stealth35",
        "issue_closed_at": "2012-04-27"
    },
    {
        "issue_id": 2252,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator"
        ],
        "title": "XLIFF loader behavior problematic",
        "body": "Right now, the behavior of the XLIFF loader is to use the content of the `<source>` element as the id, and not the id attribute of the `<trans-unit>` element. This creates problems for people that adhere to the specification where the id is meaningful.nnFor example:nn``` xmln<trans-unit id=u201dform.label.firstnameu201d>n    <source>Firstname</source>n</trans-unit>n```nnThe loader would now take u201dFirstnameu201d as id, and not u201dform.label.firstnameu201d as you would expect. Since changing this would be a BC break, I'd like to know what others think about this?n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "schmittjoh",
        "issue_closed_at": "2011-09-29"
    },
    {
        "issue_id": 2241,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator"
        ],
        "title": "TwigExtractor does not always extract id from trans filter",
        "body": "Currently, the TwigExtractor cannot extract translations if the filter is not applied within a print node such asnn``` html+jinjan{{ form_widget(form, {u201dsthu201d: u201dfoo.baru201d|trans }) }}n```n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "schmittjoh",
        "issue_closed_at": "2011-09-23"
    },
    {
        "issue_id": 2217,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator"
        ],
        "title": "Form labels are not being extracted",
        "body": "Right now, there is no extractor for form labels that have been defined in the type class.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "schmittjoh",
        "issue_closed_at": "2011-12-06"
    },
    {
        "issue_id": 2216,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator"
        ],
        "title": "PhpExtractor does only work on view files",
        "body": "The extractor specifically does not pick up when you use the translator in your Controller:nn``` phpn<?phpnclass MyController extends ContainerAwaren{n    public function myAction()n    {n        $this->container->get('translator')->trans(...);n    }n}n```n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "schmittjoh",
        "issue_closed_at": "2011-12-06"
    },
    {
        "issue_id": 2209,
        "assignees": [],
        "lables": [
            "Bug",
            "BrowserKit"
        ],
        "title": "[CookieJar] Cookies with same name on different (sub)domains overwrite each other",
        "body": "Originally posted here: https://github.com/fabpot/Goutte/issues/23#issuecomment-2126475nnI'm trying to crawl a url that's part of a signon process, which issues a couple of redirects, in combination with cookies:nn1: subdomain1.domain.tld => sets `session_id` cookie, issues 302 redirect to subdomain2n2: subdomain2.domain.tld => sets `session_id` cookie, issues 302 redirect to subdomain1n3: subdomain1.domain.tld => issues 302 redirect to the final pagennThe first 2 steps work fine, but as a result of the second url, the `session_id` cookie overwrites the first one, even though it's on a different subdomain. When requesting the third url, the (required) `session_id` cookie is not being sent, because it is stored as belonging to the second subdomain, while the request is for the first subdomain.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "pkruithof",
        "issue_closed_at": "2011-12-31"
    },
    {
        "issue_id": 2198,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][Collection] Form binding incorrectly handles nested collections",
        "body": "3 duff entities:n- Menu contains an ArrayCollection (manytomany, cascade: persist, remove) of Dish itemsn- Dish contains an ArrayCollection (manytomany, cascade: persist, remove) of Ingredient items.n- Ingredient.nneach entity has an 'id' and a 'name' attribute.nThus Menu contains a collection of collections of ingredients.nnWhen I persist a Menu object from my form I get an error in Doctrine entity persist():nn> Warning: spl_object_hash() expects parameter 1 to be object, array given in [..]/Symfony/vendor/doctrine/lib/Doctrine/ORM/UnitOfWork.php line 1229nnbecause the Dish elements inside the Menu are arrays instead of Dish objects. To check it, I've added this test code:nn``` phpn// SecuredController.php line 59n$form->bindRequest($request);nif ($form->isValid()) {n         $dishes = $menu->getDishes(); // ArrayCollectionn         $dish = $dishes->current();  // should be a Dish objectn               throw new Exception('object: '.is_object($dish).' - array: '.is_array($dish));n```nnYou get: u201dobject: - array: 1u201d.nnThis is a blocking issue for me as I can't implement nested collections at all.nnTo reproduce:nnCode can be found in: http://www.doctrine-project.org/jira/secure/attachment/11062/DemoBundle.tar.gzn (I initially posted this problem as Doctrine issue then I realised it was with the form binding)n- fresh Symfony 2.0.1 install with vendorsn- extract DemoBundle.tar.gz into Symfony/src/Acme/ (replace existing folder: my test case is mixed with the default AcmeDemoBundle)n- create the schema: php app/console doctrine:schema:createn  go to http:// [yourserver] /app_dev.php/demo/secured/collection and play with the form, adding Dishes.n",
        "issue_comments": 12,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "chrisben",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 2179,
        "assignees": [],
        "lables": [
            "Bug",
            "Intl"
        ],
        "title": "Wrong date when using the stub intl",
        "body": "When using the stub intl implementation, a date field using `IntlDateFormatter::SHORT` will parse `09/14/11` as a date of the year 11 instead of 2011, thus breaking the handling of the form. When using the real intl, the date is parsed properly.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-09-15"
    },
    {
        "issue_id": 2168,
        "assignees": [],
        "lables": [
            "Security",
            "Bug",
            "HttpFoundation"
        ],
        "title": "Asset helper broken when using use_forward in the firewall",
        "body": "When using `use_forward` in the firewall, the forwarded request only contains the path, but not the base url (neither the host and the port). Because of this, the asset helper is broken as it does not add the base path.nnNote that the routing works to add the needed path as it is in the container scope and s has been initialized in the master request.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-09-18"
    },
    {
        "issue_id": 2144,
        "assignees": [],
        "lables": [
            "Bug",
            "Translator"
        ],
        "title": "transchoice should allow an empty value for an interval",
        "body": "It can be worked around, but I have run into a case where I wanted to have an empty string be returned from transchoice when the count was 0 and this is not currently possible with the way the interval messages are parsed in src/Symfony/Component/Translation/MessageSelector.php (gobbles all whitespace after the interval value and requires at least one non-whitespace character after that).n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "roverwolf",
        "issue_closed_at": "2011-09-14"
    },
    {
        "issue_id": 2142,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "[Bug]Inconsistent PathInfo parsing/checking",
        "body": "I have found an Bug regarding some inconsistency in how Symfony2 proccesses URI's.nnThe problem occured for me when I used some domainstring, wich got some special characters translated into the URI notation.nnAll the time my routing failed I got a u201dGET hpu201d while trying to get on my server using nn```nhttp://localhost/~blackskyliner/Symfony SVN/trunk/web/app_dev.phpn```nnI isolated the point when and where the bug happens.nnFirst I want to show, in a short snippet, what actually happens.nn``` phpn<?phpn$requestUri = u201d/~blackskyliner/Symfony%20SVN/trunk/web/app_dev.phpu201d;n$baseUrl = u201d/~blackskyliner/Symfony SVN/trunk/web/app_dev.phpu201d;n$pathInfo = u201d/u201d;nn$pathInfo = substr($requestUri, strlen($baseUrl));nnecho $pathInfo; // hp get's echoed instead of an empty string... leading to an fake GET request to a route called hp...n```nnThis all happens in the u201dpreparePathInfo()u201d function of the u201dSymfonyComponentHttpFoundationRequestu201d class of Symfony2 - in an if statement but it happens.nnSo for me it seems there is some lack of consistency for checking the domainstring for routing purposes.nBoth parameters should be encoded or decoded, so there is an consistent handling.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Blackskyliner",
        "issue_closed_at": "2011-09-28"
    },
    {
        "issue_id": 2139,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "For duplicate routes, matcher dumps both, generator only the second",
        "body": "Hey guys!nnI've noticed a possible inconsistency today. The setup is simple: import two routes with the same name but different patterns from different resource files (so that they don't YAML-override). For example:nn```n# some routing.yml that's importednfoo_page:n    pattern:  /foon    defaults: { _controller: MainBundle:Default:homepage }nn# some other routing.yml that's importednfoo_page:n    pattern:  /second-foo-pagen    defaults: { _controller: MainBundle:Default:homepage }n```n- when the matcher is dumped, both routes appear, but the first pattern appears firstn- when the generator is dumped, only the second route appears, and is used for all generationnnI believe the proper behavior should be that only the second route is used in the matcher, to be consistent with the dumper. nnThanks!n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "weaverryan",
        "issue_closed_at": "2011-09-30"
    },
    {
        "issue_id": 2119,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "[Validator] fix #2059 Added NumberValidator ",
        "body": "first see issue #2059nnIt's just a draft, the problem is Intl (no Intl / and the Default locale), I think we can improved the Stub and add the english [locale data](http://source.icu-project.org/repos/icu/icu/trunk/source/data/locales/en.txt) stubnSo what do you think ?n",
        "issue_comments": 14,
        "pr_comments": 14,
        "pr_review_comments": 6,
        "committers": [
            "stealth35"
        ],
        "changed_files": 5,
        "issue_created_by": "stealth35",
        "issue_closed_at": "2012-04-13"
    },
    {
        "issue_id": 2115,
        "assignees": [],
        "lables": [
            "Bug",
            "DomCrawler"
        ],
        "title": "DomCrawlar Problem MultibyteCharacter",
        "body": "HinnDomCrawlar are using DOMdocument.nnbut DOMdocument has Multibyte Character Problems.nnExamplennTargetHTMLnn```n<!DOCTYPE html>n<html>n<head>n    <meta charset=u201dUTF-8u201d>n    <title>Home - u4f1au8b70u5ba4u4e88u7d04u30b7u30b9u30c6u30e0 for TDDBC</title>n</head>n<body style=u201dwidth: 600px;u201d>n    <h1>u4f1au8b70u5ba4u4e88u7d04u30b7u30b9u30c6u30e0 for TDDBC</h1>n    <h2>u30e1u30cbu30e5u30fc</h2>n    <ul>n    </ul>n    <hr />n    <h2>u7ba1u7406u8005u30e1u30cbu30e5u30fc</h2>n    <ul>n        <li><a href=u201d/room/listu201d>u4f1au8b70u5ba4u4e00u89a7RoomList</a></li>n    </ul>n</body>n</html>n```nnDom Result (Run after loadHTML method (addHtmlContent method))nn```nu201dHome - u00e4u00bcu009au00e8u00adu00b0u00e5u00aeu00a4u00e4u00bau0088u00e7u00b4u0084u00e3u0082u00b7u00e3u0082u00b9u00e3u0083u0086u00e3u0083u00a0 for TDDBCn    u00e4u00bcu009au00e8u00adu00b0u00e5u00aeu00a4u00e4u00bau0088u00e7u00b4u0084u00e3u0082u00b7u00e3u0082u00b9u00e3u0083u0086u00e3u0083u00a0 for TDDBCn    u00e3u0083u00a1u00e3u0083u008bu00e3u0083u00a5u00e3u0083u00bcn    u00e7u00aeu00a1u00e7u0090u0086u00e8u0080u0085u00e3u0083u00a1u00e3u0083u008bu00e3u0083u00a5u00e3u0083u00bcn    u00e4u00bcu009au00e8u00adu00b0u00e5u00aeu00a4u00e4u00b8u0080u00e8u00a6u00a7RoomListn    u201dn```nnBut I want result itnn```nstring(147) u201dHome - u4f1au8b70u5ba4u4e88u7d04u30b7u30b9u30c6u30e0 for TDDBCn    u4f1au8b70u5ba4u4e88u7d04u30b7u30b9u30c6u30e0 for TDDBCn    u30e1u30cbu30e5u30fcn    u7ba1u7406u8005u30e1u30cbu30e5u30fcn    u4f1au8b70u5ba4u4e00u89a7RoomListn    u201dn```n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "miio",
        "issue_closed_at": "2011-09-07"
    },
    {
        "issue_id": 2082,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "Missing curly bracket in validators.fa.xliff file",
        "body": "In the validators.fa.xliff file on line 44 must be {{ limit }} but it is { limit }}. One curly bracket is missing.nnFile: symfony/vendor/symfony/src/Symfony/Bundle/FrameworkBundle/Resources/translations/validators.fa.xliffn",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "PeymanHR",
        "issue_closed_at": "2011-09-04"
    },
    {
        "issue_id": 2067,
        "assignees": [],
        "lables": [
            "Security",
            "Bug",
            "HttpFoundation"
        ],
        "title": "Login fails with pdo session storage on PostgreSql",
        "body": "Take an empty project.nConfigure session handling to use pdo with postgresql.nUsers coming from in_memory provider.nLogin is handled by form_login.nnResult:nWhen login form (/login) comes in for the first time, 1 session is created for the user.nAfter successful authentication, another session row is created in the session table and/but logged user is still anonymous.nnWith default (native) session handling everything is working fine.nWith mysql the user is logged in, but gets a new session, instead of continuing with the existing one (is it normal?)nnSo the problem is that session handling with postgre it's unable to get the user logged in.n(the results were the same with using FOSUserBundle)nnSymfony: 2.0.1nPHP: 5.3.3-7+squeeze3nPostgre: PostgreSQL 8.4.8nSystem: Linux dev 2.6.32-5-686 #1 SMP Mon Jun 13 04:13:06 UTC 2011 i686nn``` yamln# app/config/config.ymlnimports:n    - { resource: parameters.ini }n    - { resource: security.yml }nnframework:n    #esi:             ~n    translator:      { fallback: en }n    secret:          %secret%n    charset:         UTF-8n    router:          { resource: u201d%kernel.root_dir%/config/routing.ymlu201d }n    form:            truen    csrf_protection: truen    validation:      { enable_annotations: true }n    templating:      { engines: ['twig'] } #assets_version: SomeVersionSchemen    session:n        storage_id:     session.storage.pdonn#Twig Configurationntwig:n    debug:            %kernel.debug%n    strict_variables: %kernel.debug%nn#Assetic Configurationnassetic:n    debug:          %kernel.debug%n    use_controller: falsen    filters:n        cssrewrite: ~n        # closure:n        #     jar: %kernel.root_dir%/java/compiler.jarn        # yui_css:n        #     jar: %kernel.root_dir%/java/yuicompressor-2.4.2.jarnn#Doctrine Configurationndoctrine:n    dbal:n        driver:   %database_driver%n        host:     %database_host%n        port:     %database_port%n        dbname:   %database_name%n        user:     %database_user%n        password: %database_password%n        charset:  UTF8nn    orm:n        auto_generate_proxy_classes: %kernel.debug%n        auto_mapping: truenn#Swiftmailer Configurationnswiftmailer:n    transport: %mailer_transport%n    host:      %mailer_host%n    username:  %mailer_user%n    password:  %mailer_password%nnjms_security_extra:n    secure_controllers:  truen    secure_all_services: falsennparameters:n    pdo.db_options:n        db_table:    sessionn        db_id_col:   sess_idn        db_data_col: sess_datan        db_time_col: sess_timennservices:n    pdo:n        class:    PDOn        arguments:n            dsn:      u201dpgsql:dbname=testdbu201dn            user:     testusern            password: testpwdnn    session.storage.pdo:n        class:     SymfonyComponentHttpFoundationSessionStoragePdoSessionStoragen        arguments: [@pdo, %session.storage.options%, %pdo.db_options%]n```nn``` yamln# app/config/security.ymlnsecurity:n    encoders:n        SymfonyComponentSecurityCoreUserUser: plaintextnn    providers:n        in_memory:n            users:n                mtamas:  { password: akarmi, roles: 'ROLE_USER' }n                admin: { password: admin, roles: 'ROLE_ADMIN' }nn    firewalls:n        main:n            pattern:    ^/n            anonymous:  truen            form_login:n                check_path: /checkloginn                login_path: /loginn                username_parameter: usernamen                password_parameter: passwordn                post_only: truen                always_use_default_target_path: truen                default_target_path: /tesztn            logout:n                path:   /logoutn                target: /nn    role_hierarchy:n        ROLE_ADMIN:       ROLE_USERn        ROLE_SUPER_ADMIN: ROLE_ADMINn```n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "szegheo",
        "issue_closed_at": "2011-10-25"
    },
    {
        "issue_id": 2015,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Fix u201dpatternu201d option for date field type",
        "body": "This pull request adds the u201dpatternu201d option to the date field type. It was documented (http://symfony.com/doc/current/reference/forms/types/date.html) but apparently not implemented. The value was simply ignored and replaced with an automatically generated value that matched the locale.nnAs far as I can see this fixes both #1730 and #1967.nnThe behaviour should now be exactly as documented here: http://symfony.com/doc/current/reference/forms/types/date.html#patternn",
        "issue_comments": 11,
        "pr_comments": 11,
        "pr_review_comments": 4,
        "committers": [
            "Michel Weimerskirch",
            "Michel Weimerskirch"
        ],
        "changed_files": 1,
        "issue_created_by": "mweimerskirch",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 1987,
        "assignees": [],
        "lables": [
            "Bug",
            "Process"
        ],
        "title": "Process.php problems",
        "body": "Hi. Iu00b4m having some trouble with Symfony2 Process.php when working with Assetic:nn1st issue: $env argument in proc_open function does not allow to get output in windows. nInformation about this here: https://github.com/kriswallsmith/assetic/issues/99nn2st issue: fread on stderr pipe hangs forever with some filesnInformation about this here: https://github.com/kriswallsmith/assetic/issues/100nnIf anyone needs more information on how to solve or reproduce this problem Iu00b4m eager to help.nnThanks!n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ajfranzoia",
        "issue_closed_at": "2011-10-26"
    },
    {
        "issue_id": 1986,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "Form - problem with data => 0",
        "body": "HinnI've discovered a bug when using a form not related to an entity (when the form is related to an entity, this does not happen in the few tests I have done)nnwhen adding a field to a form like this :n$builder->add('test', 'number', array('data' => 0)) // 0 as intnor like thisn$builder->add('test', 'number', array('data' => '0')) // 0 as stringnnthe value of the rendered input is set to u201du201d (empty) instead of being u201d0u201d as expectednnnote : the problems occurs for all types, not only number, but also text and textarea for what I've testednalso note that when data => '00' or with more zero, the value is correctly rendered as 0n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Bouki",
        "issue_closed_at": "2011-08-23"
    },
    {
        "issue_id": 1971,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Form][DelegatingValidator] RepeatedType error keeps on bubbling to root form",
        "body": "When RepeatedType is nested inside another form, error messages such as u201dThis value should not be blanku201d bubble up to the root form, instead of appearing above the field in the nested form.nnTo illustrate this issue, I have put together the following example:n- Two types where one is nested in the other (child inside parent).n- Both types have the RepeatedType field.n- Both RepeatedType fields are NotBlank.nnAs you can see, the error message for the RepeatedType in the main type, appears right above the fields, but this doesn't happen for the nested type.nn![Screenshot](https://lh4.googleusercontent.com/-J-fC_SSILqM/Tkh8HkaFA9I/AAAAAAAAABg/rhRPP52nizQ/screenshot.png)nnHere are the types and models that can be used to demonstrate the issue:nn```nclass RegistrationParentn{n    public $registrationChild;nn    /**n     * @AssertNotBlank()n     */n    public $plainPassword;n}nnnclass RegistrationChildn{n    /**n     * @AssertNotBlank()n     */n    public $plainPassword;n}nnnclass RegistrationParentFormType extends AbstractTypen{n   public function buildForm(FormBuilder $builder, array $options)n   {n   $buildern      ->add('registrationChild', new RegistrationChildFormType())n      ->add('plainPassword', 'repeated', array(n         'type' => 'password',n      ))n   ;n }nnnclass RegistrationChildFormType extends AbstractTypen{n   public function buildForm(FormBuilder $builder, array $options)n   {n      $buildern         ->add('plainPassword', 'repeated', array(n            'type' => 'password',n         ))n      ;n }n```n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "andrejpavlovic",
        "issue_closed_at": "2012-05-22"
    },
    {
        "issue_id": 1967,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Specify date pattern",
        "body": "When I specify a date pattern like this :nn<code>n->add('h4', 'date', array(  'label'     =>  'Date of bird',n                                'widget'    =>  'choice',n                                'pattern'   =>  '{{ day }}/{{ month }}/{{ year }}',n</code>nthe result isn't Day/Month/Year but Year-Month-Day.nnIn the form_div_layout.html.twig, the block date_widget use u201ddate_patternu201d and not u201dpatternu201d. So, I changed u201ddate_patternu201d to u201dpatternu201d and now I have the good result Day/Month/Year.nn<code>n{% block date_widget %}n{% spaceless %}n    {% if widget == 'single_text' %}n        {{ block('field_widget') }}n    {% else %}n        <div {{ block('widget_container_attributes') }}>n            {{ date_pattern|replace({n                '{{ year }}':  form_widget(form.year),n                '{{ month }}': form_widget(form.month),n                '{{ day }}':   form_widget(form.day),n            })|raw }}n        </div>n    {% endif %}n{% endspaceless %}n{% endblock date_widget %}n</code>nnto nn<code>n{% block date_widget %}n{% spaceless %}n    {% if widget == 'single_text' %}n        {{ block('field_widget') }}n    {% else %}n        <div {{ block('widget_container_attributes') }}>n            {{ pattern|replace({n                '{{ year }}':  form_widget(form.year),n                '{{ month }}': form_widget(form.month),n                '{{ day }}':   form_widget(form.day),n            })|raw }}n        </div>n    {% endif %}n{% endspaceless %}n{% endblock date_widget %}n</code>nnI don't know if this bug was fixed and if my solution is the good.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ghost",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 1956,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "Chain user provider doesn't search in all user providers",
        "body": "I commit these changes because Chain user provider doesn't search in all user providers.nnExample with the Acme/DemoBundle:nn```n// security.ymln...n    providers:n        chain_provider:n            providers: [in_memory, in_memory_extend]n        in_memory_extend:n            users:n                admin2: { password: adminpass2, roles: [ 'ROLE_ADMIN' ] }n        in_memory:n            users:n                user:  { password: userpass, roles: [ 'ROLE_USER' ] }n...n    firewalls:n...n        secured_area:n            pattern:    ^/demo/secured/n            provider: chain_provider OR in_memory_extendn...n```nnWe can see these logs :nn```nsecurity.INFO: User u201dadmin2u201d has been authenticated successfully [] []nsecurity.DEBUG: Write SecurityContext in the session [] []nsecurity.DEBUG: Read SecurityContext from the session [] []nsecurity.DEBUG: Reloading user from user provider. [] []nsecurity.WARNING: Username u201dadmin2u201d could not be found. [] []n```nnThe new code search in others user providers when a user is not found in the first user provider and throws the right exception.n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 0,
        "committers": [
            "Abhoryo",
            "Abhoryo"
        ],
        "changed_files": 1,
        "issue_created_by": "Abhoryo",
        "issue_closed_at": "2011-08-23"
    },
    {
        "issue_id": 1953,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "FileValidator",
        "body": "This did not work for me:nn```n    if ($constraint->mimeTypes) {n        if (!$value instanceof FileObject) {n            $value = new FileObject($value);n        }nn        if (!in_array($value->getMimeType(), (array) $constraint->mimeTypes)) {n            $this->setMessage($constraint->mimeTypesMessage, array(n                '{{ type }}'    => 'u201d'.$value->getMimeType().'u201d',n                '{{ types }}'   => 'u201d'.implode('u201d, u201d', (array) $constraint->mimeTypes).'u201d',n                '{{ file }}'    => $path,n            ));nn            return false;n        }n    }n```nnI had to replace $value->getMimeType() with $value->getClientMimeType().n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "arevai",
        "issue_closed_at": "2011-08-23"
    },
    {
        "issue_id": 1917,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][DelegatingValidator] errors related to input[type=radio] rendered in wrong place",
        "body": "When using expanded choice list (input[type=radio] tags), error is bubbling in top of the form and not next to the errornous field, when expanded is set to false (select tag), everything workds as expected...n",
        "issue_comments": 18,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "brikou",
        "issue_closed_at": "2012-04-04"
    },
    {
        "issue_id": 1908,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] choices ids are malformed",
        "body": "Choices ids are not malformed, they should be normalized (slugged)nnWhen using this...nn``` phpn<?phpnn$buildern    ->add('color', 'choice', array(n        'choices' => array(n            ($k = 'The color #1') => $k,n            ($k = 'The color #2') => $k,n            ($k = 'The color #3') => $k,n        ),n        'expanded' => true,n    ))n;n```nnI get this...nn``` htmln<div id=u201dform_coloru201d>n    <input type=u201dradiou201d id=u201dform_color_The color #1u201d name=u201dform[color]u201d required=u201drequiredu201d value=u201dThe color #1u201d>n    <label for=u201dform_color_The color #1u201d class=u201drequiredu201d>The color #1</label>nn    <input type=u201dradiou201d id=u201dform_color_The color #2u201d name=u201dform[color]u201d required=u201drequiredu201d value=u201dThe color #2u201d>n    <label for=u201dform_color_The color #2u201d class=u201drequiredu201d>The color #2</label>nn    <input type=u201dradiou201d id=u201dform_color_The color #3u201d name=u201dform[color]u201d required=u201drequiredu201d value=u201dThe color #3u201d>n    <label for=u201dform_color_The color #3u201d class=u201drequiredu201d>The color #3</label>n</div>n```nnInstead of this...nn``` htmln<div id=u201dform_coloru201d>n    <input type=u201dradiou201d id=u201dform_color_the-color-1u201d name=u201dform[color]u201d required=u201drequiredu201d value=u201dThe color #1u201d>n    <label for=u201dform_color_the-color-1u201d class=u201drequiredu201d>The color #1</label>nn    <input type=u201dradiou201d id=u201dform_color_the-color-2u201d name=u201dform[color]u201d required=u201drequiredu201d value=u201dThe color #2u201d>n    <label for=u201dform_color_the-color-2u201d class=u201drequiredu201d>The color #2</label>nn    <input type=u201dradiou201d id=u201dform_color_the-color-3u201d name=u201dform[color]u201d required=u201drequiredu201d value=u201dThe color #3u201d>n    <label for=u201dform_color_the-color-3u201d class=u201drequiredu201d>The color #3</label>n</div>n```n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "brikou",
        "issue_closed_at": "2011-08-07"
    },
    {
        "issue_id": 1907,
        "assignees": [],
        "lables": [
            "Security",
            "Bug",
            "Routing",
            "Easy Pick"
        ],
        "title": "An exception is thrown when the firewall matches a inexistent url and try to redirect to a route using the locale",
        "body": "When using a login route with the pattern `/{_locale}/login`, the redirection works well when accessing an existing url secured by the firewall. But when accessing a inexistent url that matches the access control rule (easy when the rule secures `^/admin`), the redirection to the login url fails with this exception:nn```nThe u201dfos_user_security_loginu201d route has some missing mandatory parameters (u201d_localeu201d).n500 Internal Server Error - MissingMandatoryParametersException n```n",
        "issue_comments": 12,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-04-19"
    },
    {
        "issue_id": 1906,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "Incomplete YAML DI loader",
        "body": "The YAML DI loader does no have the equivalent of `on-invalid=u201dnullu201d`, only `on-invalid=u201dignoreu201d`. Unfortunately, ignoring the argument is only possible for the last one as you cannot omit an optional argument when passing the next one.nnSee https://github.com/nelmio/NelmioSecurityBundle/commit/b3ac56a7f102d3f1c12373e4d10eb150c2bde9da#diff-4 for instance, which is broken when the logger does not exist and the router exists. the only way to fix it currently is to switch the service definition to XML.n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-04-04"
    },
    {
        "issue_id": 1903,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Fix Method ContainerAwareEventDispatcher::hasListeners",
        "body": "Fix the fact that Method ContainerAwareEventDispatcher::hasListeners return false if my service is not lazyLoadedn",
        "issue_comments": 7,
        "pr_comments": 7,
        "pr_review_comments": 12,
        "committers": [
            "Joseph Bielawski",
            "Jordan Alliot",
            "Jordan Alliot",
            "Fabien Potencier",
            "Fabien Potencier",
            "Fabien Potencier",
            "Luis Muu00f1oz",
            "Fabien Potencier",
            "Fabien Potencier",
            "Fabien Potencier",
            "Fabien Potencier",
            "clombardot"
        ],
        "changed_files": 16,
        "issue_created_by": "cedriclombardot",
        "issue_closed_at": "2011-08-31"
    },
    {
        "issue_id": 1902,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Fixed: Notice: Undefined index: enable_annotations in ...",
        "body": "",
        "issue_comments": 4,
        "pr_comments": 4,
        "pr_review_comments": 0,
        "committers": [
            "Miha Vrhovnik"
        ],
        "changed_files": 1,
        "issue_created_by": "mvrhov",
        "issue_closed_at": "2011-08-08"
    },
    {
        "issue_id": 1900,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "Missing method in the RouterInterface",
        "body": "Currently, the RouterInterface contains only 3 methods: `match`, `generate` and `setContext` (inherited from the other routing interfaces). But Symfony also uses the `getRouteCollection` method (part of the actual implementation) in several places where it uses the router: the `router:debug` and `router:dump-apache` commands. These commands are broken without this method, and using a Dumper is virtually impossible when using only the interface (you cannot get the RouteCollection).nBtw, this method is also a requirement to be able to implement https://github.com/Bazinga/BazingaExposeRoutingBundle (which also uses the method which is not part of the interface).nnI suggest adding the method in the interface to make it possible to accept any implementation of the interface in places asking for the router.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-09-30"
    },
    {
        "issue_id": 1879,
        "assignees": [],
        "lables": [
            "Security",
            "Bug",
            "Easy Pick"
        ],
        "title": "$_format is lost on failure_forward",
        "body": "I've been debugging this for the past few days but to no avail.nnThis is the excerpt from my security file:nn```nsecurity:n    firewalls:n        default_json:n            poshtar_login:n                login_path: /login.jsonn                check_path: /login.jsonn                failure_forward: truen            context: storen            anonymous:  ~n            logout:     { path: /logout }n            pattern:    /.*n            provider:   poshtarn```nnWhat I was able to figure out using a debugger is that the content type for subresponse? is set correctly to json, but sometime later, when responses get merged? and the request is asked again for a format the request returns html as the attributes bag is empty (controller resolver set the proper format in subrequest) so data sent to the browser has a wrong content type.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mvrhov",
        "issue_closed_at": "2012-07-11"
    },
    {
        "issue_id": 1856,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpKernel"
        ],
        "title": "[Profiler] SqliteProfilerStorage - maximum execution time of 30 seconds exceeded",
        "body": "Hi,nnJust to notice you that we get the following error:nn```nFatal error: Maximum execution time of 30 seconds exceeded in /path/to/project/vendor/symfony/src/Symfony/Component/HttpKernel/Profiler/SqliteProfilerStorage.php on line 65n```nnIt often appears, that's why I reported it but I'm not able to provide a test case which can reproduces this error.nAre you aware of this kind of error ?nnRegards,nWilliamnnEdit: PR sent https://github.com/symfony/symfony/pull/1864n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "willdurand",
        "issue_closed_at": "2011-08-31"
    },
    {
        "issue_id": 1846,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "Endless loading with gzip",
        "body": "My website pages are loading in an endless loop since RC6. (The RC4 is ok)nWhen I remove compression algorithms (gzip, deflate) from my browser http accept encoding, the problem no longer appears.nnIt seems that the generated `Content-Length` is buggy in `SymfonyComponentHttpFoundationResponse::prepare`nMy actual workaround is to comment this `Content-Length` setting.nnI'm using IIS 7.0n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "krevindiou",
        "issue_closed_at": "2011-08-13"
    },
    {
        "issue_id": 1813,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation",
            "Easy Pick"
        ],
        "title": "http basic authentication broken with PHP as cgi/fastCGI under Apache",
        "body": "The keys PHP_AUTH_USER and PHP_AUTH_PW are not present in the superglobal $_SERVER, so http basic authentication needs to be handled a little differently.nnThis also affects functional tests which require http basic auth to authenticate.nnBasically the workaround is two parts:n1. A rewrite rule to pack the username and password into an environment variable:n   n   <IfModule mod_rewrite.c>n       RewriteEngine onn       RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]n   </IfModule>n2. Extract the info from the environment variable:n   n   list($_SERVER['PHP_AUTH_USER'], $_SERVER['PHP_AUTH_PW']) = explode(':' , base64_decode(substr($_SERVER['HTTP_AUTHORIZATION'], 6)));nnSee below for more details.nnhttp://orangejuiceliberationfront.com/http-auth-with-php-in-cgi-mode-e-g-on-dreamhost/nhttp://www.besthostratings.com/articles/http-auth-php-cgi.htmln",
        "issue_comments": 14,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "keymaster",
        "issue_closed_at": "2012-05-21"
    },
    {
        "issue_id": 1810,
        "assignees": [],
        "lables": [
            "Form",
            "Bug",
            "Easy Pick"
        ],
        "title": "[Form][DelegatingValidator] Conflict between a field and collection field with the same name",
        "body": "Use case : http://gist.github.com/1106538nnWhen the Entry u201dtitleu201d input value is blank, the form error is rendered next to the title input field of the u201dspecsu201d field instead of the title one.nnIn the EntrySpecType, If i change the name of the title field to u201dwhateverisnotitleu201d, everything goes fine, and i assure you i've just changed that ! ;-)nnThat's a bit inconvenient.n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "benjamindulau",
        "issue_closed_at": "2012-04-23"
    },
    {
        "issue_id": 1798,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "infinite loop when deleting a logged user from the database or disabling it",
        "body": "If I delete the logged user from the database (in my case, it was because I cleared the database by reloading the fixtures), the next request sent to the site will try to authenticate this user in the ContextListener (as the browser still has the cookie) and fail (as the user does not exist anymore). But the cookie is not deleted. This leads to some weird behavior in some cases:n- remove the user from the database (without clearing the cookie in your browser)n- go to the signup page and recreate the user with this username, but as a disabled user (waiting for a confirmation sent through a mail)n- the next requests will redirect to the login page because it finds the user again but disabled, which throws an AuthenticationException (and then an infinite loop as the same occur for the request to the login page).nnIf the cookie were removed when the user cannot be reloaded (not found or disabled), the next requests would match an anonymous token which would work.n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-11-10"
    },
    {
        "issue_id": 1797,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "RC6 : Error with ServerBag and basic authentication",
        "body": "Since i updated my project from RC4 i've got an error :nn```nErrorException: Notice: Undefined index: PHP_AUTH_PW in C:UwAmpwwwSymfonyvendorsymfonysrcSymfonyComponentHttpFoundationServerBag.php line 40nn```nnThe problem is that i use an ntlm module for authentification that obviously does not set the PHP_AUTH_PW since it don't know it :)nnYou sould add an isset on this parameter on line 39 in serverbag.nnAnd surely another modification may be needed in line 74 of basicauthenticationlistenern",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Tolriq",
        "issue_closed_at": "2011-07-26"
    },
    {
        "issue_id": 1777,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "ContainerBuilder->get('monolog.logger') function throws a ReflectionException: Class does not exist",
        "body": "With a CompilerPassInterface, ContainerBuilder->get() function didn't retrieve the parent class of a service.nnExemple:nI want to use the monolog logger service defines like this :nn```n// vendorsymfonysrcSymfonyBundleMonologBundleResourcesconfigmonolog.xmln...n<services>n    <service id=u201dmonolog.loggeru201d parent=u201dmonolog.logger_prototypeu201d public=u201dfalseu201d>n        <argument index=u201d0u201d>app</argument>n    </service>nn    <service id=u201dloggeru201d alias=u201dmonolog.loggeru201d />nn    <service id=u201dmonolog.logger_prototypeu201d class=u201d%monolog.logger.class%u201d abstract=u201dtrueu201d>n        <argument /><!-- Channel -->n    </service>n</services>n...n```nnI create a new bundle with a compiler pass:nn```n<?phpn// src/MyProject/MyBundle/MyProjectMyBundle.phpnnnamespace MyProjectMyBundle;nnuse SymfonyComponentHttpKernelBundleBundle;nuse SymfonyComponentDependencyInjectionContainerBuilder;nuse MyProjectMyBundleDependencyInjectionCompilerAddDependencyCallsPass;nnclass MenoCronBundle extends Bundlen{n    public function build(ContainerBuilder $container)n    {n        parent::build($container);n        $container->addCompilerPass(new AddDependencyCallsPass());n    }n}n```n## nn```n<?phpn// src/MyProject/MyBundle/DependencyInjection/Compiler/AddDependencyCallsPass.php;nnnamespace MyProjectMyBundleDependencyInjectionCompiler;nnuse SymfonyComponentDependencyInjectionContainerBuilder;nuse SymfonyComponentDependencyInjectionCompilerCompilerPassInterface;nnclass AddDependencyCallsPass implements CompilerPassInterfacen{n    public function process(ContainerBuilder $container)n    {n        $logger = $container->get('monolog.logger');n    }n}n```nnWhen I load a page, I've got this exception because class parameter is null.nn```nReflectionException: Class does not existnnin C:varwwwSymfonyvendorsymfonysrcSymfonyComponentDependencyInjectionContainerBuilder.php line 735nat ReflectionClass->__construct() in C:varwwwSymfonyvendorsymfonysrcSymfonyComponentDependencyInjectionContainerBuilder.php line 735nat ContainerBuilder->createService() in C:varwwwSymfonyvendorsymfonysrcSymfonyComponentDependencyInjectionContainerBuilder.php line 338nat ContainerBuilder->get() in C:varwwwSymfonysrcMyProjectMyBundleDependencyInjectionCompilerAddDependencyCallsPass.php line 33nat AddDependencyCallsPass->process() in C:varwwwSymfonyvendorsymfonysrcSymfonyComponentDependencyInjectionCompilerCompiler.php line 119nat Compiler->compile() in C:varwwwSymfonyvendorsymfonysrcSymfonyComponentDependencyInjectionContainerBuilder.php line 436nat ContainerBuilder->compile() in C:varwwwSymfonyappbootstrap.php.cache line 888nat Kernel->buildContainer() in C:varwwwSymfonyappbootstrap.php.cache line 799nat Kernel->initializeContainer() in C:varwwwSymfonyappbootstrap.php.cache line 533nat Kernel->boot() in C:varwwwSymfonyappbootstrap.php.cache line 564nat Kernel->handle() in C:varwwwSymfonywebapp_dev.php line 20n```nnWhen I call directly the prototype, no exception is thrown.n$container->get('monolog.logger_prototype');n",
        "issue_comments": 15,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "Abhoryo",
        "issue_closed_at": "2013-04-21"
    },
    {
        "issue_id": 1759,
        "assignees": [],
        "lables": [
            "Bug",
            "HttpFoundation"
        ],
        "title": "500 page Warning: session_start(): The session id is too long or contains illegal characters, valid characters are a-z, A-Z, 0-9",
        "body": "Whenever starting with an incognito or clean cache browser in any app in any browsernnI am getting Warning: session_start(): The session id is too long or contains illegal characters, valid characters are a-z, A-Z, 0-9nnWhenever reloading it works and also whenever I try to debug with phpstorm it gives no problems, however this is a problem because whenever i use sahi and try to test it blocks because of this issuennhttp://www.craftitonline.com/2011/07/symfony2-keep-your-project-guided-with-behat-and-mink/ see below at the bottom for commentsnnseveral users are experiencing this besides me so it is not confined to me alonennThanksn",
        "issue_comments": 45,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "cordoval",
        "issue_closed_at": "2011-07-21"
    },
    {
        "issue_id": 1746,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "Supporting objects in the CollectionType",
        "body": "Currently the CollectionType adds the new items as array. It should supports creating new objects to handle the case of collections of objects instead of collections of scalars.n",
        "issue_comments": 0,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-07-22"
    },
    {
        "issue_id": 1730,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] pattern in Date Field is ignored",
        "body": "I revers the choices :nn<pre>n        $builder->add('dob', 'birthday', array(n            'widget'  => 'choice',n            'pattern' => '{{ day }} - {{ month }} - {{ year }}'n        ));n</pre>nnwith or without php_intl, pattern is ignored, the only way is to specify locale in intl's option in php.inin",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "NicolasBadey",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 1726,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Client insulation in functional tests is broken",
        "body": "In `SymfonyBundleFrameworkBundleClient`:nn```n    protected function getScript($request)n    {n        $kernel = serialize($this->kernel);n        $request = serialize($request);nn        $r = new ReflectionObject($this->kernel);n        $path = $r->getFileName();nn        return <<<EOFn<?phpnnrequire_once '$path';nn$kernel = unserialize('$kernel');n$kernel->boot();necho serialize($kernel->handle(unserialize('$request')));nEOF;n    }n```nnNow, the Kernel needs the autoloader to work but it's not loaded here.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "fabpot",
        "issue_closed_at": "2012-07-01"
    },
    {
        "issue_id": 1692,
        "assignees": [],
        "lables": [
            "Form",
            "Enhancement",
            "Easy Pick"
        ],
        "title": "[Form][Guesser] Symfony should guess a better field type for Doctrine 'array' type",
        "body": "Currently defaults to a textbox which just displays 'Array'.n",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "lmcd",
        "issue_closed_at": "2012-04-19"
    },
    {
        "issue_id": 1675,
        "assignees": [],
        "lables": [
            "Bug",
            "Routing"
        ],
        "title": "[Routing] Bug using the requirement _method",
        "body": "Hi,nIt's my first post on GitHub, I may miss something to classify things corectly.nnI've created a route using yaml, with a method requirement :n_admin_sector_delete:n    pattern:  /admin/sector/{id}/deleten    defaults: { _controller: u201dSicoStockBundle:Sector:deleteu201d }n    requirements: n      _method : POSTnnI have the error : Fatal error: Label 'not__admin_sector_delete' already defined in /var/www/sico2/app/cache/dev/appdevUrlMatcher.php on line 229 nnWhen I remove the requirements, it works ok (but also using GET of course). nwhen I use php app/console router:debug, I have no error.nnIt may be related to this post : https://github.com/symfony/symfony/commit/c536797cc9ee81986210cbcfbaf6c8337dfdad9enbut my RC4 distribution has already removed this optimizationn",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "nicolas-zozol",
        "issue_closed_at": "2011-07-27"
    },
    {
        "issue_id": 1635,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug",
            "Doctrine"
        ],
        "title": "`@UniqueEntity` not handling composite key made of related entity",
        "body": "`@UniqueEntity` doesn't properly handle composite keys when one of them is a related entity. The database throws `Integrity constraint violation: 1062 Duplicate entry` when trying to persist an entity with the same company and name as an already existing one. Expected behavior is that `@UniqueEntity`'s validator blocks persisting the (duplicate) entity. Here's such an entity to illustrate the issue:nn```n/**n * @ORMEntityn * @ORMTable(name=u201dmy_useru201d,n *  uniqueConstraints={@ORMUniqueConstraint(columns={n *      u201dcompany_idu201d, u201dnameu201dn *  })}n * )n * @UniqueEntity(fields={u201dcompanyu201d, u201dnameu201d})n */nclass MyUser {nn    /**n     * @ORMColumn(name=u201didu201d, type=u201dintegeru201d, nullable=false)n     * @ORMIdn     * @ORMGeneratedValue(strategy=u201dAUTOu201d)n     */n    protected $id;nn    /**n     * @ORMManyToOne(targetEntity=u201dCompanyu201d, inversedBy=u201dmyUsersu201d)n     * @ORMJoinColumn(name=u201dcompany_idu201d, referencedColumnName=u201didu201d, nullable=false)n     * @AssertNotNulln     */n    protected $company;nn    /**n     * @ORMColumn(name=u201dnameu201d, type=u201dstringu201d, nullable=false)n     * @AssertNotBlankn     */n    protected $name;nn    // setters and getters omittednn}n```n",
        "issue_comments": 18,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "craue",
        "issue_closed_at": "2011-10-15"
    },
    {
        "issue_id": 1607,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "incomplete date field validation",
        "body": "A mandatory date form field (consisting of three select parts for day, month, year; with `empty_value` defined) is considered as valid server-side if a value for at least one of the three parts is chosen. This results in `1970-01-01` if only day `1` is selected while the other fields are left empty. Client-side HTML5 form validation correctly wants all three parts to be filled which means you have to override it to test this.nnSame may apply to time and date/time fields, but I haven't tested that yet.n",
        "issue_comments": 13,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "craue",
        "issue_closed_at": "2012-01-17"
    },
    {
        "issue_id": 1588,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "[Security&Session] Bug: Session token is not refreshed upon change of user data",
        "body": "Changing user data does not reflect in the (session) token.nnUse-case (reverse this for a possible security vulnerability):n1) Login (non-admin) usern2) Through some action, add ROLE_ADMIN to user, persistn3) Role ROLE_ADMIN prerequisite actions are unavailable until logout+loginnnProblem:nRole requirements are taken from session, which holds serialized state of SomeToken. SomeToken is created upon successful u201dlogin_checku201d, being immutable afterwards (until next signin)n",
        "issue_comments": 8,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "helmer",
        "issue_closed_at": "2011-07-19"
    },
    {
        "issue_id": 1579,
        "assignees": [],
        "lables": [
            "Bug",
            "DomCrawler"
        ],
        "title": "[DomCrawler] support for foo[] fields",
        "body": "The current DomCrawler component does not support field names that end in `[]`:nn``` phpn<?phpnn$form['favorite_colors[]'] = array('red', 'orange', 'yellow');n$form['favorite_colors[]'][] = 'purple';n```n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "kriswallsmith",
        "issue_closed_at": "2012-01-24"
    },
    {
        "issue_id": 1540,
        "assignees": [
            "webmozart"
        ],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][Collection] Collection type is broken",
        "body": "The collection type is broken when using it for the inversed side of a Doctrine relation as it modifies the collection instead of calling some setter in the class. As Doctrine does not track changes in the inversed side, the changes are not persisted.nnThe best practice for Doctrine is to call the setter of the owning side in the setter of the inversed side. But as the setter is not called, this has no effect for the forms. And there is currently no way to change this behavior in user-land forms.nnI suggested in #1141 to allow defining the setter used. A collection type should then call `addXXX` and `removeXXX` on the object instead of modifying the collection to allow having additionnal logic when adding and removing elements.n",
        "issue_comments": 67,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2012-02-02"
    },
    {
        "issue_id": 1506,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Exception after removing twig template file in dev mode",
        "body": "The bootstrap cache tries to evaluate whether a file is outdated using filemtime, which obviously fails if the file has been deleted:nnVersion: Symfony RC3nnErrorException: Warning: filemtime() [<a href='function.filemtime'>function.filemtime</a>]: stat failed for D:SymfonysrcXXXYYYBundle/Resources/views/Front/stories.html.twig in D:SymfonyvendorsymfonysrcSymfonyBundleFrameworkBundleTemplatingLoaderFilesystemLoader.php line 68 (uncaught exception) at D:Symfonyappbootstrap.php.cache line 528 n",
        "issue_comments": 14,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mruflin",
        "issue_closed_at": "2011-09-03"
    },
    {
        "issue_id": 1499,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form][Collection] Validating and persisting embedded collection of forms",
        "body": "I have two entities in my Bundle, `Poll` and `Answer`.nWhen creating a poll you can assign multiple answers to it. nnPoll has a one-to-many relationship with Answer and this is inverted by Answer.nnSo Poll object has a protected property `Poll::$answers` with is an ArrayCollection and the Answer object has a protected property `Answer::$poll` which is a `Poll` object.nnWith a single form i want to be able to save the poll and the answers all in one go.nnProgrammatically saving a new poll with two answers works perfect, all three instances are persisted in the database:nn```n$poll = new Poll();n$poll->setBody('What is your gender?');n$poll->addAnswer( new Answer(u201dMaleu201d) );n$poll->addAnswer( new Answer(u201dFemaleu201d) );nn$em = $this->getDoctrine()->getEntityManager();n$em->persist($poll);n$em->flush();n```nnBut when i create a new Poll form with two answers by default and the user fills in all form fields i get an error message saying **This form should not contain extra fields**:nn```n$entity = new Poll();n$entity->addAnswer( new Answer() );n$entity->addAnswer( new Answer() );nn$form   = $this->createForm(new PollType(), $entity);nnreturn array(n    'entity' => $entity,n    'form'   => $form->createView()n);n```n",
        "issue_comments": 3,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "nrocco",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 1498,
        "assignees": [],
        "lables": [
            "Bug",
            "Console"
        ],
        "title": "Functional testing of commands not working",
        "body": "I'm using the following code for the functional testing of a console command, but somehow it does not find my command:nn``` phpnuse SymfonyComponentConsoleTesterCommandTester;nuse SymfonyBundleFrameworkBundleConsoleApplication;nnrequire_once './app/AppKernel.php';nnclass FunctionTest extends PHPUnit_Framework_TestCasen{n    public function testCreation()n    {n        $kernel = new AppKernel('test', true);n        $application = new Application($kernel);n        $command = $application->find('portal:user:create');n//         $command_tester = new CommandTester($command);n//         $command_tester->execute(array('command' => $command->getFullName()));n//         $this->assertRegExp('/.../', $command_tester->getDisplay());        n    }n}n```nnWhen executing this test, it throws an exception:n**InvalidArgumentException: There are no commands defined in the u201dportal:useru201d namespace.**nnListing all available command with:nn``` phpn$application->all();n```nndelivers an array containing **list** and **help**, so even the commands of the standard app/console are missing.nnIf I call app/console to execute my command (or any other of the core console), it works perfectly.nnIs this a bug or am I doing something wrong?nnI'm using Symfony 2 RC3 with PHP 5.3.2 on Ubuntu 10.04.2 LTS.n",
        "issue_comments": 11,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "jepf",
        "issue_closed_at": "2011-09-18"
    },
    {
        "issue_id": 1497,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "Pull #1188 breaks nested collections.",
        "body": "The script wrapper for prototypes from Pull#1188 creates problems for nested collections.nnIt will put a &lt;script&gt;&lt;/script&gt; within a &lt;script&gt;&lt;/script&gt; causing the closing tag of the second embedded prototype to close the first prototype.nnSee below for some POC code that replicates the issue:n# Using RC3n## Controllernn``` phpnnamespace AcmeBugBundleController;nnusen    SymfonyBundleFrameworkBundleControllerController,n    SensioBundleFrameworkExtraBundleConfiguration as Extran    ;nnusen    AcmeBugBundleFormTypeLevel1Type;nnnclass DefaultController extends Controllern{nn    /**n     * @ExtraTemplate()n     */n    public function indexAction()n    {n        $form = $this->get('form.factory')->create(new Level1Type());nn        return array(n            'form' => $form->createView(), );n    }n}n```n## Templatenn``` twign{{ form_widget(form) }}n<input type=u201dsubmitu201d value=u201dsubmitu201d />n```n## Level1Typenn``` phpnnamespace AcmeBugBundleFormType;nnusen    SymfonyComponentFormAbstractType,n    SymfonyComponentFormFormBuildern    ;nnclass Level1Type extends AbstractTypen{n    public function buildForm(FormBuilder $builder, array $options)n    {n        $buildern            ->add('startlevel1', 'text')n            ->add('level2', 'collection', array(n                'type' => new Level2Type(),n                'allow_add' => true, ))n            ->add('endlevel1', 'text')n            ;n    }n}n```n## Level2Typenn``` phpnnamespace AcmeBugBundleFormType;nnusen    SymfonyComponentFormAbstractType,n    SymfonyComponentFormFormBuildern    ;nnclass Level2Type extends AbstractTypen{n    public function buildForm(FormBuilder $builder, array $options)n    {n        $buildern            ->add('startlevel2', 'text')n            ->add('level3', 'collection', array(n                'type' => new Level3Type(),n                'allow_add' => true, ))n            ->add('endlevel2', 'text')n            ;n    }n}n```n## Level3Typenn``` phpnnamespace AcmeBugBundleFormType;nnusen    SymfonyComponentFormAbstractType,n    SymfonyComponentFormFormBuildern    ;nnclass Level3Type extends AbstractTypen{n    public function buildForm(FormBuilder $builder, array $options)n    {n        $buildern            ->add('startlevel3', 'text')n            ;n    }           n} n```n## generated markupnn``` htmln<div id=u201dlevel1u201d><input type=u201dhiddenu201d id=u201dlevel1__tokenu201d name=u201dlevel1[_token]u201d value=u201dbad35568f69514b59265a4ff15b04548f6168658u201d /><div><label for=u201dlevel1_startlevel1u201d>Startlevel1</label><input type=u201dtextu201d id=u201dlevel1_startlevel1u201d name=u201dlevel1[startlevel1]u201d required=u201drequiredu201d value=u201du201d /></div><div><label >Level2</label><div id=u201dlevel1_level2u201d><script type=u201dtext/htmlu201d id=u201dlevel1_level2_prototypeu201d><div><label >$$name$$</label><div id=u201dlevel1_level2_$$name$$u201d><div><label for=u201dlevel1_level2_$$name$$_startlevel2u201d>Startlevel2</label><input type=u201dtextu201d id=u201dlevel1_level2_$$name$$_startlevel2u201d name=u201dlevel1[level2][$$name$$][startlevel2]u201d required=u201drequiredu201d value=u201du201d /></div><div><label >Level3</label><div id=u201dlevel1_level2_$$name$$_level3u201d><script type=u201dtext/htmlu201d id=u201dlevel1_level2_$$name$$_level3_prototypeu201d><div><label >$$name$$</label><div id=u201dlevel1_level2_$$name$$_level3_$$name$$u201d><div><label for=u201dlevel1_level2_$$name$$_level3_$$name$$_startlevel3u201d>Startlevel3</label><input type=u201dtextu201d id=u201dlevel1_level2_$$name$$_level3_$$name$$_startlevel3u201d name=u201dlevel1[level2][$$name$$][level3][$$name$$][startlevel3]u201d required=u201drequiredu201d value=u201du201d /></div></div></div></script></div></div><div><label for=u201dlevel1_level2_$$name$$_endlevel2u201d>Endlevel2</label><input type=u201dtextu201d id=u201dlevel1_level2_$$name$$_endlevel2u201d name=u201dlevel1[level2][$$name$$][endlevel2]u201d required=u201drequiredu201d value=u201du201d /></div></div></div></script></div></div><div><label for=u201dlevel1_endlevel1u201d>Endlevel1</label><input type=u201dtextu201d id=u201dlevel1_endlevel1u201d name=u201dlevel1[endlevel1]u201d required=u201drequiredu201d value=u201du201d /></div></div>n<input type=u201dsubmitu201d value=u201dsubmitu201d />n```n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "blauwers",
        "issue_closed_at": "2011-07-22"
    },
    {
        "issue_id": 1417,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Setting to null or empty string a nullable column of a u201dproxyfiedu201d entity",
        "body": "My User entity used by SecurityBundle refers to a CustomerAccount. Afetr login, CustomerAccount entity (the one of logged user) is proxyfied by Doctrine.nnIn a form, i try to put the empty string value to a column (companyName) that is nullable... But this emptied value is never persisted to DB... I can empty the value for the CustomerAccount of another user that the logged one, by loading with EntityRepository. But it never works for a proxyfied entity....nnHere is a test class taht shows the bug. First test successes, but not the second one....nn``` phpnn<?phpnnnamespace CompanySellerBundleTestsBugs;nnuse CompanyComponentTestSellerWebTestCase;nn/**n * @group bugsn */nclass TestModeProxyBugTest extends SellerWebTestCasen{nn   public function setUp()n   {n      parent::setUp();n      $this->setEbayFreeUser();nn      $ca = $this->em->getRepository('CompanySellerBundleEntityCustomerAccount')n                     ->findOneBy(array ('email' => self::EBAY_FREE_USER_EMAIL));n      $ca->setCompanyName('company');n      $this->em->persist($ca);n      $this->em->flush();n   }nn   public function testNullAffectationOnNonProxyEntity()n   {n      $ca = $this->em->getRepository('CompanySellerBundleEntityCustomerAccount')n                     ->findOneBy(array ('email' => self::EBAY_FREE_USER_EMAIL));nn      $this->assertTrue('company' === $ca->getCompanyName());nn      $ca->setCompanyName(null);n      $this->em->persist($ca);n      $this->em->flush();nn      $ca = $this->em->getRepository('CompanySellerBundleEntityCustomerAccount')n                     ->findOneBy(array ('email' => self::EBAY_FREE_USER_EMAIL));nn      $this->assertTrue(null === $ca->getCompanyName());nn      $ca->setCompanyName('company');n      $this->em->persist($ca);n      $this->em->flush();nn      //$this->em->clear();nn      $ca = $this->em->getRepository('CompanySellerBundleEntityCustomerAccount')n                     ->findOneBy(array ('email' => self::EBAY_FREE_USER_EMAIL));nn      $this->assertTrue('company' === $ca->getCompanyName());n   }nn   public function testNullAffectationOnProxyEntity()n   {n      $crawler = $this->client->request('GET', $this->client->getContainer()->get('router')->generate('_home'));n      $this->assertIdTag('_security_login', $crawler);nn      $form = $crawler->selectButton('loginFormSubmit')->form();n      $form['login[loginName]'] = self::EBAY_FREE_USER_EMAIL;n      $form['login[password]'] = self::EBAY_FREE_USER_EMAIL;n      $crawler = $this->client->submit($form);nn      sleep(5);nn      $this->assertIdTag('_home', $crawler);nn      $user = $this->client->getContainer()->get('security.context')->getToken()->getUser();nn      $ca = $user->getCustomerAccount();nn      $this->assertTrue('company' === $ca->getCompanyName());nn      $ca->setCompanyName(null);n      $this->em->persist($ca);nn      //TODO: Vu00e9rifier la correction du bug...n      // La ligne ci-dessous ($this->em->flush();) lance une InvalidArgumentExceptionn      // => buf Sf2 (https://github.com/symfony/symfony/issues/1417)n      $this->setExpectedException('InvalidArgumentException');n      $this->em->flush();nn      $ca = $this->em->getRepository('CompanySellerBundleEntityCustomerAccount')->findOneBy(array ('customerAccountId' => $customerAccountId));nn      $this->assertTrue(null === $ca->getCompanyName());nn      $ca->setCompanyName('company');n      $this->em->persist($ca);n      $this->em->flush();nn      //$this->em->clear();nn      $ca = $this->em->getRepository('CompanySellerBundleEntityCustomerAccount')->findOneBy(array ('customerAccountId' => $customerAccountId));nn      $this->assertTrue('company' === $ca->getCompanyName());n   }nn}nn/*************************************************************************************/nn```n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "alterphp",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 1359,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "Login Form's u201d_target_pathu201d assumes paths to be relative",
        "body": "My login form (which resides at `/MyApp/web/admin/login`) contains:nn```n<input type=u201dhiddenu201d name=u201d_target_pathu201d value=u201d{{ path('admin.home') }}u201d />n```nn(`/MyApp/web/admin/` is the value for `_target_path`).nnSymfony instead redirects to `/MyApp/web/MyApp/web/admin`.  (Basically, _base path_ + _redirect path_)nnIn short, the redirect doesn't work correctly if you have a Symfony application in a nested folder of another site.nnChecking for a `/` prefix would suffice.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "ericclemmons",
        "issue_closed_at": "2011-06-18"
    },
    {
        "issue_id": 1177,
        "assignees": [],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "[Form] Bind: clientData not updated if parent is u201dformu201d",
        "body": "Inside bind() function, clientData is updated for every children if transformer data does not throw exception. It's work only if parent's child is u201dfieldu201d (Ex: It works with IntegerType but not with DateType)nn``` phpn$form = $this->get('form.factory')n->createBuilder('form', $car)n->add('category', 'my_type')n->getForm();nn$form_view = $form->createView();n```nnparent's my_type is u201dformu201d (getParent() returns u201dformu201d). my_tape adds two fields: u201dkeyu201d and u201dtextu201d. my_type has a client converter which tranforms object entity to array (keys:  u201dkeyu201d and u201dtextu201d)nnIf a user sends u201dform[category][key] = 1 and form[category][text] = cat2nAFTER the call of bind() function, my form object looks like :nn|--clientDatan|-----categoryn|----------id              [Value: 1]n|----------name               [Value: cat1]n|--childrenn|-----categoryn|----------clientDatan|---------------key               [Value: 1]n|---------------text               [Value: cat1 (Good value. transform() function updated this value)]n|----------chilidrenn|--------------keyn|-------------------clientData              [Value: 1]n|--------------textn|-------------------clientData              [Value: cat2 (Bad value - Old value. Value sent by user)]nn And my form_view object looks like:nn|--childrenn|-----categoryn|---------varsn|---------------valuen|--------------------key              [ Value:1]n|--------------------text               [Value: cat1 (Good value. transform() function updated this value)]n|----------chilidrenn|---------------keyn|--------------------varsn|-------------------------value               [Value: 1]n|---------------textn|--------------------varsn|-------------------------value              [ Value: cat2 (Bad value - Old value. Value sent by user)]nnIt's a problem because form_widget() function uses u201dform.children.text.vars.valueu201d value (the bad value).n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "hlecorche",
        "issue_closed_at": "2012-02-10"
    },
    {
        "issue_id": 1114,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Lifetime of the session is not reset when accessing a secured page",
        "body": "After the login, the firewall will store the token in the session. This triggers a change in the session which updates the expiration time of the cookie. But when accessing another secured page after that, it is not updated again. This means that a user which logs in and navigates in the secured area of the site will be logged out after 1 hour (assuming the session has a lifetime configured to 1 hour) even if his latest action is only a few minutes old.n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-06-06"
    },
    {
        "issue_id": 1083,
        "assignees": [],
        "lables": [
            "Bug",
            "Doctrine"
        ],
        "title": "doctrine:generate:entities AnnotationException (b2/master)",
        "body": "Hi,nntoday I updated from sf2 b1 to b2 SE and updated to the master branch.nOf cause I read about the changed use of annotations in the update file and modified my creation script.nBut now I can't generate my entities based on the database anymore.nnThe following command is executed like expected and generates all the entity files in my projects entity folder:nn```nphp app/console doctrine:mapping:import u201dMyXBundleu201d annotation --em=withport;n```nnThis command fails with the following error message:nn```nphp app/console doctrine:generate:entities MyXBundle/Entity;n```nnError message:nn```n[DoctrineCommonAnnotationsAnnotationException]n[Semantical Error] The annotation u201d@orm:Tableu201d in class MyXBundleEntityXY was never imported.n```nnThe doctrine:mapping:import command still generates old syntax entities.nnThanks for looking into this,nLarsn",
        "issue_comments": 9,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "LaKrue",
        "issue_closed_at": "2011-06-13"
    },
    {
        "issue_id": 1077,
        "assignees": [],
        "lables": [
            "Bug",
            "Doctrine"
        ],
        "title": "Mixing Doctrine and validation annotations doesn't work (beta2)",
        "body": "I'm using beta2. I mixed annotation for validation and mapping like this:nn```nuse DoctrineORMMapping as ORM;nuse SymfonyComponentValidatorConstraints as Assert;n/**n * @ORMEntity()n */nclass Ticketn{n  /** n   * @ORMColumn(type=u201dstringu201d, length=u201d255u201d)n   * @AssertNotBlank()n   */n  private $subject;n}n```nnwhen I first validate and then want to persist object it fails with:n[Semantical Error] The annotation @DoctrineORMMappingEntity in class Ticket does not exist, or could not be auto-loaded.n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "wowo",
        "issue_closed_at": "2011-05-25"
    },
    {
        "issue_id": 1066,
        "assignees": [
            "kriswallsmith"
        ],
        "lables": [
            "Bug"
        ],
        "title": "[Assetic] Requests service of inactive scope",
        "body": "Enabling the Twig extension u201dtwig.extension.assetsu201d causes Assetic to request the service u201drequestu201d while the request scope has not been entered, yet. The result is an InactiveScopeException. This only happens when the container, and the routing have to be re-built during the same request.nn``` ymln# Twig Configurationntwig:n    debug:            %kernel.debug%n    strict_variables: %kernel.debug%n    extensions: [twig.extension.text, twig.extension.assets]n```nn``` ymlnexception:n  -n    message: 'You cannot create a service (u201drequestu201d) of an inactive scope (u201drequestu201d).'n    class: SymfonyComponentDependencyInjectionExceptionInactiveScopeExceptionn    trace:n      - { class: '', type: '', function: '', file: XXX, line: XXX, args: {  } }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, short_class: XXX }n      - { class: SymfonyComponentDependencyInjectionContainer, type: ->, function: get, file: TraceableContainer.php, line: 54, args: [[string, request], [string, '1']] }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, namespace: XXX, short_class: XXX }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, short_class: XXX }n      - { class: SymfonyComponentDependencyInjectionContainer, type: ->, function: get, file: TraceableContainer.php, line: 54, args: [[string, templating.helper.assets], [string, '1']] }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, namespace: XXX, short_class: XXX }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, short_class: XXX }n      - { class: SymfonyComponentDependencyInjectionContainer, type: ->, function: get, file: TraceableContainer.php, line: 54, args: [[string, twig], [string, '1']] }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, namespace: XXX, short_class: XXX }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, short_class: XXX }n      - { class: SymfonyComponentDependencyInjectionContainer, type: ->, function: get, file: TraceableContainer.php, line: 54, args: [[string, assetic.asset_manager], [string, '1']] }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, namespace: XXX, short_class: XXX }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, short_class: XXX }n      - { class: SymfonyComponentDependencyInjectionContainer, type: ->, function: get, file: TraceableContainer.php, line: 54, args: [[string, routing.loader.real], [string, '1']] }n      - { class: XXX, type: XXX, function: XXX, file: XXX, line: XXX, args: {  }, namespace: XXX, short_class: XXX }n      - { class: SymfonyBundleFrameworkBundleRoutingLazyLoader, type: ->, function: load, file: Router.php, line: 97, args: [[string, routing_dev.yml], ['null', null]] }n      - { class: SymfonyComponentRoutingRouter, type: ->, function: getRouteCollection, file: Router.php, line: 172, args: {  } }n      - { class: SymfonyComponentRoutingRouter, type: ->, function: getMatcher, file: RouterCacheWarmer.php, line: 44, args: {  } }n      - { class: SymfonyBundleFrameworkBundleCacheWarmerRouterCacheWarmer, type: ->, function: warmUp, file: CacheWarmerAggregate.php, line: 46, args: [[string, /home/johannes/development/sfdebug/app/cache/dev]] }n      - { class: SymfonyComponentHttpKernelCacheWarmerCacheWarmerAggregate, type: ->, function: warmUp, file: bootstrap.php.cache, line: 805, args: [[string, /home/johannes/development/sfdebug/app/cache/dev]] }n      - { class: SymfonyComponentHttpKernelKernel, type: ->, function: initializeContainer, file: bootstrap.php.cache, line: 595, args: {  } }n      - { class: SymfonyComponentHttpKernelKernel, type: ->, function: boot, file: bootstrap.php.cache, line: 617, args: {  } }n      - { class: SymfonyComponentHttpKernelKernel, type: ->, function: handle, file: app_dev.php, line: 13, args: [[object, SymfonyComponentHttpFoundationRequest]] }n```n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "schmittjoh",
        "issue_closed_at": "2011-05-24"
    },
    {
        "issue_id": 1019,
        "assignees": [],
        "lables": [
            "DependencyInjection",
            "Bug"
        ],
        "title": "configuration loader should detect cyclic references",
        "body": "if i define a configuration cycle (even a close one) i get into an endless recursion in ParameterBag.phpnnit would be nice if symfony could tell me that i am stupid, and the name of the parameter it did not find.nnto reproduce, put this into your config.ymlnnparameters:n    param_name: %param_name%n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "dbu",
        "issue_closed_at": "2011-05-25"
    },
    {
        "issue_id": 917,
        "assignees": [
            "schmittjoh"
        ],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "Firewall onCoreRequest not early enough to prevent exposing 404's",
        "body": "Due to the onCoreRequest ordering, you'll hit a 404 page before thefirewall forces authentication. The authentication listeners rely on being  _after_ the onCoreRequest listener of the framework (for the session).nnConversation on the dev board here: http://groups.google.com/group/symfony-devs/browse_thread/thread/e614e9583b151221#8e1477af567dd310n",
        "issue_comments": 6,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "weaverryan",
        "issue_closed_at": "2011-05-14"
    },
    {
        "issue_id": 897,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "Email validation by way of FILTER_VALIDATE_EMAIL behaves differently depending on PHP version/installation",
        "body": "I am receiving a test error on validating `example@localhost` as an invalid email address. It would appear that `filter_var()` with `FILTER_VALIDATE_EMAIL` may behave differently depending on PHP version?nnI'd be happy to try and fix this but would want direction on how this should behave. I would guess normalizing the results such that user@domain where domain is not fully qualified gets rejected even if it passes the `filter_var()` test.nnhttp://www.php.net/manual/en/filter.filters.validate.phpn",
        "issue_comments": 18,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "simensen",
        "issue_closed_at": "2011-05-14"
    },
    {
        "issue_id": 889,
        "assignees": [
            "webmozart"
        ],
        "lables": [
            "Form",
            "Bug"
        ],
        "title": "EntityChoiceField does not work with grouped choices",
        "body": "If you set the choices explicitly and nest the groups for <optiongroup /> support EntitychoiceList does not work anymore:nn```nException: Entities passed to the choice field must be managed nnat EntityChoiceList ->getIdentifierValues (array(object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category), object(Category)))nin /var/www/eberlei/wsnetbeans/lsl-ff-db/trunk/vendor/symfony/src/Symfony/Bridge/Doctrine/Form/ChoiceList/EntityChoiceList.php at line 166  -+nat EntityChoiceList ->load ()nin /var/www/eberlei/wsnetbeans/lsl-ff-db/trunk/vendor/symfony/src/Symfony/Component/Form/Extension/Core/ChoiceList/ArrayChoiceList.php at line 34  -+nat ArrayChoiceList ->getChoices ()nin /var/www/eberlei/wsnetbeans/lsl-ff-db/trunk/vendor/symfony/src/Symfony/Component/Form/Extension/Core/Type/ChoiceType.php at line 89  -+nat ChoiceType ->buildView (object(FormView), object(Form))nin /var/www/eberlei/wsnetbeans/lsl-ff-db/trunk/vendor/symfony/src/Symfony/Component/Form/Form.php at line 838  -+nat Form ->createView (object(FormView))nin /var/www/eberlei/wsnetbeans/lsl-ff-db/trunk/vendor/symfony/src/Symfony/Component/Form/Form.php at line 846  -+nat Form ->createView ()nin /var/www/eberlei/wsnetbeans/lsl-ff-db/trunk/src/HWS/PlatformBundle/Controller/ProfileController.php at line 102  -n```n",
        "issue_comments": 7,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "beberlei",
        "issue_closed_at": "2011-05-27"
    },
    {
        "issue_id": 865,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "[ACL] AccessDecisionManager doesn't check if voter supports object's class",
        "body": "All methods `decide*` does not call method `$voter->supportsClass()` before voting.n",
        "issue_comments": 4,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "realmfoo",
        "issue_closed_at": "2011-05-14"
    },
    {
        "issue_id": 853,
        "assignees": [],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "[Security] ACL: Ancestors relations regeneration problem",
        "body": "Hi all,nnA couple of days ago I had an issue with the security component. Suddenly, after update some permissions I had this exception:nnu201dNot all parent ids were populated. This implies an integrity problem.u201dnnI tried to track down the issue and finally I think I've found the problem. Method MutableAclProvider::regenerateAncestorRelations doesn't handle the update of the ancestors for the Acl's children. So, if some parent Acl was changed, it will not update relations between this new ancestor and the actual Acl's children. This causes the exception described before.nnLooking at the master version of Symfony, the problem seems to be still there.nnThanks.n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "comfortablynumb",
        "issue_closed_at": "2011-05-14"
    },
    {
        "issue_id": 796,
        "assignees": [],
        "lables": [
            "Validator",
            "Bug"
        ],
        "title": "Validator should not use Reflection to access properties",
        "body": "Validator using reflection to access properties is very bad. The validator should only be able to use public accessors to validator the object, otherwise it fiddles with the iternals of the object, breaking concernsnnThis happens to be a problem when validating unitizalized Doctrine proxies, which is not possible with Validator. We should change this ASAP.n",
        "issue_comments": 5,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "beberlei",
        "issue_closed_at": "2011-06-09"
    },
    {
        "issue_id": 774,
        "assignees": [
            "schmittjoh"
        ],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "[Security] Fix for #772",
        "body": "This change the check used in the security component as the needed one is knowing if the session is activated (to be able to set a value in it), not if a session cookie exist. It fixes #772n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 0,
        "committers": [
            "Christophe Coevoet"
        ],
        "changed_files": 1,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-05-09"
    },
    {
        "issue_id": 772,
        "assignees": [
            "schmittjoh"
        ],
        "lables": [
            "Security",
            "Bug"
        ],
        "title": "[Security] Session target_path not set when the incoming request has no session",
        "body": "`SymfonyComponentSecurityHttpFirewallExceptionListener` only sets the target path when `$request->hasSession()` is true. This is the wrong behavior IMO as it checks if there is a previous session instead of checking if the session is activated in the project (which would be done by checking `null !== $request->getSession()`.nI open the issue as @schmittjoh asked it on IRC saying he needs to check further about this.n",
        "issue_comments": 1,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-05-09"
    },
    {
        "issue_id": 771,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Potential fix for issue #770",
        "body": "For more details please read #770n",
        "issue_comments": 2,
        "pr_comments": 2,
        "pr_review_comments": 0,
        "committers": [
            "Joseph Bielawski"
        ],
        "changed_files": 1,
        "issue_created_by": "stloyd",
        "issue_closed_at": "2011-05-04"
    },
    {
        "issue_id": 770,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "[Routing] Multiple level of prefix don't work anymore",
        "body": "I just updated from PR12 to the current master and I have an issue with the routing: multiple level of importation using prefixes does not work anymore. The cache file look like this:nn```nif (0 === strpos($pathinfo, '/jeux')) {n        if (0 === strpos($pathinfo, '/preview')) {n            // game_preview_quiz_shown            if (0 === strpos($pathinfo, '/jeux/preview/qcm') && preg_match('#^/jeux/preview/qcm/(?P<id>d+)$#x', $pathinfo, $matches)) {n                if ($this->context->getMethod() != 'get') {n                    $allow[] = 'get';n                    goto not_game_preview_quiz_show;n                }n                return array_merge($this->mergeDefaults($matches, array (  '_controller' => 'TolkiendilGameBundleControllerPreviewController::quizAction',)), array('_route' => 'game_preview_quiz_show'));n            }n            not_game_preview_quiz_show:nn    }n```nnThe second line should be `if (0 === strpos($pathinfo, '/jeux/preview')) {`n",
        "issue_comments": 2,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "stof",
        "issue_closed_at": "2011-05-04"
    },
    {
        "issue_id": 769,
        "assignees": [],
        "lables": [
            "Bug"
        ],
        "title": "Segmentation fault (affected 2.0.0PR12 and 2.0.0BETA1)",
        "body": "Hello,nstarting from version 2.0.0PR12 I get segmentation fault even for the demo app contributed with Symfony. The segmentation fault occurs only on Linux server (on Windows one there is no error). The version 2.0.0PR11 is working correctly.nnResult of: strace /usr/local/lsws/fcgi-bin/php53 app.phpn...naccess(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/cache/prod/appprodUrlGenerator.phpu201d, F_OK) = 0nlstat(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/cache/prod/appprodUrlGenerator.phpu201d, {st_mode=S_IFREG|0666, st_size=6410, ...}) = 0nlstat(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/cache/prod/appprodUrlGenerator.phpu201d, {st_mode=S_IFREG|0666, st_size=6410, ...}) = 0nopen(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/cache/prod/appprodUrlGenerator.phpu201d, O_RDONLY) = 5nfstat(5, {st_mode=S_IFREG|0666, st_size=6410, ...}) = 0nfstat(5, {st_mode=S_IFREG|0666, st_size=6410, ...}) = 0nfstat(5, {st_mode=S_IFREG|0666, st_size=6410, ...}) = 0nmmap(NULL, 6410, PROT_READ, MAP_SHARED, 5, 0) = 0x2ba07369d000nopen(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/cache/prod/appprodUrlGenerator.phpu201d, O_RDONLY) = 6nfstat(6, {st_mode=S_IFREG|0666, st_size=6410, ...}) = 0nmmap(NULL, 6410, PROT_READ, MAP_SHARED, 6, 0) = 0x2ba07369f000nmunmap(0x2ba07369f000, 6410)            = 0nclose(6)                                = 0nfcntl(5, F_GETFL)                       = 0x8000 (flags O_RDONLY|O_LARGEFILE)nfstat(5, {st_mode=S_IFREG|0666, st_size=6410, ...}) = 0nmmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ba07369f000nlseek(5, 0, SEEK_CUR)                   = 0nlseek(5, 0, SEEK_SET)                   = 0nread(5, u201d<?phpnn/**n * appprodUrlGeneratou201d..., 4096) = 4096nlseek(5, 4096, SEEK_SET)                = 4096nstat(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/cache/prod/appprodUrlGenerator.phpu201d, {st_mode=S_IFREG|0666, st_size=6410, ...}) = 0nmunmap(0x2ba07369d000, 6410)            = 0nlseek(5, -4096, SEEK_CUR)               = 0nclose(5)                                = 0nmunmap(0x2ba07369f000, 4096)            = 0naccess(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/../vendor/symfony/src/Symfony/Bundle/FrameworkBundle/Controller/RedirectController::urlRedirectAction.phpu201d, F_OK) = -1 ENOENT (No such file or directory)naccess(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/../vendor/bundles/Symfony/Bundle/FrameworkBundle/Controller/RedirectController::urlRedirectAction.phpu201d, F_OK) = -1 ENOENT (No such file or directory)naccess(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/../vendor/symfony/src/Symfony/Bundle/FrameworkBundle/Controller/RedirectController::urlRedirectAction.phpu201d, F_OK) = -1 ENOENT (No such file or directory)naccess(u201d/home/billing/domains/billing.d2.pl/public_html/billing/app/../vendor/bundles/Symfony/Bundle/FrameworkBundle/Controller/RedirectController::urlRedirectAction.phpu201d, F_OK) = -1 ENOENT (No such file or directory)n--- SIGSEGV (Segmentation fault) @ 0 (0) ---n+++ killed by SIGSEGV +++n",
        "issue_comments": 10,
        "pr_comments": null,
        "pr_review_comments": null,
        "committers": [],
        "changed_files": null,
        "issue_created_by": "mtslimak",
        "issue_closed_at": "2011-06-15"
    }
]